(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-903b7074"],{"1d19":function(t,e,n){},"408a":function(t,e,n){var o=n("e330");t.exports=o(1..valueOf)},a735:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("SongSheet",{attrs:{songs:t.songs,trackCount:t.songs.length}})],1)},a=[],c=n("1da1"),i=(n("96cf"),n("acc7")),s=n("365c"),r={name:"",components:{SongSheet:i["a"]},data:function(){return{songs:[]}},props:{},computed:{},watch:{"$route.query":{handler:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$route.query.id){e.next=8;break}return t.songs=[],e.next=4,s["d"].getSingerHotPlayList(t.$route.query.id);case 4:n=e.sent,t.songs=n.songs,e.next=9;break;case 8:console.log("错误 无歌手 id");case 9:case"end":return e.stop()}}),e)})))()},immediate:!0}},methods:{},beforeCreated:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},u=r,l=n("2877"),d=Object(l["a"])(u,o,a,!1,null,"dd40c7a8",null);e["default"]=d.exports},a9e3:function(t,e,n){"use strict";var o=n("83ab"),a=n("da84"),c=n("e330"),i=n("94ca"),s=n("6eeb"),r=n("1a2d"),u=n("7156"),l=n("3a9b"),d=n("d9b5"),f=n("c04e"),h=n("d039"),p=n("241c").f,g=n("06cf").f,m=n("9bf2").f,b=n("408a"),v=n("58a8").trim,w="Number",y=a[w],I=y.prototype,_=a.TypeError,k=c("".slice),S=c("".charCodeAt),C=function(t){var e=f(t,"number");return"bigint"==typeof e?e:x(e)},x=function(t){var e,n,o,a,c,i,s,r,u=f(t,"number");if(d(u))throw _("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=v(u),e=S(u,0),43===e||45===e){if(n=S(u,2),88===n||120===n)return NaN}else if(48===e){switch(S(u,1)){case 66:case 98:o=2,a=49;break;case 79:case 111:o=8,a=55;break;default:return+u}for(c=k(u,2),i=c.length,s=0;s<i;s++)if(r=S(c,s),r<48||r>a)return NaN;return parseInt(c,o)}return+u};if(i(w,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var N,E=function(t){var e=arguments.length<1?0:y(C(t)),n=this;return l(I,n)&&h((function(){b(n)}))?u(Object(e),n,E):e},$=o?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),O=0;$.length>O;O++)r(y,N=$[O])&&!r(E,N)&&m(E,N,g(y,N));E.prototype=I,I.constructor=E,s(a,w,E)}},aad1:function(t,e,n){"use strict";n("1d19")},acc7:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"song-sheet"},[n("div",{staticClass:"s-top"},[n("h3",[t._v("歌曲列表")]),n("span",[t._v(t._s(t.trackCount)+"首歌")]),t.playCount?n("div",[t._v(" 播放: "),n("strong",[t._v(t._s(t.playCount))]),t._v(" 次 ")]):t._e()]),n("div",{staticClass:"sheet-table-wrap"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:0==t.songs.length,expression:"songs.length == 0"}],ref:"sheettable",staticStyle:{width:"100%"},attrs:{data:t.songs,"element-loading-text":"拼命加载中",stripe:""},on:{"row-click":t.rowClick}},[n("el-table-column",{attrs:{label:"操作",width:t.c1},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"operation"},[n("span",[t._v(" "+t._s(e.$index+1))]),n("i",{staticClass:"iconfont icon-bofang",attrs:{title:"播放"},on:{click:function(n){return n.stopPropagation(),t.btnBf(e.$index)}}}),n("i",{staticClass:"iconfont icon-xiazai"})])]}}])}),n("el-table-column",{attrs:{label:"歌曲标题","show-overflow-tooltip":"",width:t.c2},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" "),e.row.mv?n("a",{staticStyle:{"font-size":"18px",position:"relative",top:"1px",color:"rgb(236, 65, 65)"},attrs:{href:"javascript:void(0)"},on:{click:function(n){return n.preventDefault(),t.gotoMv(e.row.mv)}}},[n("i",{staticClass:"iconfont icon-MV"})]):t._e()]}}])}),n("el-table-column",{attrs:{label:"时间",width:t.c3},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.formatTime(e.row.dt/1e3))+" ")]}}])}),n("el-table-column",{attrs:{label:"歌手",width:t.c4,"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.ar?n("div",t._l(e.row.ar,(function(e,o){return n("router-link",{key:e.id+o,attrs:{to:"/singer?id="+e.id}},[t._v(" "+t._s(0!=o?"|":"")+" "+t._s(e.name)+" ")])})),1):t._e()]}}])}),n("el-table-column",{attrs:{label:"专辑",width:t.c5,"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-link",{attrs:{to:"/album?id="+e.row.al.id}},[t._v(" "+t._s(e.row.al.name)+" ")])]}}])}),t.c6IsShow?n("el-table-column",{attrs:{label:"次数",width:160,"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(" "+t._s(e.row.recordPlayCount)+" ")])]}}],null,!1,4166948044)}):t._e()],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.menuIsShow,expression:"menuIsShow"}],ref:"menu",staticClass:"menu"},[n("ul",[n("li",{on:{click:t.bofang}},[n("i",{staticClass:"iconfont icon-bofang"}),t._v(" 立即播放 ")]),n("li",{staticClass:"next-bofang",on:{click:t.nextBofang}},[n("i",{staticClass:"iconfont icon-bofang1"}),t._v(" 下一首播放 ")]),n("li",{on:{click:t.collectSongClicked}},[n("i",{staticClass:"iconfont icon-shoucang"}),t._v(" 收藏到歌单 ")]),t._m(0),t.isMeCreated?n("li",{on:{click:t.deleteSong}},[n("i",{staticClass:"iconfont icon-shanchu"}),t._v(" 从歌单中移除 ")]):t._e()])])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("i",{staticClass:"iconfont icon-lianjie"}),t._v(" 复制链接 ")])}],c=n("5530"),i=(n("a9e3"),n("b0c0"),n("2f62")),s=n("fedc"),r=n("365c"),u={name:"",components:{},data:function(){return{menuIsShow:!1,currentIndex:-1}},props:{songs:{type:Array,required:!0},playCount:{type:Number},trackCount:{type:Number},isMeCreated:{type:Boolean,default:!1},c1:{type:Number,default:120},c2:{type:Number,default:188},c3:{type:Number,default:80},c4:{type:Number,default:150},c5:{type:Number,default:110},c6IsShow:{type:Boolean,default:!1}},computed:{},watch:{},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(i["c"])("PlayerModule",["pause"])),Object(i["b"])("PlayerModule",["cutSongSheet","asyncUpdateIsLock","addNextSong","asyncUpdateIsLock"])),Object(i["b"])("CollectModule",["collectClicked"])),{},{rowClick:function(t,e,n){var o=n.clientX,a=n.clientY,c=this.$refs.menu;c.style.top=a+10+"px",c.style.left=o+"px",this.menuIsShow=!0;var i=this.getCurrentIndex(t,this.songs);this.currentIndex=i,console.log("rowClick",i)},NonTargetIsClicked:function(t){if(this.menuIsShow){var e=t.target,n=this.$refs.menu,o=document.getElementsByTagName("table")[1],a=Object(s["a"])(e,n,o);a||(this.menuIsShow=!1,this.currentIndex=-1)}},getCurrentIndex:function(t,e){var n=0;while(n<e.length){if(e[n].id==t.id)return n;n++}return-1},btnBf:function(t){this.currentIndex=t,this.bofang()},bofang:function(){this.cutSongSheet({songs:this.songs,currentIndex:this.currentIndex}),this.asyncUpdateIsLock({isLock:!0}),this.menuIsShow=!1,this.currentIndex=-1},nextBofang:function(){var t=this.songs[this.currentIndex];console.log(t),this.addNextSong({songs:[t]}),this.menuIsShow=!1,this.currentIndex=-1},bofangALL:function(){},gotoMv:function(t){console.log(t),this.pause(),this.$router.push({path:"/mv?id=".concat(t)}),this.asyncUpdateIsLock({isLock:!1})},collectSongClicked:function(){var t=this.songs[this.currentIndex];this.collectClicked({tracks:[t.id]}),this.menuIsShow=!1},deleteSong:function(){var t=this,e=this.songs[this.currentIndex],n=this.currentIndex;console.log(e),this.$confirm("确定从歌单中删除歌曲 《".concat(e.name,"》 ?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){r["c"].addOrDeleteSong({op:"del",pid:t.$route.query.id,tracks:e.id}).then((function(e){t.$emit("emitDeleteCreatedPlaylistSong",n),t.menuIsShow=!1,t.$message({type:"success",message:"删除成功!"}),t.catchStorage.removeCatchItem("playlistDetail:".concat(t.$route.query.id)),t.catchStorage.removeCatchItem("playlistSongs:".concat(t.$route.query.id))}))})).catch((function(){}))}}),beforeCreated:function(){},created:function(){document.addEventListener("click",this.NonTargetIsClicked)},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){document.removeEventListener("click",this.NonTargetIsClicked)},destroyed:function(){},activated:function(){},deactivated:function(){}},l=u,d=(n("aad1"),n("2877")),f=Object(d["a"])(l,o,a,!1,null,"d3415a1c",null);e["a"]=f.exports},fedc:function(t,e,n){"use strict";e["a"]=function(t,e,n){return e.contains(t)||n.contains(t)}}}]);
//# sourceMappingURL=chunk-903b7074.df21844f.js.map