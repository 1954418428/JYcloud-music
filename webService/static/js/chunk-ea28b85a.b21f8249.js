(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea28b85a"],{"092d":function(t,e,n){},"09af":function(t,e,n){t.exports=n.p+"img/用户.a819ba08.png"},"12b1":function(t,e,n){"use strict";n("d17e")},"12b5":function(t,e,n){},"5a0b":function(t,e,n){"use strict";n("092d")},7382:function(t,e,n){"use strict";n("12b5")},a78c:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"replyBox",staticClass:"reply-item-box",attrs:{id:"reply-box"}},[i("div",{staticStyle:{"text-align":"center","margin-right":"8px"}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.userInfo.avatarUrl,error:n("09af"),loading:n("09af")},expression:"{\n        src: userInfo.avatarUrl,\n        error: require('@/assets/img/用户.png'),\n        loading: require('@/assets/img/用户.png')\n      }"}],staticClass:"user-img",style:{height:t.size+"px",width:t.size+"px"},attrs:{alt:""}}),i("div",{staticClass:"user-name"},[t._v(" "+t._s(t.userInfo.nickname||"用户名")+" ")])]),i("div",{staticStyle:{width:"100%"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"input-conntent",attrs:{rows:"3",placeholder:t.commentQueryData.msg},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),i("span",{staticClass:"btn",on:{click:t.sendComment}},[t._v(" 发表评论 ")]),i("span",{directives:[{name:"show",rawName:"v-show",value:2==t.commentQueryData.t,expression:"commentQueryData.t == 2"}],staticClass:"btn",staticStyle:{"margin-left":"10px","background-color":"#999"},on:{click:t.deleteCommentId}},[t._v(" 取消回复 ")])])])},s=[],a=n("5530"),o=n("2f62"),c=n("365c"),m={name:"ReplyItem",components:{},data:function(){return{}},props:{size:{default:60}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(o["d"])("UserModule",["userState","userInfo"])),Object(o["d"])("CommentModule",["commentQueryData"])),{},{content:{get:function(){return this.$store.state.CommentModule.commentQueryData.content},set:function(t){this.updateContent(t)}}}),watch:{},methods:Object(a["a"])(Object(a["a"])({},Object(o["c"])("CommentModule",["updateContent","deleteCommentId"])),{},{sendComment:function(){var t=this;this.userState.isLogin?this.commentQueryData.content?c["f"].comment({t:this.commentQueryData.t,type:this.commentQueryData.type,id:this.commentQueryData.id,content:this.commentQueryData.content,commentId:this.commentQueryData.commentId}).then((function(e){if(console.log(e),200==e.code){t.$message({message:"评论成功!",type:"success"});var n=[];if(e.comment.beRepliedUser&&e.comment.beRepliedUser.userId){var i={};i.beRepliedCommentId=t.commentQueryData.beRepliedCommentId,i.content=t.commentQueryData.rc,i.user=e.comment.beRepliedUser,n.push(i)}var s=e.comment.commentId,a=e.comment.content,o=e.comment.time,c=e.comment.user,m={beReplied:n,commentId:s,content:a,liked:!1,likedCount:0,time:o,user:c};t.$emit("emitAddComment",m),t.deleteCommentId()}else t.$message({message:"评论太频繁,请稍后再评论!",type:"warning"})})):this.$message({message:"请输入评论内容",type:"warning"}):this.$confirm("您未登入！是否跳转登入界面？","提示").then((function(){t.$router.push({path:"/login"})})).catch((function(){}))},move:function(){var t=this.$refs.replyBox;window.scrollTo(0,t.offsetTop-200)}}),beforeCreated:function(){},created:function(){this.$eventBus.$on("move",this.move)},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},r=m,u=(n("5a0b"),n("2877")),d=Object(u["a"])(r,i,s,!1,null,"a14e7ae8",null);e["a"]=d.exports},c109e:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"comment-item-box",style:t.comment.commentId?"min-height: 80px;":""},[t.comment.commentId?n("img",{staticClass:"user-img",attrs:{src:t.comment.user.avatarUrl,alt:""}}):t._e(),n("div",{staticClass:"right-box",style:t.comment.commentId?"border-bottom: 1px dashed  rgb(0, 0, 0,0.5);":""},[n("router-link",{staticClass:"user-name",attrs:{to:"/user/home?id="+t.comment.user.userId}},[t._v(t._s(t.comment.user.nickname))]),n("div",{staticClass:"comment-content"},[t._v(" "+t._s(t.comment.content)+" ")]),t.comment.beReplied&&0!=t.comment.beReplied.length?n("div",[n("Comment",{staticStyle:{"background-color":"rgb(240, 240, 240)",padding:"0 4px"},attrs:{comment:t.comment.beReplied[0]}})],1):t._e(),t.comment.commentId?n("div",{staticClass:"right-bottom-box"},[t.comment.time?n("span",{staticClass:"comment-time"},[t._v(t._s(t.moment(parseInt(t.comment.time)).format("YYYY/MM/DD HH:mm:ss")))]):t._e(),n("span",{staticClass:"comment-liked-count"},[n("i",{staticClass:"iconfont icon-dianzan"}),t._v(t._s(t.comment.likedCount))]),n("span",{staticStyle:{cursor:"pointer"},on:{click:t.replyIsChecked}},[t._v("回复")])]):t._e()],1)])])},s=[],a=n("5530"),o=n("2f62"),c={name:"Comment",components:{},data:function(){return{}},props:{comment:{type:Object,required:!0}},computed:Object(a["a"])({},Object(o["d"])("UserModule",["userState"])),watch:{},methods:Object(a["a"])(Object(a["a"])({},Object(o["c"])("CommentModule",["updateCommentId"])),{},{replyIsChecked:function(){var t=this;this.userState.isLogin?(this.updateCommentId({commentId:this.comment.commentId,nickname:this.comment.user.nickname,rc:this.comment.content,beRepliedCommentId:this.comment.beReplied.length?this.comment.beReplied[0].beRepliedCommentId:0}),this.$eventBus.$emit("move")):this.$confirm("您未登入！是否跳转登入界面？","提示",{customClass:"b"}).then((function(){t.$router.push({path:"/login"})})).catch((function(){}))}}),beforeCreated:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},m=c,r=(n("7382"),n("2877")),u=Object(r["a"])(m,i,s,!1,null,"de61f676",null);e["a"]=u.exports},d17e:function(t,e,n){},dbd0:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mv-box"},[n("div",{staticClass:"mv-wrap"},[n("div",{staticClass:"left-wrap"},[n("div",{staticClass:"mv-content"},[n("div",{staticClass:"mv-head"},[n("i",{staticClass:"iconfont icon-MV"}),n("h2",[t._v(t._s(t.mvData.name))]),n("div",{staticClass:"mv-info"},[n("router-link",{staticClass:"singer",attrs:{to:"/singer?id="+t.mvData.artistId}},[t._v(" "+t._s(t.mvData.artistName)+" ")]),n("span",{staticClass:"time"},[t._v(" 发布："+t._s(t.mvData.publishTime)+" ")]),n("span",{staticClass:"bofang-count"},[t._v(" 播放："+t._s(t.parseCount(t.mvData.playCount))+"次 ")])],1)]),n("div",{staticClass:"video-paly",on:{mouseover:function(e){t.btnIsShow=!0},mouseleave:function(e){t.btnIsShow=!1}}},[n("video",{ref:"video",staticClass:"media",attrs:{src:t.video.url,controls:""}}),n("i",{directives:[{name:"show",rawName:"v-show",value:!t.video.playing&&t.btnIsShow,expression:"!video.playing && btnIsShow"}],staticClass:"iconfont icon-bofang",attrs:{title:"播放视频"},on:{click:function(e){return t.updateVideoState("play")}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:t.video.playing&&t.btnIsShow,expression:"video.playing && btnIsShow"}],staticClass:"iconfont icon-zanting",attrs:{title:"暂停视频"},on:{click:function(e){return t.updateVideoState("pause")}}})]),n("div",{staticClass:"mv-tools"},[t._m(0),n("a",{attrs:{href:""}},[n("i",{staticClass:"iconfont icon-shoucang"}),t._v(" 收藏("+t._s(t.mvData.subCount)+") ")]),t._m(1)])]),n("div",{staticClass:"mv-comment"},[n("div",{staticClass:"comment-head"},[n("h3",[t._v("评论")]),n("span",[t._v(" 共"+t._s(t.page.total)+"条评论 ")])]),n("div",{staticClass:"reply-wrap"},[n("Replay",{on:{emitAddComment:t.addComment}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.hotComments.length,expression:"hotComments.length"}]},[n("h4",[t._v("热门评论")]),n("ul",t._l(t.hotComments,(function(t){return n("li",{key:t.commentId},[n("Comment",{attrs:{comment:t}})],1)})),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.comments.length,expression:"comments.length"}]},[n("h4",[t._v("最新100条评论")]),n("ul",t._l(t.comments,(function(t){return n("li",{key:t.commentId},[n("Comment",{attrs:{comment:t}})],1)})),0)])])]),n("div",{staticClass:"right-wrap"},[n("div",{staticClass:"mv-desc"},[n("div",{staticClass:"desc-head"},[t._v("mv简介")]),n("p",[t._v(" "+t._s(t.mvData.desc?t.mvData.desc:t.mvData.briefDesc?t.mvData.briefDesc:"占无简介")+" ")])]),n("div",{staticClass:"similar-mv"},[n("div",{staticClass:"similar-head"},[t._v("相关推荐")]),n("ul",{staticClass:"sm-list"},t._l(t.simiMvList,(function(e){return n("li",{key:e.id},[n("router-link",{attrs:{to:"/mv?id="+e.id}},[n("img",{attrs:{src:e.cover+"?param=112y75",alt:""}})]),n("div",{staticClass:"sm-mv-info"},[n("router-link",{staticClass:"title",staticStyle:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"},attrs:{to:"/mv?id="+e.id}},[t._v(" "+t._s(e.name)+" ")]),n("span",{staticClass:"time"},[t._v(" 00:00 ")]),n("router-link",{staticClass:"author",attrs:{to:"/singer?id="+e.artistId}},[t._v(" by "+t._s(e.artistName)+" ")])],1),n("span",{staticClass:"bofang-count"},[n("i",{staticClass:"iconfont icon-video"}),t._v(" "+t._s(t.parseCount(e.playCount))+" ")])],1)})),0)])])])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:""}},[n("i",{staticClass:"iconfont icon-dianzan"}),t._v(" 点赞(666666) ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:""}},[n("i",{staticClass:"iconfont icon-xiazai"}),t._v(" 下载 ")])}],a=n("5530"),o=n("1da1"),c=(n("96cf"),n("a78c")),m=n("c109e"),r=n("2f62"),u=n("365c"),d={name:"",components:{Replay:c["a"],Comment:m["a"]},data:function(){return{btnIsShow:!1,isCollect:!1,mvData:{},video:{url:"",playing:!1},page:{currentIndex:1,limit:100,offset:0,total:0},hotComments:[],comments:[],simiMvList:[]}},props:{},computed:{},watch:{"$route.query":{handler:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$route.query.id?(t.initCommentQueryData({t:1,type:1,id:t.$route.query.id}),t.hotComments=[],t.comments=[],u["b"].getMvDetail(t.$route.query.id).then((function(e){t.mvData=e.data})),u["b"].getMvUrl(t.$route.query.id).then((function(e){t.video.url=e.data.url})),t.initMvComments(),t.initSimiMvList()):console.log("错误 无mv id");case 1:case"end":return e.stop()}}),e)})))()},immediate:!0}},methods:Object(a["a"])(Object(a["a"])({},Object(r["c"])("CommentModule",["initCommentQueryData","updateCommentId"])),{},{updateVideoState:function(t){"play"==t?(this.$refs.video.play(),this.video.playing=!0):"pause"==t&&(this.$refs.video.pause(),this.video.playing=!1)},initMvComments:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:u["b"].getMvCommentList({id:t.$route.query.id,limit:100,offset:0}).then((function(e){t.page.total=e.total,t.hotComments=e.hotComments,t.comments=e.comments}));case 1:case"end":return e.stop()}}),e)})))()},initSimiMvList:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:u["b"].getSimiMv(t.$route.query.id).then((function(e){t.simiMvList=e.mvs}));case 1:case"end":return e.stop()}}),e)})))()},addComment:function(t){console.log("comment",t),this.page.total+=1,this.comments.unshift(t)}}),beforeCreated:function(){},created:function(){return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},l=d,v=(n("12b1"),n("2877")),f=Object(v["a"])(l,i,s,!1,null,"0dbe9c9e",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-ea28b85a.b21f8249.js.map