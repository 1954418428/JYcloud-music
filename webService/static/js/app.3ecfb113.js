(function(e){function t(t){for(var n,o,l=t[0],c=t[1],r=t[2],u=0,f=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(f.length)f.shift()();return a.push.apply(a,r||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],n=!0,l=1;l<s.length;l++){var c=s[l];0!==i[c]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},i={app:0},a=[];function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var r=0;r<l.length;r++)t(l[r]);var d=c;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0115":function(e,t,s){},"034f":function(e,t,s){"use strict";s("64a9")},"044c":function(e,t,s){},1015:function(e,t,s){"use strict";s("7223")},"11ec":function(e,t,s){"use strict";s("cb33")},1828:function(e,t,s){"use strict";s("44ad")},"19ee":function(e,t,s){"use strict";s("9c91")},"36ee":function(e,t,s){},"3a10":function(e,t,s){},"3a9d":function(e,t,s){"use strict";s("8a06")},4240:function(e,t,s){"use strict";s("c1a9")},"44ad":function(e,t,s){},4734:function(e,t,s){},"47bb":function(e,t,s){},"527b":function(e,t,s){"use strict";s("f508")},5499:function(e,t,s){},"549d":function(e,t,s){},5502:function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{height:"100%"},attrs:{id:"app"}},[s("router-view")],1)},a=[],o=(s("034f"),s("2877")),l={},c=Object(o["a"])(l,i,a,!1,null,null,null),r=c.exports,d=s("8c4f"),u=s("a78e"),f=s.n(u),m=s("5c96"),p=s.n(m),h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-backtop",{staticStyle:{"background-color":"#000000"}}),s("div",{staticStyle:{"background-image":"url('https://cptmanagement-fzy.oss-cn-beijing.aliyuncs.com/2020-11-24/head_bg.jpg')","min-width":"1380px"}},[s("div",{staticClass:"header"},[s("div",{staticClass:"menu-list"},[e._m(0),s("div",{staticClass:"right"},[e._m(1),s("div",{staticClass:"bottom"},[e._l(e.menuItemTitle,(function(t){return s("div",{key:t.index,staticClass:"menu-item-title"},[s("router-link",{staticClass:"link",class:-1!=e.activePath.indexOf(t.path)?"isActive":"",attrs:{to:t.path}},[e._v(e._s(t.name))])],1)})),s("div",[-1==e.student.id?s("div",[s("router-link",{attrs:{to:"/login"}},[e._v("登入")]),s("span",[e._v(" | ")]),s("router-link",{attrs:{to:"/register"}},[e._v("注册")])],1):s("div",[s("a",{attrs:{href:"/personal"}},[e._v(e._s(e.student.name))]),s("span",[e._v(" | ")]),s("a",{on:{click:e.logout}},[e._v("退出")])])])],2)])])])]),s("div",{staticStyle:{background:"url('http://www.hunangy.com/img/bg01.png') repeat-y top center","min-width":"1380px"}},[s("div",{staticClass:"middle"},[s("router-view")],1)]),e._m(2)],1)},g=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"left"},[s("img",{attrs:{src:"https://cptmanagement-fzy.oss-cn-beijing.aliyuncs.com/2020-11-24/390d8773af64d305031fc406f1f9b689.jpg"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"top"},[s("div",[e._v("技能竞赛系统")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"floor",staticStyle:{"min-width":"1380px"}},[s("div",{staticClass:"floor-item1"},[e._v("\r\n            © CopyRight 2021, Inc.All Rights Reserved. "),s("br"),e._v(" \r\n            学院地址：湖南省怀化市怀化学院东校区"),s("br"),e._v("\r\n            湘教QS3-200505-000638 湘ICP备19015321号\r\n            ")]),s("div",{staticClass:"floor-item2"},[s("img",{staticClass:"foot_logo",attrs:{src:"http://www.hhtc.edu.cn/img/logo.png"}})]),s("div",{staticClass:"floor-item3"},[s("div",[s("img",{attrs:{src:"http://www.hunangy.com/img/weixin.jpg"}}),e._v("官方微信")]),s("div",[s("img",{attrs:{src:"http://www.hunangy.com/img/weibo.png"}}),e._v("官方微博")]),s("div",[s("img",{attrs:{src:"http://www.hunangy.com/img/douyin.jpg"}}),e._v("官方抖音")])])])}],v=s("bc3a"),b=s.n(v),I=b.a.create({baseURL:"http://101.43.37.152:9000",timeout:2e4});I.interceptors.request.use((function(e){return f.a.get("cpt-token")&&(e.headers["token"]=f.a.get("cpt-token")),e}),(function(e){return Promise.reject(e)})),I.interceptors.response.use((function(e){var t=e.data;return t}),(function(e){return Promise.reject(e)}));var y=I,w={components:{},props:{},data:function(){return{activePath:this.$route.path,menuItemTitle:[{name:"首页",path:"/cptlist",index:0},{name:"竞赛学院分类",path:"/collegecptlist",index:1},{name:"竞赛获奖信息",path:"/winninginfolist",index:2},{name:"竞赛报名入口",path:"/apply",index:3},{name:"教师入口",path:"/login",index:4},{name:"个人中心",path:"/personal",index:5}],student:{id:-1}}},computed:{},watch:{$route:function(e,t){this.activePath=e.path}},methods:{getStudentInfo:function(){if(f.a.get("student")){var e=f.a.get("student");e&&(this.student=JSON.parse(e))}},logout:function(){f.a.get("student")&&f.a.get("cpt-token")&&y({url:"/login/logout",method:"get"}).then((function(e){500!=e&&(f.a.remove("student"),f.a.remove("cpt-token"),window.location.href="/")})).catch((function(e){console.log(e)}))}},created:function(){this.getStudentInfo()}},x=w,_=(s("90e7"),Object(o["a"])(x,h,g,!1,null,"dd60805a",null)),L=_.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-container"},[s("div",{staticClass:"login-main-container"},[e._m(0),s("div",{staticClass:"form-main"},[s("el-form",{ref:"ruleForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.rules}},[s("el-form-item",{attrs:{prop:"key"}},[s("el-input",{attrs:{"prefix-icon":"iconfont icon-yonghu",placeholder:"手机号",autofocus:""},model:{value:e.loginForm.key,callback:function(t){e.$set(e.loginForm,"key",t)},expression:"loginForm.key"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{"prefix-icon":"iconfont icon-mima",placeholder:"密码","show-password":""},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),s("el-form-item",[s("el-radio-group",{model:{value:e.loginForm.type,callback:function(t){e.$set(e.loginForm,"type",t)},expression:"loginForm.type"}},[s("el-radio",{attrs:{label:"学生"}}),s("el-radio",{attrs:{label:"教师"}})],1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登入")]),s("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")]),s("el-button",{attrs:{type:"success"},on:{click:e.showDialog}},[e._v("注册")])],1)],1)],1)]),s("el-dialog",{attrs:{title:"学生注册",visible:e.showStudentRegisterDialog,modal:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.showStudentRegisterDialog=t},close:e.dialogclose}},[s("el-form",{ref:"registerForm",attrs:{model:e.studentInfo,rules:e.studentRules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"头像：",prop:"headerUrl"}},[s("el-avatar",{staticStyle:{height:"80px",width:"80px","vertical-align":"middle","margin-right":"10px"},attrs:{src:e.studentInfo.headerUrl}}),s("el-upload",{staticStyle:{display:"inline"},attrs:{name:"resources",action:"http://localhost:9000/oss/upload","on-success":e.uploadFileSuccess,"on-error":e.uploadFileError,"on-remove":e.handleRemove,multiple:"",accept:".jpg,.png","file-list":e.fileList}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传头像")]),s("div",{staticClass:"el-upload__tip",staticStyle:{display:"inline"},attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),s("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[s("el-input",{model:{value:e.studentInfo.name,callback:function(t){e.$set(e.studentInfo,"name",t)},expression:"studentInfo.name"}})],1),s("el-form-item",{attrs:{label:"性别：",prop:"sex"}},[s("el-radio",{attrs:{label:"男"},model:{value:e.studentInfo.sex,callback:function(t){e.$set(e.studentInfo,"sex",t)},expression:"studentInfo.sex"}},[e._v("男")]),s("el-radio",{attrs:{label:"女"},model:{value:e.studentInfo.sex,callback:function(t){e.$set(e.studentInfo,"sex",t)},expression:"studentInfo.sex"}},[e._v("女")])],1),s("el-form-item",{attrs:{label:"手机号：",prop:"phone"}},[s("el-input",{on:{input:e.phoneChange},model:{value:e.studentInfo.phone,callback:function(t){e.$set(e.studentInfo,"phone",t)},expression:"studentInfo.phone"}})],1),s("el-form-item",{attrs:{label:"验证码："}},[s("el-input",{staticStyle:{"max-width":"500px"},model:{value:e.phoneCode,callback:function(t){e.phoneCode=t},expression:"phoneCode"}}),s("el-button",{attrs:{disabled:!e.flag},on:{click:e.sendPhoneCode}},[e._v(e._s(e.phoneCodebtnText))])],1),s("el-form-item",{attrs:{label:"密码：",prop:"password"}},[s("el-input",{model:{value:e.studentInfo.password,callback:function(t){e.$set(e.studentInfo,"password",t)},expression:"studentInfo.password"}})],1),s("el-form-item",{attrs:{label:"身份证号：",prop:"cdCard"}},[s("el-input",{model:{value:e.studentInfo.cdCard,callback:function(t){e.$set(e.studentInfo,"cdCard",t)},expression:"studentInfo.cdCard"}})],1),s("el-form-item",{attrs:{label:"qq：",prop:"qq"}},[s("el-input",{model:{value:e.studentInfo.qq,callback:function(t){e.$set(e.studentInfo,"qq",t)},expression:"studentInfo.qq"}})],1),s("el-form-item",{attrs:{label:"班级：",prop:"classId"}},[s("el-select",{on:{change:e.collegeChange},model:{value:e.studentInfo.collegeId,callback:function(t){e.$set(e.studentInfo,"collegeId",t)},expression:"studentInfo.collegeId"}},e._l(e.collegeList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.collegeName,value:e.id}})})),1),s("el-select",{model:{value:e.studentInfo.classId,callback:function(t){e.$set(e.studentInfo,"classId",t)},expression:"studentInfo.classId"}},e._l(e.classList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.className,value:e.id}})})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.register("registerForm")}}},[e._v("确定注册")])],1)],1)],1)],1)},C=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"logo"},[s("b",[e._v("技能竞赛系统")])])}],k=(s("96cf"),s("1da1")),$={components:{},props:{},data:function(){return{loginForm:{key:"13142211138",password:"11111111",type:"学生"},rules:{key:[{required:!0,message:"请输入登入账号",trigger:"blur"},{min:11,max:11,message:"请输入正确的手机号",trigger:"blur"}],password:[{required:!0,message:"请输入登入密码",trigger:"blur"},{min:8,max:16,message:"长度在 8 到 16 个字符",trigger:"blur"}]},showStudentRegisterDialog:!1,studentInfo:{name:"",sex:"男",phone:"",password:"",cdCard:"",qq:"",headerUrl:"",collegeId:"",classId:"",status:1},phoneCode:"",phoneCodebtnText:"发送验证码",flag:!1,studentRules:{headerUrl:[{required:!0,message:"请上传头像",trigger:"change"}],name:[{required:!0,message:"请填写学生姓名",trigger:"blur"},{min:2,max:8,message:"长度在 2 到 8 个字符",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"blur"}],phone:[{required:!0,message:"请填写手机号",trigger:"blur"},{min:11,max:11,message:"手机号为11个字符",trigger:"blur"}],password:[{required:!0,message:"请填写登入密码",trigger:"blur"},{min:8,max:16,message:"密码为为8到16个字符",trigger:"blur"}],cdCard:[{required:!0,message:"请填写身份证号",trigger:"blur"},{min:8,max:16,message:"密码为为16到20个字符",trigger:"blur"}],qq:[{required:!0,message:"请填写QQ",trigger:"blur"},{min:5,max:14,message:"QQ为为5到14个字符",trigger:"blur"}],classId:[{required:!0,message:"请选择班级",trigger:"change"}]},fileList:[],addInfoSuccess:!1,collegeList:[],classList:[]}},computed:{},watch:{"loginForm.type":function(){"学生"===this.loginForm.type?(this.loginForm.key="13142211138",this.loginForm.password="11111111"):"教师"===this.loginForm.type&&(this.loginForm.key="15874245519",this.loginForm.password="11111111")}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("err"),!1;"学生"===t.loginForm.type?y({url:"/login/student",method:"post",data:t.loginForm}).then((function(e){500!=e.code?(t.$message({message:e.msg,type:"success"}),console.log(e.data),f.a.set("student",e.data.student),f.a.set("cpt-token",e.data.token),t.$route.query&&t.$route.query.redirect?window.location.href=t.$route.query.redirect:window.location.href="/"):t.$message({message:e.msg,type:"error"})})).catch((function(e){console.log(e)})):y({url:"/login/teacher",method:"post",data:t.loginForm}).then((function(e){t.$message({message:e.msg,type:"success"}),console.log(e.data),f.a.set("teacher",e.data.teacher),f.a.set("cpt-token",e.data.token),f.a.set("isAdmin",e.data.teacher.isAdmin),t.$route.query&&t.$route.query.redirect?window.location.href=t.$route.query.redirect:window.location.href="/adminMain"})).catch((function(e){console.log(e)}))}))},resetForm:function(e){this.$refs[e].resetFields()},showDialog:function(){this.showStudentRegisterDialog=!0,this.getCollegeAndClassList()},uploadFileSuccess:function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t,s,n){var i,a,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.fileList||0==this.fileList.length){e.next=5;break}return e.next=3,y({url:"/oss/delete",method:"delete",params:{ObjectName:this.fileList[0].ObjectName}});case 3:i=e.sent,500!=i.code&&(this.studentInfo.headerUrl="",this.fileList.shift());case 5:a=t.data.urlList[0].fileName,o=t.data.urlList[0].resourceName,l=t.data.urlList[0].resourceUrl,this.fileList.push({url:l,name:a,ObjectName:o}),this.studentInfo.headerUrl=l;case 10:case"end":return e.stop()}}),e,this)})));function t(t,s,n){return e.apply(this,arguments)}return t}(),uploadFileError:function(e,t,s){this.$refs.upload.clearFiles(),this.$message({type:"error",message:"导上传头像失败！",center:!0,duration:1e3})},handleRemove:function(e,t){y({url:"/oss/delete",method:"delete",params:{ObjectName:e.ObjectName}}).then((function(e){})).catch((function(e){})),this.fileList.pop(),this.studentInfo.headerUrl=""},dialogclose:function(){0==this.fileList.length||this.addInfoSuccess||y({url:"/oss/delete",method:"delete",params:{ObjectName:this.fileList[0].ObjectName}}).then((function(e){})).catch((function(e){})),this.fileList=[],this.collegeList=[],this.classList=[],this.addInfoSuccess=!1,this.studentInfo={name:"",sex:"男",phone:"",password:"",cdCard:"",qq:"",headerUrl:"",collegeId:"",classId:"",status:1},this.studentPhoneCode="",this.phoneCode="",this.phoneCodebtnText="发送验证码",this.flag=!1,clearInterval(this.timer),this.$refs["registerForm"].resetFields()},getCollegeAndClassList:function(){var e=this;y({url:"/college/collegeList",method:"get"}).then((function(t){e.collegeList=t.data.collegeList,e.refreshClassList()})).catch((function(e){console.log(e)}))},collegeChange:function(e){this.refreshClassList(),this.studentInfo.classId=this.classList[0].id},refreshClassList:function(){for(var e=0;e<this.collegeList.length;e++)if(this.collegeList[e].id==this.studentInfo.collegeId){this.classList=this.collegeList[e].classList;break}},register:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;y({url:"/student/add",method:"post",data:t.studentInfo,params:{code:t.phoneCode}}).then((function(e){500!=e.code?(t.$message({message:e.msg,type:"success"}),t.addInfoSuccess=!0,t.showStudentRegisterDialog=!1):t.$message({message:e.msg,type:"error"})})).catch((function(e){}))}))},phoneChange:function(){this.studentInfo.phone&&11==this.studentInfo.phone.length?this.flag=!0:this.flag=!1},sendPhoneCode:function(){var e=this;if(this.flag){y({url:"/sms/send/".concat(this.studentInfo.phone),method:"get"}).then((function(t){e.studentPhoneCode=t.data.code})).catch((function(e){console.log(e)})),this.flag=!1;var t=60;this.timer=setInterval((function(){e.phoneCodebtnText=t+"s",t<1?(e.flag=!0,e.phoneCodebtnText="发送验证码",clearInterval(e.timer)):t--}),1e3)}}},created:function(){}},T=$,N=(s("652d"),Object(o["a"])(T,S,C,!1,null,"63e8de66",null)),E=N.exports,q=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},U=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"notfound-main"},[s("div",{staticClass:"rail"},[s("div",{staticClass:"stamp four"},[e._v("4")]),s("div",{staticClass:"stamp zero"},[e._v("0")]),s("div",{staticClass:"stamp four"},[e._v("4")]),s("div",{staticClass:"stamp zero"},[e._v("0")]),s("div",{staticClass:"stamp four"},[e._v("4")]),s("div",{staticClass:"stamp zero"},[e._v("0")]),s("div",{staticClass:"stamp four"},[e._v("4")]),s("div",{staticClass:"stamp zero"},[e._v("0")]),s("div",{staticClass:"stamp four"},[e._v("4")]),s("div",{staticClass:"stamp zero"},[e._v("0")]),s("div",{staticClass:"stamp four"},[e._v("4")]),s("div",{staticClass:"stamp zero"},[e._v("0")]),s("div",{staticClass:"stamp four"},[e._v("4")]),s("div",{staticClass:"stamp zero"},[e._v("0")]),s("div",{staticClass:"stamp four"},[e._v("4")]),s("div",{staticClass:"stamp zero"},[e._v("0")]),s("div",{staticClass:"stamp four"},[e._v("4")]),s("div",{staticClass:"stamp zero"},[e._v("0")]),s("div",{staticClass:"stamp four"},[e._v("4")]),s("div",{staticClass:"stamp zero"},[e._v("0")])]),s("div",{staticClass:"world"},[s("div",{staticClass:"forward"},[s("div",{staticClass:"box"},[s("div",{staticClass:"wall"}),s("div",{staticClass:"wall"}),s("div",{staticClass:"wall"}),s("div",{staticClass:"wall"}),s("div",{staticClass:"wall"}),s("div",{staticClass:"wall"})])])])])}],j={components:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},D=j,A=(s("1015"),Object(o["a"])(D,q,U,!1,null,"5b139aba",null)),F=A.exports,O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"min-height":"500px"}},[s("div",{staticClass:"search-item"},[s("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.Searchdata}},[s("el-form-item",[s("el-input",{attrs:{placeholder:"请输入查询的关键字"},model:{value:e.Searchdata.querykey,callback:function(t){e.$set(e.Searchdata,"querykey",t)},expression:"Searchdata.querykey"}})],1),s("el-form-item",[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{"el-date-picker":"",type:"date",placeholder:"开赛日期"},model:{value:e.Searchdata.startTime,callback:function(t){e.$set(e.Searchdata,"startTime",t)},expression:"Searchdata.startTime"}})],1),s("el-form-item",[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{"el-date-picker":"",type:"date",placeholder:"结赛日期"},model:{value:e.Searchdata.endTime,callback:function(t){e.$set(e.Searchdata,"endTime",t)},expression:"Searchdata.endTime"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1)],1),0!=e.pagelist.scInfoList.length?s("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"space-evenly"}},e._l(e.pagelist.scInfoList,(function(t){return s("div",{key:t.id,staticClass:"sc-item"},[s("div",{staticClass:"left"},[s("div",{staticClass:"sc-name"},[s("a",{on:{click:function(s){return e.lookDetails(t.id)}}},[e._v(e._s(t.scName))])]),s("div",{staticClass:"sc-description"},[e._v("\r\n                    "+e._s(t.description)+"\r\n                ")]),s("div",{staticClass:"sc-link"},[s("el-link",{staticClass:"sc-link-a",attrs:{type:"primary"},on:{click:function(s){return e.lookDetails(t.id)}}},[e._v("查看详情")])],1),s("div",[e._v("发布老师:"+e._s(t.teacher.name))]),s("div",[e._v("归属学院:"+e._s(t.college.collegeName))]),s("div",[e._v("开赛时间:"+e._s(t.startTime.slice(0,10)))]),s("div",[e._v("结赛时间:"+e._s(t.endTime.slice(0,10)))])]),s("div",{staticClass:"right"},[s("img",{attrs:{src:t.firstUrl?t.firstUrl:"http://img.tuguaishou.com/ips_templ_preview/w432_q100/95/ae/7a/lg_1680129_1585904883_5e86fcf332be3.jpg?auth_key=2241100800-0-0-4378beb02cacac2e53a7cbd87e5f2d31"}})])])})),0):s("div",[s("div",[e._v("无查询结果")])]),s("div",[s("div",{staticClass:"page-item"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.pagelist.total,"current-page":e.pagelist.currentPage,"page-size":12},on:{"current-change":e.currentChange}})],1)])])},P=[],z={components:{},props:{},data:function(){return{Searchdata:{querykey:"",startTime:"",endTime:""},SearchButtonIsChecked:!1,pagelist:{total:20,pages:4,currentPage:1,scInfoList:[{id:1,scName:"技能竞赛名称",description:"技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述技能竞赛描述",scSponsor:"湖南工业职业技术学院",teacher:{id:1,name:"李小明老师"},college:{id:1,collegeName:"信息学院"},startTime:"2020-11-10",endTime:"2020-11-30"}]},student:{}}},computed:{},watch:{},methods:{lookDetails:function(e){this.$router.push("/cptdetails/".concat(e))},getpagelistBypage:function(e){var t=this;this.Searchdata.querykey||this.Searchdata.startTime||this.Searchdata.endTime||(this.SearchButtonIsChecked=!1),this.SearchButtonIsChecked?y({url:"/scInfo/list",params:{currentPage:e,querykey:this.Searchdata.querykey,startTime:this.Searchdata.startTime,endTime:this.Searchdata.endTime},method:"get"}).then((function(e){t.pagelist=e.data})).catch((function(e){console.log(e)})):y({url:"/scInfo/list",params:{currentPage:e},method:"get"}).then((function(e){t.pagelist=e.data})).catch((function(e){console.log(e)}))},currentChange:function(e){this.getpagelistBypage(e)},search:function(){var e=this;this.SearchButtonIsChecked=!0,y({url:"/scInfo/list",params:{currentPage:1,querykey:this.Searchdata.querykey,startTime:this.Searchdata.startTime,endTime:this.Searchdata.endTime},method:"get"}).then((function(t){e.pagelist=t.data})).catch((function(e){console.log(e)}))}},created:function(){this.getpagelistBypage(1)}},M=z,R=(s("19ee"),Object(o["a"])(M,O,P,!1,null,"bd7eaf40",null)),B=R.exports,W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticStyle:{"min-height":"500px"}},[s("el-select",{staticStyle:{margin:"10px 0px"},attrs:{placeholder:"请选择"},on:{change:e.selectedChange},model:{value:e.collegeId,callback:function(t){e.collegeId=t},expression:"collegeId"}},e._l(e.collegeList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.collegeName,value:e.id}})})),1),0!=e.scInfoListLength?s("div",{staticClass:"sc-list"},e._l(e.scInfoList,(function(t){return s("el-card",{key:t.id,staticClass:"sc-item"},[s("img",{staticClass:"image",attrs:{src:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png"}}),s("div",[s("span",{staticClass:"sc-name"},[e._v(" "+e._s(t.scName))]),s("div",{staticStyle:{position:"relative"}},[s("span",{staticClass:"sc-createtime"},[e._v(e._s(t.createTime))]),s("el-link",{staticClass:"look-details",attrs:{underline:!1,type:"primary"},on:{click:function(s){return e.lookDetails(t.id)}}},[e._v("查看详情")])],1)])])})),1):s("div",[s("div",[e._v("\r\n                此学院还有发布任何技能竞赛\r\n            ")])])],1)])},J=[],Q=(s("55dd"),{components:{},props:{},data:function(){return{collegeId:"",collegeList:[{id:1,collegeName:"信息工程学院",classList:[{id:1,className:"2018软件测试-1班",collegeId:1,teacherId:1,studentList:[]}],scInfoList:[{id:1,scName:"第一个技能竞赛",scSponsor:"主办方1",collegeId:1,college:null,description:"描述1描述1描述1描述1描述1描述1描述1描述1描述1描述1描述1描述1描述1描述1描述1描述1",teacherId:1,teacher:{id:1,name:"谢丁峰",sex:"男",phone:"11111111111",password:"666666",qq:"1954418428",headerUrl:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",officeName:"二教2101",isAdmin:1,collegeId:1,scInfoList:[],aclass:null},status:1,startTime:"2020-11-06 08:00:00",endTime:"2020-12-06 08:00:00",createTime:"2020-11-06 20:17:12",modifyTime:"2020-11-06 20:17:12"}]}],scInfoList:[],scInfoListLength:0}},computed:{},watch:{},methods:{getBaseInfo:function(){var e=this;y({url:"/college/collegeList",method:"get"}).then((function(t){console.log("所有学院相关信息列表:",t.data.collegeList),e.collegeList=t.data.collegeList,e.selectedChange()})).catch((function(e){}))},selectedChange:function(){for(var e=0;e<this.collegeList.length;e++)this.collegeId==this.collegeList[e].id&&(this.scInfoList=this.collegeList[e].scInfoList);this.scInfoListLength=this.scInfoList.length,this.scInfoList.sort(this.compare("createTime"))},lookDetails:function(e){this.$router.push("/cptdetails/".concat(e))},compare:function(e){return function(t,s){var n=t[e],i=s[e];return Date.parse(i)-Date.parse(n)}}},created:function(){this.getBaseInfo();var e=this.$route.params.collegeId;this.collegeId=e||this.collegeList[0].id},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}}),V=Q,H=(s("9c65"),Object(o["a"])(V,W,J,!1,null,"fe4f6eb2",null)),Y=H.exports,G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"winninginfo-list"},e._l(e.pagelist.winningInfoList,(function(t){return s("el-card",{key:t.id,staticClass:"winninginfo-item"},[s("div",{staticStyle:{display:"flex"}},[s("div",{staticClass:"item-content"},[s("div",[s("span",[e._v("获奖竞赛:"+e._s(t.scInfo.scName))])]),s("div",[s("span",[e._v("获奖人员:"+e._s(t.student.name))]),s("img",{staticClass:"header",attrs:{src:t.student.headerUrl}})]),s("div",[s("span",[e._v("指导老师:"+e._s(t.teacher.name))]),s("img",{staticClass:"header",attrs:{src:t.teacher.headerUrl}})]),s("div",[s("span",[e._v("所属学院:"+e._s(t.scInfo.college.collegeName))])]),s("div",[s("span",[e._v("获奖名称:"+e._s(t.wiName))])]),s("div",[s("span",[e._v("获奖描述:"+e._s(t.description))])]),s("div",[s("el-link",{attrs:{type:"primary"},on:{click:function(s){return e.lookwinninginfodetails(t.id)}}},[e._v("查看详情")])],1)]),s("div",{staticClass:"item-img"},[s("img",{attrs:{src:t.winnerImg}})])])])})),1),s("div",[s("div",{staticClass:"page-item"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.pagelist.total,"current-page":e.pagelist.currentPage,"page-size":6},on:{"current-change":e.currentChange}})],1)])])},K=[],X={components:{},props:{},data:function(){return{pagelist:{total:20,pages:4,currentPage:1,winningInfoList:[]}}},computed:{},watch:{},methods:{lookwinninginfodetails:function(e){this.$router.push("/winninginfodetails/"+e)},currentChange:function(e){this.getpagelistBypage(e)},getpagelistBypage:function(e){var t=this;y({url:"/winningInfo/list",params:{currentPage:e},method:"get"}).then((function(e){t.pagelist=e.data})).catch((function(e){console.log(e)}))}},created:function(){this.getpagelistBypage(1)}},Z=X,ee=(s("94ed"),Object(o["a"])(Z,G,K,!1,null,"469482b4",null)),te=ee.exports,se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[s("el-collapse-item",{staticClass:"winning-info",attrs:{title:"获奖信息",name:"1"}},[s("div",{staticClass:"info-container"},[s("div",[s("span",[e._v("获奖竞赛:"+e._s(e.winningInfo.scInfo.scName))]),s("el-link",{staticClass:"look-scdetails",attrs:{type:"success"},on:{click:function(t){return e.lookDetails(e.winningInfo.scInfo.id)}}},[e._v("查看竞赛相关信息")])],1),s("div",[s("span",[e._v("获奖人员:"+e._s(e.winningInfo.student.name))]),s("img",{staticClass:"header",attrs:{src:e.winningInfo.student.headerUrl}})]),s("div",[s("span",[e._v("指导老师:"+e._s(e.winningInfo.teacher.name))]),s("img",{staticClass:"header",attrs:{src:e.winningInfo.teacher.headerUrl}})]),s("div",[s("span",[e._v("所属学院:"+e._s(e.winningInfo.scInfo.college.collegeName))])]),s("div",[s("span",[e._v("获奖名称:"+e._s(e.winningInfo.wiName))])]),s("div",[s("span",[e._v("获奖描述:"+e._s(e.winningInfo.description))])])])]),s("el-collapse-item",{attrs:{title:"获奖人员照片",name:"2"}},[s("img",{staticClass:"winner-img",attrs:{src:e.winningInfo.winnerImg,alt:""}})]),s("el-collapse-item",{attrs:{title:"获奖证书照片",name:"3"}},[s("img",{staticClass:"certificate-img",attrs:{src:e.winningInfo.certificateImg,alt:""}})]),s("el-collapse-item",{attrs:{title:"获奖相关文件",name:"4"}},[s("form",{staticStyle:{"margin-left":"10px"},attrs:{action:e.winningInfo.winningFile}},[s("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:"https://cptmanagement-fzy.oss-cn-beijing.aliyuncs.com/2020-11-24/%E6%96%87%E4%BB%B6.jpg"}}),s("div",[e._v(e._s(e.fileName))]),s("intput",{attrs:{type:"hidden",name:"Content-Disposition",value:"attachment;filename="+e.resourceName}}),s("button",{staticStyle:{height:"30px"},attrs:{type:"primary"}},[e._v("下载此文件")])],1)])],1)],1)},ne=[],ie={components:{},props:{},data:function(){return{activeNames:["1"],winningInfo:{id:3,scId:3,scInfo:{id:3,scName:"第3个技能竞赛",scSponsor:"主办方3",collegeId:1,college:{id:1,collegeName:"信息工程学院",officeName:"1教1105",classList:[],scInfoList:[]},description:"描述11111",teacherId:3,teacher:null,status:1,startTime:"2020-07-06 08:25:11",endTime:"2020-12-06 09:55:14",createTime:"2020-11-11 13:03:57",modifyTime:"2020-11-11 13:03:57"},studentId:1,student:{id:1,name:"范征远666",sex:"男",phone:"13142211138",password:"11111111",cdCard:"430121200011102816",qq:"1954418428",headerUrl:"https://cptmanagement-fzy.oss-cn-beijing.aliyuncs.com/2020-11-06/4735f0fa36b74bd7b34f6a90aa9da836QQ.jpg",classId:1,collegeId:null,status:1},teacherId:3,teacher:{id:3,name:"周安众老师",sex:"男",phone:"11111111111",password:"666666",qq:"1954418428",headerUrl:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",officeName:"二教2101",isAdmin:0,collegeId:1,scInfoList:[],aclass:null},wiName:"第三个技能竞赛特等奖",description:"无奖励",winnerImg:"“”",certificateImg:"“”",winningFile:"“”",status:1}}},computed:{resourceName:function(){return this.winningInfo.winningFile.slice(54)},fileName:function(){return this.winningInfo.winningFile.slice(97)}},watch:{},methods:{getWinningInfo:function(e){var t=this;y({url:"winningInfo/get/".concat(e)}).then((function(e){t.winningInfo=e.data.winningInfo})).catch((function(e){console.log(e)}))},handleChange:function(e){console.log(e)},lookDetails:function(e){this.$router.push("/cptdetails/".concat(e))}},created:function(){this.getWinningInfo(this.$route.params.wi_id)},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},ae=ie,oe=(s("d2d4"),Object(o["a"])(ae,se,ne,!1,null,"4fc8b89f",null)),le=oe.exports,ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticStyle:{"min-height":"500px","margin-bottom":"50px"},attrs:{shadow:"hover"}},[s("el-form",{ref:"ruleForm",staticStyle:{width:"500px"},attrs:{model:e.formData,rules:e.rules,"label-width":"100px","hide-required-asterisk":!1}},[s("div",{staticClass:"tilte"},[e._v(e._s(e.titleText))]),s("el-form-item",{attrs:{label:"学院:"}},[s("el-select",{attrs:{placeholder:"请选择",disabled:!e.isApply},on:{change:e.changeSelect},model:{value:e.formData.collegeId,callback:function(t){e.$set(e.formData,"collegeId",t)},expression:"formData.collegeId"}},e._l(e.collegeList,(function(e,t){return s("el-option",{key:t,attrs:{label:e.collegeName,value:e.id}})})),1)],1),s("el-form-item",{attrs:{label:"竞赛:",prop:"scId"}},[s("el-select",{attrs:{placeholder:"请选择",disabled:!e.isApply},on:{change:e.refreshTeacher},model:{value:e.formData.scId,callback:function(t){e.$set(e.formData,"scId",t)},expression:"formData.scId"}},e._l(e.scInfoList,(function(e,t){return s("el-option",{key:t,attrs:{label:e.scName,value:e.id}})})),1),e.formData.scId?s("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"success",icon:"el-icon-view",circle:""},on:{click:e.lookCptDetails}},[e._v("查看详情")]):e._e()],1),e.teacher?s("el-form-item",{attrs:{label:"发布老师:"}},[s("el-link",{staticStyle:{"font-size":"20px"},attrs:{target:"_blank",underline:!1}},[e._v("\r\n            "+e._s(e.teacher.name)+"\r\n            "),s("img",{staticClass:"teacher-header",attrs:{src:e.teacher.headerUrl}})])],1):e._e(),s("el-form-item",{attrs:{label:"申请人:"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formData.student.name,callback:function(t){e.$set(e.formData.student,"name",t)},expression:"formData.student.name"}})],1),s("el-form-item",{attrs:{label:"身份证:"}},[s("el-input",{attrs:{disabled:""},model:{value:e.formData.student.cdCard,callback:function(t){e.$set(e.formData.student,"cdCard",t)},expression:"formData.student.cdCard"}})],1),s("el-form-item",[s("el-upload",{attrs:{name:"resources",action:"http://localhost:9000/oss/upload","on-success":e.uploadFileSuccess,"on-error":e.uploadFileError,"on-remove":e.fileRemove,"before-remove":e.beforeFileRemove,"on-preview":e.handlePreview,multiple:"",limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传申请文件")]),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("单文件不可超过5MB,多文件总大小不可超20MB")])],1)],1),s("el-form-item",[e.isApply?s("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.apply("ruleForm")}}},[e._v("提交申请表")]):s("el-button",{attrs:{type:"success",round:""},on:{click:function(t){return e.update("ruleForm")}}},[e._v("修改申请表")])],1)],1)],1)],1)},re=[],de=(s("7f7f"),{components:{},props:{},data:function(){return{titleText:"填写技能竞赛申报表",isApply:!0,isFirstload:!0,collegeList:[],scInfoList:[],teacher:"",formData:{collegeId:"",scId:"",student:{},applyFile:""},fileList:[],rules:{scId:[{required:!0,message:"请选择要报名的技能竞赛",trigger:"change"}]}}},computed:{},watch:{},created:function(){var e=this;this.getBaseInfo();var t=this.$route.params,s=t.scId,n=t.collegeId,i=t.isUpdate,a=t.applyId;s&&n&&(this.isCheckScInfoInto=!0,this.formData.scId=s,this.formData.collegeId=n),i&&(this.isApply=!1,this.titleText="修改技能竞赛申报表",y({url:"/scApply/get/".concat(a),method:"get"}).then((function(t){var s=t.data.scApply.applyFile,n=t.data.scApply.applyFile.slice(97),i=t.data.scApply.applyFile.slice(54);e.formData.applyFile=s;var a={name:n,url:s,ObjectName:i};e.fileList.push(a)})).catch((function(e){console.log(e)})))},methods:{getBaseInfo:function(){var e=this;y({url:"/college/collegeList",method:"get"}).then((function(t){console.log(t.data.collegeList),e.collegeList=t.data.collegeList,e.changeSelect(),e.isFirstload=!1})).catch((function(e){}));var t=f.a.get("student");t&&(this.formData.student=JSON.parse(t))},changeSelect:function(){this.isFirstload||(this.formData.scId="",this.teacher="");for(var e=0;e<this.collegeList.length;e++)this.formData.collegeId==this.collegeList[e].id&&(console.log("collegeList[i].id",this.collegeList[e].id),this.scInfoList=this.collegeList[e].scInfoList);this.refreshTeacher()},refreshTeacher:function(){for(var e=0;e<this.scInfoList.length;e++)this.formData.scId==this.scInfoList[e].id&&(this.teacher=this.scInfoList[e].teacher)},uploadFileSuccess:function(e,t,s){console.log("上传文件成功后获得的响应",e);var n=e.data.urlList[0].fileName,i=e.data.urlList[0].resourceName,a=e.data.urlList[0].resourceUrl;this.formData.applyFile=a;var o={name:n,url:a,ObjectName:i};this.fileList.push(o)},uploadFileError:function(e,t,s){console.log("上传文件失败后获得的响应",response)},beforeFileRemove:function(e,t){return console.log("删除之前询问"),this.$confirm("确定移除 ".concat(e.name,"？"))},fileRemove:function(e,t){var s=this;console.log(this.fileList[0].ObjectName),y({url:"/oss/delete",method:"delete",params:{ObjectName:this.fileList[0].ObjectName}}).then((function(e){s.fileList=[],s.formData.applyFile=""})).catch((function(e){}))},handlePreview:function(e){console.log(),console.log("handlePreview",e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},apply:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.formData.applyFile?y({url:"/scApply/apply",method:"post",data:{scId:t.formData.scId,studentId:t.formData.student.id,applyFile:t.formData.applyFile,status:0}}).then((function(e){t.$message({message:"申请信息提交成功",type:"success"}),t.$router.push({name:"myapplylist"})})).catch((function(e){t.$message.error("申请信息提交失败了！")})):t.$message({message:"请上传申请文件",type:"warning"})}))},update:function(e){var t=this,s=this.$route.params.applyId;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.formData.applyFile?y({url:"/scApply/update",method:"put",data:{id:s,scId:t.formData.scId,studentId:t.formData.student.id,applyFile:t.formData.applyFile,status:0}}).then((function(e){t.$message({message:"修改申请信息成功",type:"success"}),t.$router.push({name:"myapplylist"})})).catch((function(e){t.$message.error("修改申请信息失败了！")})):t.$message({message:"请上传申请文件",type:"warning"})}))},lookCptDetails:function(){this.$router.push("/cptdetails/".concat(this.formData.scId))}},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}}),ue=de,fe=(s("fb6e"),Object(o["a"])(ue,ce,re,!1,null,"a7d839c0",null)),me=fe.exports,pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"detail-main"},[s("div",{staticClass:"cpt-detail"},[s("div",{staticClass:"left"},[s("div",{staticClass:"sc-name"},[e._v(e._s(e.scInfo.scName))]),s("div",{staticClass:"sc-description"},[e._v(e._s(e.scInfo.description))]),s("div",{staticClass:"info-item apply"},[s("span",[e._v("主办单位:"+e._s(e.scInfo.scSponsor))]),s("el-button",{staticClass:"apply-button",attrs:{type:"success"},on:{click:e.reply}},[e._v("申请报名")])],1),s("div",{staticClass:"info-item"},[s("span",[e._v("发布老师:")]),s("el-link",{staticStyle:{"font-size":"20px"},attrs:{target:"_blank",underline:!1}},[e._v("\r\n                         "+e._s(e.scInfo.teacher.name)+"\r\n                         "),s("img",{staticClass:"teacher-header",attrs:{src:e.scInfo.teacher.headerUrl}})])],1),s("div",{staticClass:"info-item"},[s("span",[e._v("所属学院:")]),s("el-link",{staticStyle:{"font-size":"20px"},attrs:{underline:!1},on:{click:function(t){return e.lookcollegecptlist(e.scInfo.college.id)}}},[e._v("\r\n                         "+e._s(e.scInfo.college.collegeName)+"\r\n                        ")])],1),s("div",{staticClass:"info-item"},[e._v("开赛时间:"+e._s(e.scInfo.startTime.slice(0,10)))]),s("div",{staticClass:"info-item"},[e._v("结赛时间:"+e._s(e.scInfo.endTime.slice(0,10)))]),s("div",[e.scTripList.length?s("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[s("el-collapse-item",{attrs:{title:"竞赛相关行程:",name:"1"}},e._l(e.scTripList,(function(t){return s("div",{key:t.id,staticClass:"trip-content"},[s("div",{staticStyle:{position:"relative"}},[s("el-tag",{staticStyle:{fontsize:"20px"},attrs:{type:"danger"}},[e._v("行程"+e._s(t.tripIndex)+":")]),s("div",{staticStyle:{display:"inline"}},[s("span",[e._v(e._s(t.description))])]),s("div",{staticClass:"trip-time",staticStyle:{position:"absolute",right:"0",top:"0"}},[s("span",{staticClass:"el-icon-pie-chart"},[e._v("开始时间:"+e._s(t.startTime.slice(0,10)))]),s("span",[e._v("—>")]),s("span",{staticClass:"el-icon-pie-chart"},[e._v("结束时间:"+e._s(t.endTime.slice(0,10)))])])],1)])})),0)],1):s("span",[e._v("竞赛相关行程:占无相关行程")])],1),s("span",[e._v("相关图片:")]),e.imgList.length?s("div",{staticClass:"img-list"},e._l(e.imgList,(function(e,t){return s("div",{key:t},[s("img",{attrs:{src:e}})])})),0):s("span",[e._v("\r\n                占无相关图片\r\n            ")])]),s("div",{staticClass:"right"},[s("span",[e._v("相关文件列表:")]),e.fileList.length?s("div",{staticClass:"file-list"},e._l(e.fileList,(function(t,n){return s("form",{key:n,staticClass:"file-item",attrs:{action:t.resourceUrl}},[s("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:"https://cptmanagement-fzy.oss-cn-beijing.aliyuncs.com/2020-11-24/%E6%96%87%E4%BB%B6.jpg"}}),s("div",[e._v(e._s(t.fileName))]),s("intput",{attrs:{type:"hidden",name:"Content-Disposition",value:"attachment;filename="+t.resourceName}}),s("button",{staticStyle:{height:"30px"},attrs:{type:"primary"}},[e._v("下载此文件")])],1)})),0):s("div",[s("span",[e._v("占无相关文件")])])])])])},he=[],ge={components:{},props:{},data:function(){return{photoVisible:!1,scInfo:{},imgList:[],fileList:[],scTripList:[],activeNames:["1"]}},computed:{},watch:{},methods:{getcptInfo:function(e){var t=this;y({url:"/scInfo/get/".concat(e),method:"get"}).then((function(e){console.log("cpt",e),t.scInfo=e.data.scInfo,t.imgList=e.data.imgList,t.fileList=e.data.fileList})).then((function(e){console.log(e)}))},getscTrip:function(e){var t=this;y({url:"/scTrip/get/".concat(e),method:"get"}).then((function(e){t.scTripList=e.data.scTripList})).catch((function(e){console.log(e)}))},reply:function(){this.$router.push({name:"apply",params:{collegeId:this.scInfo.college.id,scId:this.scInfo.id}})},lookcollegecptlist:function(e){this.$router.push({name:"collegecptlist",params:{collegeId:e}})}},created:function(){this.getcptInfo(this.$route.params.sc_id),this.getscTrip(this.$route.params.sc_id)}},ve=ge,be=(s("67ff"),Object(o["a"])(ve,pe,he,!1,null,"890d41c0",null)),Ie=be.exports,ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-menu",{attrs:{"default-active":e.defaultActive,mode:"horizontal",router:""}},[s("el-menu-item",{attrs:{index:"personalinfo",route:{path:"/personal/personalinfo"}}},[e._v("个人信息")]),s("el-menu-item",{attrs:{index:"myapplylist",route:{path:"/personal/myapplylist"}}},[e._v("我报名的竞赛")]),s("el-menu-item",{attrs:{index:"mywinninglist",route:{path:"/personal/mywinninglist"}}},[e._v("我的获奖信息")]),s("el-menu-item",{attrs:{index:"myexam",route:{path:"/personal/myexam"}}},[e._v("我的考核信息")])],1),s("router-view")],1)},we=[],xe=(s("3a10"),{components:{},props:{},data:function(){return{defaultActive:this.$route.name}},computed:{},watch:{$route:function(e,t){this.defaultActive=e.name}},methods:{},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}}),_e=xe,Le=Object(o["a"])(_e,ye,we,!1,null,"3e045a1a",null),Se=Le.exports,Ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"min-height":"500px","margin-bottom":"10px"}},[s("div",{staticStyle:{width:"500px"}},[s("el-form",{ref:"form",attrs:{model:e.studentInfo,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"头像:"}},[s("img",{staticStyle:{height:"80px",width:"80px","border-radius":"40px"},attrs:{src:e.studentInfo.headerUrl}})]),s("el-form-item",{attrs:{label:"姓名:"}},[s("el-input",{model:{value:e.studentInfo.name,callback:function(t){e.$set(e.studentInfo,"name",t)},expression:"studentInfo.name"}})],1),s("el-form-item",{attrs:{label:"性别"}},[s("el-radio",{attrs:{label:"男"},model:{value:e.studentInfo.sex,callback:function(t){e.$set(e.studentInfo,"sex",t)},expression:"studentInfo.sex"}},[e._v("男")]),s("el-radio",{attrs:{label:"女"},model:{value:e.studentInfo.sex,callback:function(t){e.$set(e.studentInfo,"sex",t)},expression:"studentInfo.sex"}},[e._v("女")])],1),s("el-form-item",{attrs:{label:"手机号"}},[s("el-input",{attrs:{disabled:!e.isUpdate},model:{value:e.studentInfo.phone,callback:function(t){e.$set(e.studentInfo,"phone",t)},expression:"studentInfo.phone"}}),s("span",{on:{click:function(t){e.dialogVisible=!0}}},[e._v("我要修改它们！")])],1),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{attrs:{type:e.passwordShowType,disabled:!e.isUpdate},model:{value:e.studentInfo.password,callback:function(t){e.$set(e.studentInfo,"password",t)},expression:"studentInfo.password"}}),s("a",{staticClass:"iconfont icon-chakan",on:{click:e.showPassword}})],1),s("el-form-item",{attrs:{label:"身份证号"}},[s("el-input",{attrs:{disabled:!e.isUpdate},model:{value:e.studentInfo.cdCard,callback:function(t){e.$set(e.studentInfo,"cdCard",t)},expression:"studentInfo.cdCard"}})],1),s("el-form-item",{attrs:{label:"qq"}},[s("el-input",{model:{value:e.studentInfo.qq,callback:function(t){e.$set(e.studentInfo,"qq",t)},expression:"studentInfo.qq"}})],1),s("el-form-item",{attrs:{label:"班级"}},[s("el-select",{on:{change:e.collegeChange},model:{value:e.studentInfo.collegeId,callback:function(t){e.$set(e.studentInfo,"collegeId",t)},expression:"studentInfo.collegeId"}},e._l(e.collegeList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.collegeName,value:e.id}})})),1),s("el-select",{model:{value:e.studentInfo.classId,callback:function(t){e.$set(e.studentInfo,"classId",t)},expression:"studentInfo.classId"}},e._l(e.classList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.className,value:e.id}})})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.updateStudentInfo}},[e._v("修改信息")])],1)],1)],1),s("el-dialog",{attrs:{title:"用户验证",visible:e.dialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("div",[e._v("请用手机号:"+e._s(e.studentInfo.phone)+" 接收验证码")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputCode,expression:"inputCode"}],attrs:{type:"text"},domProps:{value:e.inputCode},on:{input:function(t){t.target.composing||(e.inputCode=t.target.value)}}}),s("button",{on:{click:e.sendCode}},[e._v("发送验证码")])]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.validationPhoneCode}},[e._v("确 定")])],1)])],1)},ke=[],$e={components:{},props:{},data:function(){return{activeName:"first",isUpdate:!1,passwordShowType:"password",dialogVisible:!1,studentPhoneCode:"",inputCode:"",studentInfo:{id:"1",name:"范征远",sex:"男",phone:"13142211138",password:"123456789",cdCard:"430121200011102816",qq:"1954418428",headerUrl:"https://cptmanagement-fzy.oss-cn-beijing.aliyuncs.com/2020-11-06/4735f0fa36b74bd7b34f6a90aa9da836QQ.jpg",collegeId:2,classId:3},collegeList:[],classList:[]}},computed:{},watch:{},methods:{getCollegeAndClassList:function(){var e=this;y({url:"/college/collegeList",method:"get"}).then((function(t){e.collegeList=t.data.collegeList,e.refreshClassList()})).catch((function(e){console.log(e)}))},getStudentInfo:function(){var e=this,t=JSON.parse(f.a.get("student")).id;y({url:"/student/get/".concat(t),method:"get"}).then((function(t){e.studentInfo=t.data.studentInfo,e.refreshClassList()})).catch((function(e){}))},handleClick:function(e,t){console.log(e,t)},collegeChange:function(e){console.log(e),this.refreshClassList(),this.studentInfo.classId=this.classList[0].id},refreshClassList:function(){for(var e=0;e<this.collegeList.length;e++)if(this.collegeList[e].id==this.studentInfo.collegeId){this.classList=this.collegeList[e].classList;break}},showPassword:function(){"password"==this.passwordShowType?this.passwordShowType="input":this.passwordShowType="password"},sendCode:function(){var e=this;console.log("发送验证码了"),y({url:"/sms/send/".concat(this.studentInfo.phone),method:"get"}).then((function(t){e.studentPhoneCode=t.data.code})).catch((function(e){console.log(e)}))},validationPhoneCode:function(){this.inputCode==this.studentPhoneCode&&""!=this.studentPhoneCode?(this.isUpdate=!0,this.$message({showClose:!0,message:"验证码正确",type:"success"})):(this.inputCode="",this.$message({showClose:!0,message:"验证码错误",type:"error"})),this.dialogVisible=!1},closeDialog:function(){this.inputCode="",this.dialogVisible=!1},updateStudentInfo:function(){var e=this,t=this.studentInfo,s=t.id,n=t.name,i=t.sex,a=t.phone,o=t.password,l=t.cdCard,c=t.qq,r=t.headerUrl,d=t.collegeId,u=t.classId;y({url:"/student/update",method:"put",data:{id:s,name:n,sex:i,phone:a,password:o,cdCard:l,qq:c,headerUrl:r,collegeId:d,classId:u}}).then((function(t){500!=t.code?(e.$message({showClose:!0,message:"修改成功",type:"success"}),e.getStudentInfo()):e.$message({showClose:!0,message:t.msg,type:"error"})})).catch((function(e){console.log(e)}))}},created:function(){this.getCollegeAndClassList(),this.refreshClassList(),this.getStudentInfo()}},Te=$e,Ne=(s("1828"),Object(o["a"])(Te,Ce,ke,!1,null,"6952d0af",null)),Ee=Ne.exports,qe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"min-height":"500px","margin-bottom":"10px"}},[s("el-table",{staticStyle:{width:"100%","margin-bottom":"50px"},attrs:{height:"500",data:e.ScApplyInfo}},[s("el-table-column",{attrs:{label:"竞赛名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.scName))])]}}])}),s("el-table-column",{attrs:{label:"指导老师",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[s("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.teacher.name))])],1)]}}])}),s("el-table-column",{attrs:{label:"所属学院",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.college.collegeName))])]}}])}),s("el-table-column",{attrs:{label:"报名时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{staticClass:"el-icon-time"}),s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createTime))])]}}])}),s("el-table-column",{attrs:{label:"审核状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[1==t.row.status?s("el-tag",{attrs:{type:"success",size:"medium"}},[e._v("已审核")]):s("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v("未审核")])],1)]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)},Ue=[],je={components:{},props:{},data:function(){return{ScApplyInfo:[{id:0,scId:0,scName:"技能竞赛名称",teacher:{id:1,name:"张三老师"},college:{id:1,collegeName:"所属学院名"},createTime:"2016-05-02",status:1}]}},computed:{},watch:{},methods:{getScApplyInfo:function(){var e=this,t=JSON.parse(f.a.get("student")).id;t&&y({url:"/scApply/studentScApplyList/".concat(t),method:"get"}).then((function(t){e.ScApplyInfo=t.data.ScApplyInfo})).catch((function(e){}))},handleEdit:function(e,t){console.log(e,t),this.$router.push({name:"apply",params:{collegeId:t.college.id,scId:t.scId,isUpdate:!0,applyId:t.id}})},handleDelete:function(e,t){var s=this;console.log(e,t),console.log("被删除的id",t.id),this.$confirm("此操作将永久删除该申请表, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){console.log("确定"),y({url:"/scApply/delete/".concat(t.id),method:"delete"}).then((function(e){s.$message({type:"success",message:"删除成功!"}),s.getScApplyInfo()})).catch((function(e){s.$message({type:"error",message:"删除失败!"})}))})).catch((function(){s.$message({type:"info",message:"已取消删除"})}))}},created:function(){this.getScApplyInfo()}},De=je,Ae=Object(o["a"])(De,qe,Ue,!1,null,"5436c667",null),Fe=Ae.exports,Oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"min-height":"500px","margin-bottom":"10px"}},[s("el-table",{staticStyle:{width:"100%","margin-bottom":"50px"},attrs:{height:"500",data:e.ScWinningInfo}},[s("el-table-column",{attrs:{label:"获奖竞赛名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.scName))])]}}])}),s("el-table-column",{attrs:{label:"指导老师",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[s("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.teacher.name))])],1)]}}])}),s("el-table-column",{attrs:{label:"获奖名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.wiName))])]}}])}),s("el-table-column",{attrs:{label:"获奖信息描述",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.description))])]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.handleEdit(t.$index,t.row)}}},[e._v("查看详情")])]}}])})],1)],1)},Pe=[],ze={components:{},props:{},data:function(){return{ScWinningInfo:[{id:0,scName:"技能竞赛名称",teacher:{id:1,name:"张三老师"},wiName:"获奖名称1111111111111111111",description:"获奖描述描述描述"}]}},computed:{},watch:{},methods:{getScWinningInfo:function(){var e=this,t=JSON.parse(f.a.get("student")).id;t&&y({url:"/winningInfo/studentWinningInfoList/".concat(t),method:"get"}).then((function(t){e.ScWinningInfo=t.data.ScWinningInfo})).catch((function(e){console.log(e)}))},handleEdit:function(e,t){console.log(e,t),this.$router.push("/winninginfodetails/"+t.id)}},created:function(){this.getScWinningInfo()}},Me=ze,Re=Object(o["a"])(Me,Oe,Pe,!1,null,"2c42279b",null),Be=Re.exports,We=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"min-height":"500px","margin-bottom":"10px"}},[s("el-select",{attrs:{placeholder:"请选择竞赛"},on:{change:e.scChange},model:{value:e.scId,callback:function(t){e.scId=t},expression:"scId"}},e._l(e.studentScInfoList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.scName,value:e.id}})})),1),s("el-select",{attrs:{placeholder:"请选择考核项目"},on:{change:e.epChange},model:{value:e.epId,callback:function(t){e.epId=t},expression:"epId"}},e._l(e.examProjectList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.projectName,value:e.id}})})),1),s("div",{staticStyle:{width:"100%",height:"600px"},attrs:{id:"echarts-main"}})],1)},Je=[],Qe=s("63e3"),Ve={components:{},props:{},data:function(){return{studentId:"",studentScInfoList:[],scId:"",examProjectList:[],epId:"",scExamList:[],charts:"成绩"}},computed:{},watch:{},methods:{getStudentScInfoList:function(){var e=this,t=JSON.parse(f.a.get("student")).id;t&&(this.studentId=t,y({url:"/scInfo/studentScInfoList/".concat(t),method:"get"}).then((function(t){e.studentScInfoList=t.data.studentScInfoList})).catch((function(e){console.log(e)})))},getExamProjectList:function(e){var t=this;y({url:"/examProject/list/".concat(e),method:"get"}).then((function(e){t.examProjectList=e.data.examProjectList})).catch((function(e){console.log(e)}))},scChange:function(e){this.epId="",this.examProjectList=[],Qe.init(document.getElementById("echarts-main")).dispose(),this.getExamProjectList(e)},epChange:function(e){var t=this;this.scExamList=[],Qe.init(document.getElementById("echarts-main")).dispose(),y({url:"/scExam/list/".concat(this.studentId,"/").concat(this.scId,"/").concat(e),method:"get"}).then((function(e){500!=e.code?(t.scExamList=e.data.scExamList,t.drawing()):t.$message({showClose:!0,message:"占无成绩",type:"warning"})})).catch((function(e){console.log(e)}))},drawing:function(){for(var e="",t=0;t<this.studentScInfoList.length;t++)this.studentScInfoList[t].id==this.scId&&(e+=this.studentScInfoList[t].scName+"：");for(var s=0;s<this.examProjectList.length;s++)this.examProjectList[s].id==this.epId&&(e+=this.examProjectList[s].projectName+"考核");for(var n=[],i=0;i<this.scExamList.length;i++)n.push("第"+this.scExamList[i].examIndex+"次考核");for(var a=[],o=0;o<this.scExamList.length;o++)a.push(this.scExamList[o].score);var l=Qe.init(document.getElementById("echarts-main"),"dark");l.setOption({title:{text:e,x:"center"},tooltip:{axisPointer:{type:"shadow"}},xAxis:{name:"次序",type:"category",data:n},yAxis:{name:"分",type:"value",min:0,max:100},series:[{data:a,type:"line",itemStyle:{normal:{color:"#d14a61"}},lineStyle:{normal:{color:"green"}},label:{normal:{show:!0,position:"top",color:"#d14a61",fontWeight:"bold"}}}]})}},created:function(){this.getStudentScInfoList()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},He=Ve,Ye=Object(o["a"])(He,We,Je,!1,null,"f317036e",null),Ge=Ye.exports,Ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"admin-main"},[s("div",{staticClass:"header"},[e._m(0),s("div",{staticClass:"teacherinfo"},[s("img",{staticClass:"header-img",attrs:{src:e.teacher.headerUrl}}),s("span",[e._v(e._s(e.teacher.name))]),s("span",[e._v("|")]),s("span",{staticClass:"exit",on:{click:e.exit}},[e._v("退出")])])]),s("div",{staticClass:"content"},[s("div",{staticClass:"left"},[s("el-menu",{staticClass:"menu",attrs:{router:"","default-active":e.defaultActive,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[s("el-submenu",{attrs:{index:"teacherMenu"}},[s("template",{slot:"title"},[s("span",{staticClass:"iconfont icon-laoshi adminicon"}),s("span",[e._v("教师管理模块")])]),s("el-submenu",{attrs:{index:"scinfo"}},[s("template",{slot:"title"},[e._v("技能竞赛管理")]),s("el-menu-item",{attrs:{index:"scinfoadd",route:{path:"/adminMain/scinfoadd"}}},[e._v("添加技能竞赛")]),s("el-menu-item",{attrs:{index:"sctripadd",route:{path:"/adminMain/sctripadd"}}},[e._v("竞赛行程添加")]),s("el-menu-item",{attrs:{index:"scinfolist",route:{path:"/adminMain/scinfolist"}}},[e._v("技能竞赛列表")]),s("el-menu-item",{attrs:{index:"scApplylist",route:{path:"/adminMain/scApplylist"}}},[e._v("竞赛申请管理")])],2),s("el-submenu",{attrs:{index:"wi"}},[s("template",{slot:"title"},[e._v("获奖信息管理")]),s("el-menu-item",{attrs:{index:"wiadd",route:{path:"/adminMain/wiadd"}}},[e._v("添加获奖信息")]),s("el-menu-item",{attrs:{index:"wilist",route:{path:"/adminMain/wilist"}}},[e._v("获奖信息列表")])],2),s("el-submenu",{attrs:{index:"studentclass"}},[s("template",{slot:"title"},[e._v("班级竞赛管理")]),s("el-menu-item",{attrs:{index:"studentlist",route:{path:"/adminMain/studentlist"}}},[e._v("班级学生列表")])],2)],2),s("el-submenu",{attrs:{index:"adminMenu"}},[s("template",{slot:"title"},[s("span",{staticClass:"iconfont icon-admin adminicon"}),s("span",[e._v("Admin管理模块")])]),s("el-submenu",{attrs:{index:"college"}},[s("template",{slot:"title"},[e._v("学院管理")]),s("el-menu-item",{attrs:{index:"collegeadd",route:{path:"/adminMain/collegeadd"}}},[e._v("添加学院")]),s("el-menu-item",{attrs:{index:"collegelist",route:{path:"/adminMain/collegelist"}}},[e._v("学院列表")])],2),s("el-submenu",{attrs:{index:"teacher"}},[s("template",{slot:"title"},[e._v("教师管理")]),s("el-menu-item",{attrs:{index:"teacheradd",route:{path:"/adminMain/teacheradd"}}},[e._v("添加教师")]),s("el-menu-item",{attrs:{index:"teacherlist",route:{path:"/adminMain/teacherlist"}}},[e._v("教师列表")])],2),s("el-submenu",{attrs:{index:"class"}},[s("template",{slot:"title"},[e._v("班级管理")]),s("el-menu-item",{attrs:{index:"classadd",route:{path:"/adminMain/classadd"}}},[e._v("添加班级")])],2)],2),s("el-menu-item",{attrs:{index:"details",route:{path:"/adminMain/details"}}},[s("span",{staticClass:"iconfont icon-xitong adminicon"}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("系统说明")])])],1)],1),s("div",{staticClass:"right"},[s("div",{staticClass:"router-view"},[s("router-view")],1)])])])},Xe=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"management-name"},[s("span",[e._v("技能竞赛管理后台")])])}],Ze={components:{},props:{},data:function(){return{defaultActive:this.$route.name,teacher:{id:1,name:"谢丁峰",sex:"男",phone:"11111111111",password:"666666",qq:"1954418428",headerUrl:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",officeName:"二教2101",isAdmin:1,collegeId:1,college:null,scInfoList:[],aclass:null}}},computed:{},watch:{$route:function(e,t){this.defaultActive=e.name}},methods:{exit:function(){f.a.get("teacher")&&f.a.get("cpt-token")&&y({url:"/login/logout",method:"get"}).then((function(e){500!=e&&(f.a.remove("teacher"),f.a.remove("cpt-token"),f.a.remove("isAdmin"),window.location.href="/")})).catch((function(e){console.log(e)})),window.location.href="/"},getTeacherInfo:function(){if(f.a.get("teacher")){var e=f.a.get("teacher");e&&(this.teacher=JSON.parse(e))}}},created:function(){this.getTeacherInfo()}},et=Ze,tt=(s("a746"),Object(o["a"])(et,Ke,Xe,!1,null,"ded7b1cc",null)),st=tt.exports,nt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticClass:"elcard",attrs:{shadow:"always"}},[s("div",[e._v("技能竞赛后台管理系统说明")]),s("div",[s("div",[e._v("\r\n                        （1）教师模块主要用于教师管理技能竞赛信息、竞赛获奖信息、班级学生信息等。\r\n                        ")]),s("div",[e._v("\r\n                        （2）Admin模块主要用于超级管理员管理进行学院、教师、班级的信息管理等。\r\n                        ")])])])],1)},it=[],at={components:{},props:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},ot=at,lt=(s("4240"),Object(o["a"])(ot,nt,it,!1,null,"b92aae24",null)),ct=lt.exports,rt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticClass:"elcard",attrs:{shadow:"always"}},[s("div",[e._v(e._s(e.title))]),s("el-form",{ref:"ruleForm",attrs:{model:e.college,"label-position":"top","label-width":"80px"}},[s("el-form-item",{attrs:{label:"学院名称",prop:"collegeName"}},[s("el-input",{model:{value:e.college.collegeName,callback:function(t){e.$set(e.college,"collegeName",t)},expression:"college.collegeName"}})],1),s("el-form-item",{attrs:{label:"学院办公室",prop:"officeName"}},[s("el-input",{model:{value:e.college.officeName,callback:function(t){e.$set(e.college,"officeName",t)},expression:"college.officeName"}})],1),s("el-form-item",[e.isUpdate?s("el-button",{attrs:{type:"success"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确定修改")]):s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确定添加")])],1)],1)],1)],1)},dt=[],ut={components:{},props:{},data:function(){return{title:"添加学院信息",isUpdate:!1,college:{collegeName:"",officeName:""},rules:{collegeName:[{required:!0,message:"请输入学院名称",trigger:"blur"}],officeName:[{required:!0,message:"请输入学院办公室",trigger:"blur"}]}}},computed:{},watch:{$route:function(e,t){e.path!=t.path&&Object.assign(this.$data,this.$options.data())}},methods:{addCollege:function(){var e=this;y({url:"/college/add",method:"post",data:{collegeName:this.college.collegeName,officeName:this.college.officeName}}).then((function(t){console.log(t),500!=t.code?(console.log("成功"),e.$message({message:"添加学院信息成功",type:"success"})):(console.log("失败"),e.$message({message:t.msg,type:"error"}))})).catch((function(e){console.log(e)}))},getCollegeById:function(e){var t=this;y({url:"/college/get/".concat(e),method:"get"}).then((function(e){t.college=e.data.college}))},updateCollege:function(){var e=this;y({url:"/college/update",method:"put",data:{id:this.college.id,collegeName:this.college.collegeName,officeName:this.college.officeName}}).then((function(t){console.log(t),500!=t.code?(console.log("成功"),e.$message({message:"修改学院信息成功",type:"success"})):(console.log("失败"),e.$message({message:t.msg,type:"error"}))})).catch((function(e){console.log(e)}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.isUpdate?t.updateCollege():t.addCollege()}))}},created:function(){this.$route.params&&this.$route.params.id&&(this.isUpdate=!0,this.title="修改学院信息",this.getCollegeById(this.$route.params.id))},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},ft=ut,mt=(s("875a"),Object(o["a"])(ft,rt,dt,!1,null,"d66fcf3e",null)),pt=mt.exports,ht=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticClass:"elcard",attrs:{shadow:"always"}},[s("div",[e._v("学院列表")]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.collegeList,border:""}},[s("el-table-column",{attrs:{label:"学院名称",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.collegeName))])]}}])}),s("el-table-column",{attrs:{label:"学院办公室",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.officeName))])]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)},gt=[],vt={components:{},props:{},data:function(){return{collegeList:[{collegeName:"王小虎",officeName:"上海市普陀区金沙江路 1518 弄"},{collegeName:"王小虎",officeName:"上海市普陀区金沙江路 1517 弄"},{collegeName:"王小虎",officeName:"上海市普陀区金沙江路 1519 弄"}]}},computed:{},watch:{},methods:{getCollegeList:function(){var e=this;y({url:"/college/list",method:"get"}).then((function(t){e.collegeList=t.data.collegeList})).catch((function(e){}))},handleEdit:function(e,t){console.log(e,t),this.$router.push({path:"collegeadd/".concat(t.id)})},handleDelete:function(e,t){var s=this;console.log(e,t),this.$confirm("此操作将永久删除学院信息,以及该学院下的老师、学生、班级、技能竞赛信息等,是否继续?","危险警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){y({url:"/college/delete/".concat(t.id),method:"delete"}).then((function(e){500!=e.code?(s.$message({type:"success",message:"删除成功!"}),s.getCollegeList()):s.$message({type:"error",message:"删除失败!"})})).catch((function(e){console.log(e)}))})).catch((function(e){s.$message({type:"warning",message:"取消删除!"})}))}},created:function(){this.getCollegeList()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},bt=vt,It=(s("c3ec"),Object(o["a"])(bt,ht,gt,!1,null,"0fb34cc0",null)),yt=It.exports,wt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticClass:"elcard",attrs:{shadow:"always"}},[s("div",[e._v(e._s(e.title))]),s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.teacher,rules:e.rules,"label-width":"150px"}},[s("el-form-item",{attrs:{label:"头像:",prop:"headerUrl"}},[s("img",{staticClass:"header-img",attrs:{src:e.teacher.headerUrl,alt:""}}),s("el-upload",{ref:"upload",attrs:{name:"resources",action:"http://localhost:9000/oss/upload","on-success":e.uploadFileSuccess,"on-error":e.uploadFileError,multiple:"",accept:".jpg,.png"}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传头像")]),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),s("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[s("el-input",{model:{value:e.teacher.name,callback:function(t){e.$set(e.teacher,"name",t)},expression:"teacher.name"}})],1),s("el-form-item",{attrs:{label:"性别:",prop:"sex"}},[s("el-radio",{attrs:{label:"男"},model:{value:e.teacher.sex,callback:function(t){e.$set(e.teacher,"sex",t)},expression:"teacher.sex"}},[e._v("男")]),s("el-radio",{attrs:{label:"女"},model:{value:e.teacher.sex,callback:function(t){e.$set(e.teacher,"sex",t)},expression:"teacher.sex"}},[e._v("女")])],1),s("el-form-item",{attrs:{label:"手机:",prop:"phone"}},[s("el-input",{model:{value:e.teacher.phone,callback:function(t){e.$set(e.teacher,"phone",t)},expression:"teacher.phone"}})],1),s("el-form-item",{attrs:{label:"密码:",prop:"password"}},[s("el-input",{model:{value:e.teacher.password,callback:function(t){e.$set(e.teacher,"password",t)},expression:"teacher.password"}})],1),s("el-form-item",{attrs:{label:"QQ:",prop:"qq"}},[s("el-input",{model:{value:e.teacher.qq,callback:function(t){e.$set(e.teacher,"qq",t)},expression:"teacher.qq"}})],1),s("el-form-item",{attrs:{label:"办公室名称:",prop:"officeName"}},[s("el-input",{model:{value:e.teacher.officeName,callback:function(t){e.$set(e.teacher,"officeName",t)},expression:"teacher.officeName"}})],1),s("el-form-item",{attrs:{label:"是否为超级管理员:",prop:"isAdmin"}},[s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},model:{value:e.teacher.isAdmin,callback:function(t){e.$set(e.teacher,"isAdmin",t)},expression:"teacher.isAdmin"}})],1),s("el-form-item",{attrs:{label:"所属学院:",prop:"collegeId"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.teacher.collegeId,callback:function(t){e.$set(e.teacher,"collegeId",t)},expression:"teacher.collegeId"}},e._l(e.collegeList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.collegeName,value:e.id}})})),1)],1),s("el-form-item",[e.isUpdate?s("el-button",{attrs:{type:"success"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确定修改")]):s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确定添加")]),s("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)},xt=[],_t={components:{},props:{},data:function(){return{title:"添加教师信息",isUpdate:!1,isSuccessSubmit:!1,collegeList:[],teacher:{headerUrl:"https://dss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2561659095,299912888&fm=26&gp=0.jpg",name:"范范范",sex:"男",phone:"13142211138",password:"123456789",qq:"1954418428",officeName:"1教101",isAdmin:0,collegeId:""},ObjectName:"",rules:{headerUrl:[{required:!0,message:"请上传头像",trigger:"blur"}],name:[{required:!0,message:"请填写教师姓名",trigger:"blur"},{min:2,max:8,message:"长度在 2 到 8 个字符",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],phone:[{required:!0,message:"请填写手机号",trigger:"change"},{min:11,max:11,message:"手机号为11个字符",trigger:"blur"}],password:[{required:!0,message:"请填写登入密码",trigger:"blur"},{min:8,max:16,message:"密码为为8到16个字符",trigger:"blur"}],qq:[{required:!0,message:"请填写QQ",trigger:"blur"},{min:5,max:14,message:"QQ为为5到14个字符",trigger:"blur"}],officeName:[{required:!0,message:"请填写办公室地址",trigger:"blur"}],isAdmin:[{required:!0,message:"请填写是否为超级管理员",trigger:"blur"}],collegeId:[{required:!0,message:"请选择学院",trigger:"blur"}]}}},computed:{},watch:{$route:function(e,t){e.path!=t.path&&Object.assign(this.$data,this.$options.data())}},methods:{getCollgeList:function(){var e=this;y({url:"/college/list"}).then((function(t){e.collegeList=t.data.collegeList}))},addTeacher:function(){var e=this;y({url:"/teacher/add",method:"post",data:{headerUrl:this.teacher.headerUrl,name:this.teacher.name,sex:this.teacher.sex,phone:this.teacher.phone,password:this.teacher.password,qq:this.teacher.qq,officeName:this.teacher.officeName,isAdmin:this.teacher.isAdmin,collegeId:this.teacher.collegeId}}).then((function(t){500!=t.code?(console.log("成功"),e.$message({message:"添加教师信息成功",type:"success"}),e.isSuccessSubmit=!0):(console.log("失败"),e.$message({message:t.msg,type:"error"}))}))},updateTeacher:function(){var e=this;y({url:"/teacher/update",method:"put",data:{id:this.teacher.id,headerUrl:this.teacher.headerUrl,name:this.teacher.name,sex:this.teacher.sex,phone:this.teacher.phone,password:this.teacher.password,qq:this.teacher.qq,officeName:this.teacher.officeName,isAdmin:this.teacher.isAdmin,collegeId:this.teacher.collegeId}}).then((function(t){500!=t.code?(console.log("成功"),e.$message({message:"修改教师信息成功",type:"success"}),e.isSuccessSubmit=!0):(console.log("失败"),e.$message({message:t.msg,type:"error"}))}))},getTeacher:function(e){var t=this;y({url:"/teacher/get/".concat(e)}).then((function(e){t.teacher=e.data.teacher})).catch((function(e){console.log(e)}))},uploadFileSuccess:function(e,t,s){this.ObjectName&&(console.log("删除之前上传的文件"),this.fileRemove(this.ObjectName)),this.$refs.upload.clearFiles(),console.log("上传文件成功后获得的响应",e);e.data.urlList[0].fileName;var n=e.data.urlList[0].resourceName;this.ObjectName=n;var i=e.data.urlList[0].resourceUrl;this.teacher.headerUrl=i},uploadFileError:function(e,t,s){console.log("上传文件失败后获得的响应",response),this.$refs.upload.clearFiles(),this.$message({type:"error",message:"导入失败！",center:!0,duration:1e3})},fileRemove:function(e){var t=this;console.log("开始删除"),y({url:"/oss/delete",method:"delete",params:{ObjectName:e}}).then((function(e){t.ObjectName=""})).catch((function(e){}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.isUpdate?t.updateTeacher():t.addTeacher()}))},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){this.getCollgeList(),this.$route.params&&this.$route.params.id&&(this.title="修改教师信息",this.isUpdate=!0,this.getTeacher(this.$route.params.id))},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){this.ObjectName&&!this.isSuccessSubmit&&(console.log("关闭删除未提交的"),this.fileRemove(this.ObjectName))},destroyed:function(){},activated:function(){}},Lt=_t,St=(s("11ec"),Object(o["a"])(Lt,wt,xt,!1,null,"60c62e9f",null)),Ct=St.exports,kt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticClass:"elcard",attrs:{shadow:"always"}},[s("el-button",{on:{click:e.clearFilter}},[e._v("清除所有过滤器")]),s("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.teacherList}},[s("el-table-column",{attrs:{label:"姓名",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("img",{staticClass:"header-img",attrs:{src:t.row.headerUrl}}),s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.name))])]}}])}),s("el-table-column",{attrs:{label:"性别",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.sex))])]}}])}),s("el-table-column",{attrs:{label:"电话",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.phone))])]}}])}),s("el-table-column",{attrs:{label:"qq",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.qq))])]}}])}),s("el-table-column",{attrs:{label:"办公室",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.officeName))])]}}])}),s("el-table-column",{attrs:{label:"学院",width:"170",filters:e.filters,"filter-method":e.filterTag,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:"success","disable-transitions":""}},[e._v(e._s(t.row.college.collegeName))])]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)},$t=[],Tt={components:{},props:{},data:function(){return{teacherList:[],filters:[]}},computed:{},watch:{},methods:{getTeacherList:function(){var e=this;y({url:"/teacher/list",method:"get"}).then((function(t){e.teacherList=t.data.teacherList,e.getFilters()}))},getFilters:function(){for(var e=0;e<this.teacherList.length;e++){var t=this.teacherList[e].college,s=t.id,n=t.collegeName;this.filters.push({text:n,value:s})}for(var i=this.filters,a=[],o={},l=0;l<i.length;l++)o[i[l].value]||(a.push(i[l]),o[i[l].value]=!0);this.filters=a},clearFilter:function(){this.$refs.filterTable.clearFilter()},filterTag:function(e,t){return t.college.id===e},handleEdit:function(e,t){console.log(e,t),this.$router.push({path:"teacheradd/".concat(t.id)})},handleDelete:function(e,t){var s=this;console.log(e,t),this.$confirm("此操作将永久删除老师信息,以及该老师下的班级、竞赛获奖信息、技能竞赛信息等,是否继续?","危险警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){y({url:"/teacher/delete/".concat(t.id),method:"delete"}).then((function(e){500!=e.code?(s.$message({type:"success",message:"删除成功!"}),s.getTeacherList()):s.$message({type:"error",message:"删除失败!"})})).catch((function(e){console.log(e)}))})).catch((function(e){s.$message({type:"warning",message:"取消删除!"})}))}},created:function(){this.getTeacherList()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},Nt=Tt,Et=(s("a694"),Object(o["a"])(Nt,kt,$t,!1,null,"c04182ac",null)),qt=Et.exports,Ut=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticClass:"elcard",attrs:{shadow:"always"}},[s("div",[e._v("添加班级信息")]),s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.classData,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"所属学院:",prop:"collegeId"}},[s("el-select",{attrs:{placeholder:"请选择"},on:{change:e.refreshTeacherList},model:{value:e.classData.collegeId,callback:function(t){e.$set(e.classData,"collegeId",t)},expression:"classData.collegeId"}},e._l(e.collegeList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.collegeName,value:e.id}})})),1)],1),s("el-form-item",{attrs:{label:"辅导员:",prop:"teacherId"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.classData.teacherId,callback:function(t){e.$set(e.classData,"teacherId",t)},expression:"classData.teacherId"}},e._l(e.teacherList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-form-item",{attrs:{label:"班级名称:",prop:"className"}},[s("el-input",{model:{value:e.classData.className,callback:function(t){e.$set(e.classData,"className",t)},expression:"classData.className"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确定添加")]),s("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)},jt=[],Dt={components:{},props:{},data:function(){return{isUpdate:!1,collegeList:[],teacherList:[],classData:{className:"",collegeId:"",teacherId:""},rules:{className:[{required:!0,message:"请填写教师姓名",trigger:"blur"},{min:2,max:8,message:"长度在 2 到 8 个字符",trigger:"blur"}],collegeId:[{required:!0,message:"请选择学院",trigger:"blur"}],teacherId:[{required:!0,message:"请选择辅导员",trigger:"blur"}]}}},computed:{},watch:{},methods:{addClass:function(){var e=this;y({url:"/class/add",method:"post",data:{className:this.classData.className,collegeId:this.classData.collegeId,teacherId:this.classData.teacherId}}).then((function(t){console.log(t),500!=t.code?(console.log("成功"),e.$message({message:"添加班级信息成功",type:"success"})):(console.log("失败"),e.$message({message:t.msg,type:"error"}))})).catch((function(e){console.log(e)}))},getCollegeList:function(){var e=this;y({url:"/college/collegeTeacherList",method:"get"}).then((function(t){e.collegeList=t.data.collegeList})).catch((function(e){}))},refreshTeacherList:function(){for(var e=0;e<this.collegeList.length;e++)this.classData.collegeId==this.collegeList[e].id&&(this.teacherList=this.collegeList[e].teacherList)},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.addClass()}))},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){this.getCollegeList()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},At=Dt,Ft=(s("9ad5"),Object(o["a"])(At,Ut,jt,!1,null,"4a83b558",null)),Ot=Ft.exports,Pt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticClass:"elcard",attrs:{shadow:"always"}},[s("div",[e._v(e._s(e.title))]),s("div",{staticStyle:{display:"flex"}},[s("div",{staticStyle:{"margin-right":"20px"}},[s("el-form",{ref:"form",staticStyle:{width:"500px"},attrs:{rules:e.rules,model:e.scinfo,"label-width":"150px"}},[s("el-form-item",{attrs:{label:"技能竞赛名称",prop:"scName"}},[s("el-input",{model:{value:e.scinfo.scName,callback:function(t){e.$set(e.scinfo,"scName",t)},expression:"scinfo.scName"}})],1),s("el-form-item",{attrs:{label:"主办方",prop:"scSponsor"}},[s("el-input",{model:{value:e.scinfo.scSponsor,callback:function(t){e.$set(e.scinfo,"scSponsor",t)},expression:"scinfo.scSponsor"}})],1),s("el-form-item",{attrs:{label:"所属学院",prop:"collegeId"}},[s("el-select",{attrs:{placeholder:"请选择学院"},model:{value:e.scinfo.collegeId,callback:function(t){e.$set(e.scinfo,"collegeId",t)},expression:"scinfo.collegeId"}},e._l(e.collegeList,(function(e){return s("el-option",{key:e.id,attrs:{value:e.id,label:e.collegeName}})})),1)],1),s("el-form-item",{attrs:{label:"技能竞赛描述",prop:"description"}},[s("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:e.scinfo.description,callback:function(t){e.$set(e.scinfo,"description",t)},expression:"scinfo.description"}})],1),s("el-form-item",{attrs:{label:"指导老师",prop:"teacherId"}},[s("span",[e._v(e._s(e.teacher.name))]),s("img",{staticClass:"header-img",attrs:{src:e.teacher.headerUrl}})]),s("el-form-item",{attrs:{label:"竞赛开赛时间",prop:"startTime"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择开赛日期"},model:{value:e.scinfo.startTime,callback:function(t){e.$set(e.scinfo,"startTime",t)},expression:"scinfo.startTime"}})],1),s("el-form-item",{attrs:{label:"竞赛结赛时间",prop:"endTime"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择结赛日期"},model:{value:e.scinfo.endTime,callback:function(t){e.$set(e.scinfo,"endTime",t)},expression:"scinfo.endTime"}})],1),s("el-form-item",[e.isUpdate?s("el-button",{attrs:{type:"success"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("确定修改")]):s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("确定添加")]),e.isUpdate?e._e():s("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1),s("el-form-item",[s("el-button",{attrs:{size:"small",type:"primary",disabled:!e.scId},on:{click:e.addTrip}},[e._v("为此技能竞赛添加行程")])],1)],1)],1),s("div",[s("div",[e._v(e._s(e.scId?"为此技能竞赛信息添加相关文件":"请先添加一个技能竞赛信息,再为此添加相关文件"))]),s("el-upload",{ref:"upload",attrs:{name:"resources",action:"http://localhost:9000/oss/upload",multiple:"","on-remove":e.handleRemove,"on-success":e.uploadFileSuccess,"file-list":e.fileList,"auto-upload":!1}},[s("el-button",{attrs:{slot:"trigger",size:"small",type:"primary",disabled:!e.scId},slot:"trigger"},[e._v("选取文件")]),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success",disabled:!e.scId},on:{click:e.submitUpload}},[e._v("上传到服务器")]),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("文件总大小不超过20M")])],1)],1)])])],1)},zt=[],Mt={components:{},props:{},data:function(){return{title:"添加技能竞赛信息",isUpdate:!1,isSuccessSubmit:!1,teacher:{id:1,name:"谢丁峰",sex:"男",phone:"11111111111",password:"666666",qq:"1954418428",headerUrl:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",officeName:"二教2101",isAdmin:1,collegeId:2,college:null,scInfoList:[],aclass:null},scId:0,isUpload:!1,isReSubmit:!1,scinfo:{scName:"",scSponsor:"",collegeId:1,description:"",status:1,startTime:"",endTime:""},rules:{scName:[{required:!0,message:"请填写技能竞赛名称",trigger:"blur"}],scSponsor:[{required:!0,message:"请填写主办方名称",trigger:"blur"}],collegeId:[{required:!0,message:"请选择学院",trigger:"blur"}],description:[{required:!0,message:"请填写竞赛描述",trigger:"blur"}],startTime:[{required:!0,message:"请填写开赛时间",trigger:"blur"}],endTime:[{required:!0,message:"请填写结赛时间",trigger:"blur"}]},collegeList:[],scResourceList:[],fileList:[]}},computed:{},watch:{$route:function(e,t){e.path!=t.path&&Object.assign(this.$data,this.$options.data())}},methods:{getTeacher:function(){},getScInfo:function(e){var t=this;y({url:"/scInfo/get/".concat(e),method:"get"}).then((function(e){t.scinfo=e.data.scInfo,t.scId=t.scinfo.id,t.scinfo.scResourceList.length&&(t.isUpload=!0);for(var s=0;s<t.scinfo.scResourceList.length;s++)t.fileList.push({name:t.scinfo.scResourceList[s].fileName,url:t.scinfo.scResourceList[s].resourceUrl,ObjectName:t.scinfo.scResourceList[s].resourceName,id:t.scinfo.scResourceList[s].id})}))},getCollegeList:function(){var e=this;y({url:"/college/list",method:"get"}).then((function(t){e.collegeList=t.data.collegeList}))},formateDate:function(e){function t(e){return e<10?"0"+e:e}var s=new Date(e),n=s.getFullYear()+"-"+t(s.getMonth()+1)+"-"+t(s.getDate())+" "+t(s.getHours())+":"+t(s.getMinutes())+":"+t(s.getSeconds());return n},addScInfo:function(){var e=this;y({url:"/scInfo/add",method:"post",data:{scName:this.scinfo.scName,scSponsor:this.scinfo.scSponsor,collegeId:this.scinfo.collegeId,description:this.scinfo.description,teacherId:this.teacher.id,status:this.scinfo.status,startTime:this.formateDate(this.scinfo.startTime),endTime:this.formateDate(this.scinfo.endTime)}}).then((function(t){500!=t.code?(e.scId=t.data.scInfo.id,e.isReSubmit=!0,e.$message({message:"添加成功",type:"success"})):e.$message({message:"添加失败",type:"error"})})).catch((function(e){}))},updateScInfo:function(){var e=this;y({url:"/scInfo/update",method:"put",data:{id:this.scinfo.id,scName:this.scinfo.scName,scSponsor:this.scinfo.scSponsor,collegeId:this.scinfo.collegeId,description:this.scinfo.description,teacherId:this.teacher.id,status:this.scinfo.status,startTime:this.formateDate(this.scinfo.startTime),endTime:this.formateDate(this.scinfo.endTime)}}).then((function(t){500!=t.code?e.$message({message:"修改成功",type:"success"}):e.$message({message:"修改失败",type:"error"})})).catch((function(e){}))},submitUpload:function(){this.scId?this.$refs.upload.submit():this.$message({message:"请先添加技能竞赛信息",type:"warning"})},uploadFileSuccess:function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t,s,n){var i,a,o,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("uploadFileSuccess"),i=t.data.urlList[0].fileName,a=t.data.urlList[0].resourceName,o=t.data.urlList[0].resourceUrl,l=t.data.urlList[0].resourceType,0,e.next=8,y({url:"/scResource/add",method:"post",data:{scId:this.scId,fileName:i,resourceName:a,resourceUrl:o,resourceType:l}});case 8:c=e.sent,500!=c.code&&(this.isUpload=!0,console.log("上传成功后的资源id:",c.data.scResource.id),this.fileList.push({name:i,url:o,ObjectName:a,id:c.data.scResource.id}),this.$message({message:"上传文件成功",type:"success"}));case 10:case"end":return e.stop()}}),e,this)})));function t(t,s,n){return e.apply(this,arguments)}return t}(),handleRemove:function(e,t){y({url:"/oss/delete",method:"delete",params:{ObjectName:e.ObjectName}}).then((function(e){})).catch((function(e){})),y({url:"/scResource/delete/".concat(e.id),method:"delete"}).then((function(e){})).catch((function(e){}));var s=this.fileList.filter((function(t){return t.id!=e.id}));this.fileList=s,0==this.fileList.length&&(this.isUpload=!1)},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.isUpdate?t.updateScInfo():t.isReSubmit?t.$message({message:"请勿重复提交技能竞赛信息",type:"warning"}):t.addScInfo()}))},resetForm:function(e){this.$refs[e].resetFields(),this.isReSubmit=!1,this.scId=0,this.$refs.upload.clearFiles(),this.isUpload=!1},addTrip:function(){this.scId&&this.$router.push("/adminMain/sctripadd/"+this.scId)}},created:function(){if(f.a.get("teacher")){var e=f.a.get("teacher");e&&(this.teacher=JSON.parse(e))}this.$route.params&&this.$route.params.id&&(this.title="修改技能竞赛信息",this.isUpdate=!0,this.getScInfo(this.$route.params.id),this.isSuccessSubmit=!0),this.getCollegeList(),this.scinfo.collegeId=this.teacher.collegeId},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},beforeRouteLeave:function(e,t,s){var n=this;s(!1),this.scId&&!this.isUpload?this.$confirm("您还未给此技能竞赛添加相关文件, 确定要离开?","提示",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){console.log("确定"),s(),n.sure()})).catch((function(){})):s()}},Rt=Mt,Bt=(s("7159"),Object(o["a"])(Rt,Pt,zt,!1,null,"ba0a2aac",null)),Wt=Bt.exports,Jt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticClass:"elcard",attrs:{shadow:"always"}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.teacherScInfoList}},[s("el-table-column",{attrs:{label:"技能竞赛名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.scName))])]}}])}),s("el-table-column",{attrs:{label:"主办方单位",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.scSponsor))])]}}])}),s("el-table-column",{attrs:{label:"竞赛描述",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.description))])]}}])}),s("el-table-column",{attrs:{label:"开赛时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{staticClass:"el-icon-time"}),s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.startTime))])]}}])}),s("el-table-column",{attrs:{label:"结赛时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{staticClass:"el-icon-time"}),s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.endTime))])]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)},Qt=[],Vt={components:{},props:{},data:function(){return{teacher:{id:1,name:"谢丁峰",sex:"男",phone:"11111111111",password:"666666",qq:"1954418428",headerUrl:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",officeName:"二教2101",isAdmin:1,collegeId:2,college:null,scInfoList:[],aclass:null},teacherScInfoList:[]}},computed:{},watch:{},methods:{getTeacherScInfoList:function(){var e=this;y({url:"/scInfo/teacherScInfoList/".concat(this.teacher.id),method:"get"}).then((function(t){e.teacherScInfoList=t.data.teacherScInfoList}))},handleEdit:function(e,t){this.$router.push("/adminMain/scinfoadd/"+t.id)},handleDelete:function(e,t){var s=this;this.$confirm("此操作将永久该技能竞赛信息、与其相关的申请信息，获奖信息，资源文件信息等, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){y({url:"/scInfo/delete/".concat(t.id),method:"delete"}).then((function(e){s.$message({type:"success",message:"删除成功!"}),s.getTeacherScInfoList()})).catch((function(e){s.$message({type:"error",message:"删除失败!"})}))}))}},created:function(){this.getTeacherScInfoList()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},Ht=Vt,Yt=(s("ed66"),Object(o["a"])(Ht,Jt,Qt,!1,null,"463b66fe",null)),Gt=Yt.exports,Kt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticClass:"elcard",attrs:{shadow:"always"}},[s("el-button",{on:{click:e.clearFilter}},[e._v("清除所有过滤器")]),s("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.scApplyList}},[s("el-table-column",{attrs:{label:"技能竞赛名称",filters:e.filters,"filter-method":e.filterTag,"filter-placement":"bottom-end",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.scInfo.scName))])]}}])}),s("el-table-column",{attrs:{label:"申请人",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("img",{staticClass:"header-img",attrs:{src:t.row.student.headerUrl}}),s("span",[e._v(e._s(t.row.student.name))])]}}])}),s("el-table-column",{attrs:{label:"学院",width:"150",filters:e.filters2,"filter-method":e.filterTag2},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.student.college.collegeName))])]}}])}),s("el-table-column",{attrs:{label:"报名时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{staticClass:"el-icon-time"}),s("span",[e._v(e._s(t.row.createTime))])]}}])}),s("el-table-column",{attrs:{label:"审核状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[1==t.row.status?s("el-tag",{attrs:{type:"success",size:"medium"}},[e._v("已审核")]):s("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v("未审核")])],1)]}}])}),s("el-table-column",{attrs:{label:"申请文件",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.applyFile?s("form",{attrs:{action:t.row.applyFile}},[s("intput",{attrs:{type:"hidden",name:"Content-Disposition",value:"attachment;filename="+t.row.applyFile.slice(54)}}),s("button",{staticStyle:{height:"25px"},attrs:{type:"primary"}},[e._v("下载此申请文件")])],1):s("el-tag",[e._v("无申请文件")])]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(s){return e.updateStatus(t.row.id)}}},[e._v("审核")]),s("el-button",{attrs:{size:"mini",type:"warning",disabled:1==!t.row.status},on:{click:function(s){return e.doStudentExam(t.row.student.id)}}},[e._v("考核打分")])]}}])})],1)],1),s("el-dialog",{attrs:{title:"学生考核信息",visible:e.showStudentExamDialog,width:"80%"},on:{"update:visible":function(t){e.showStudentExamDialog=t},close:e.clearExamInfoList}},[s("div",{staticStyle:{"margin-bottom":"10px"}},[s("img",{staticClass:"header-img",attrs:{src:e.studentInfo.headerUrl}}),s("span",[e._v(e._s(e.studentInfo.name))])]),s("el-select",{attrs:{placeholder:"请选择竞赛"},on:{change:e.scChange},model:{value:e.scId,callback:function(t){e.scId=t},expression:"scId"}},e._l(e.finalScInfoList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.scName,value:e.id}})})),1),s("el-select",{attrs:{placeholder:"请选择考核项目"},on:{change:e.epChange},model:{value:e.epId,callback:function(t){e.epId=t},expression:"epId"}},e._l(e.examProjectList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.projectName,value:e.id}})})),1),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary",disabled:!e.epId},on:{click:e.addExam}},[e._v("添加考核信息")]),s("el-table",{staticStyle:{width:"100%","margin-bottom":"50px"},attrs:{height:"500",data:e.scExamList}},[s("el-table-column",{attrs:{label:"次序",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s("第"+t.row.examIndex+"次考核"))])]}}])}),s("el-table-column",{attrs:{label:"分数",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.score))])]}}])}),s("el-table-column",{attrs:{label:"描述",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.description))])]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.updateExam(t.row)}}},[e._v("修改")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.deleteExam(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),s("el-dialog",{attrs:{title:e.isAddExamInfo?"添加考核信息":"修改考核信息",visible:e.addOrUpdateExamDialog,width:"80%"},on:{"update:visible":function(t){e.addOrUpdateExamDialog=t},close:e.clearExamInfo}},[s("el-form",{staticStyle:{width:"600px"},attrs:{model:e.ExamInfo,"label-width":"120px","label-position":"right"}},[s("el-form-item",{attrs:{label:"次序:"}},[s("el-input",{attrs:{disabled:!0},model:{value:e.ExamInfo.examIndex,callback:function(t){e.$set(e.ExamInfo,"examIndex",t)},expression:"ExamInfo.examIndex"}})],1),s("el-form-item",{attrs:{label:"成绩:"}},[s("el-input",{attrs:{placeholder:"输入分数0~100"},model:{value:e.ExamInfo.score,callback:function(t){e.$set(e.ExamInfo,"score",t)},expression:"ExamInfo.score"}})],1),s("el-form-item",{attrs:{label:"获奖描述:"}},[s("el-input",{model:{value:e.ExamInfo.description,callback:function(t){e.$set(e.ExamInfo,"description",t)},expression:"ExamInfo.description"}})],1),s("el-form-item",[s("el-button",{attrs:{type:e.isAddExamInfo?"primary":"success"},on:{click:e.addOrUpdateSubmit}},[e._v("确定"+e._s(e.isAddExamInfo?"添加":"修改"))])],1)],1)],1)],1)},Xt=[],Zt={components:{},props:{},data:function(){return{teacher:{},scApplyList:[],filters:[],filters2:[],showStudentApplyListDialog:!1,StudentApplyList:[],showStudentExamDialog:!1,scId:"",epId:"",teacherScInfoList:[],examProjectList:[],scExamList:[],studentApplyIds:[],finalScInfoList:[],ExamInfo:{},addOrUpdateExamDialog:!1,isAddExamInfo:!1,studentInfo:{}}},computed:{},watch:{},methods:{getTeacherScApplyList:function(){var e=this;y({url:"/scApply/teacherScApplyList/".concat(this.teacher.id),method:"get"}).then((function(t){e.scApplyList=t.data.scApplyList,e.getFilters(),e.getFilters2()}))},getFilters:function(){for(var e=0;e<this.scApplyList.length;e++){var t=this.scApplyList[e].scInfo,s=t.id,n=t.scName;this.filters.push({text:n,value:s})}for(var i=this.filters,a=[],o={},l=0;l<i.length;l++)o[i[l].value]||(a.push(i[l]),o[i[l].value]=!0);this.filters=a},getFilters2:function(){for(var e=0;e<this.scApplyList.length;e++){var t=this.scApplyList[e].student.college,s=t.id,n=t.collegeName;this.filters2.push({text:n,value:s})}for(var i=this.filters2,a=[],o={},l=0;l<i.length;l++)o[i[l].value]||(a.push(i[l]),o[i[l].value]=!0);this.filters2=a},filterTag:function(e,t){return t.scInfo.id===e},filterTag2:function(e,t){return t.student.college.id===e},clearFilter:function(){this.$refs.filterTable.clearFilter()},updateStatus:function(e){var t=this;y({url:"/scApply/approval/".concat(e),method:"put"}).then((function(e){500!=e.code?t.$message({type:"success",message:"审核成功"}):t.$message({type:"error",message:"审核失败"})})).catch((function(e){}))},clearExamInfo:function(){this.ExamInfo={}},clearApplyInfo:function(){this.StudentApplyList=[]},clearExamInfoList:function(){this.scId="",this.epId="",this.scExamList=[],this.studentInfo={},this.examProjectList=[],this.studentApplyIds=[],this.finalScInfoList=[]},updateExam:function(e){this.isAddExamInfo=!1,console.log(e),this.addOrUpdateExamDialog=!0,this.ExamInfo=e},addExam:function(){this.isAddExamInfo=!0,this.addOrUpdateExamDialog=!0,this.ExamInfo.examIndex=1,this.scExamList[this.scExamList.length-1]&&(this.ExamInfo.examIndex=this.scExamList[this.scExamList.length-1].examIndex+1)},deleteExam:function(e){var t=this;console.log(e),y({url:"/scExam/delete/".concat(e),method:"delete"}).then((function(e){500!=e.code?(t.$message({showClose:!0,message:"删除成功",type:"success"}),t.epChange(t.epId)):t.$message({showClose:!0,message:"删除失败",type:"error"})})).catch((function(e){console.log(e)}))},addOrUpdateSubmit:function(){var e=this;this.isAddExamInfo?(this.ExamInfo.scId=this.scId,this.ExamInfo.studentId=this.studentInfo.id,this.ExamInfo.epId=this.epId,y({url:"/scExam/add",method:"post",data:this.ExamInfo}).then((function(t){500!=t.code?(e.$message({showClose:!0,message:"添加成功",type:"success"}),e.epChange(e.epId)):e.$message({showClose:!0,message:"添加失败",type:"error"})})).catch((function(e){console.log(e)}))):y({url:"/scExam/update",method:"put",data:this.ExamInfo}).then((function(t){500!=t.code?e.$message({showClose:!0,message:"修改成功",type:"success"}):e.$message({showClose:!0,message:"修改失败",type:"error"})})).catch((function(e){console.log(e)})),this.addOrUpdateExamDialog=!1},doStudentExam:function(e){var t=this;console.log("学生id：",e),y({url:"/scInfo/studentScInfoList/".concat(e),method:"get"}).then((function(e){t.studentApplyIds=e.data.studentScInfoList;for(var s=0;s<t.studentApplyIds.length;s++)for(var n=0;n<t.teacherScInfoList.length;n++)t.studentApplyIds[s].id==t.teacherScInfoList[n].id&&t.finalScInfoList.push(t.teacherScInfoList[n])})).catch((function(e){console.log(e)})),y({url:"/student/get/".concat(e),method:"get"}).then((function(e){t.studentInfo=e.data.studentInfo})).catch((function(e){console.log(e)})),this.showStudentExamDialog=!0},getExamProjectList:function(e){var t=this;y({url:"/examProject/list/".concat(e),method:"get"}).then((function(e){t.examProjectList=e.data.examProjectList})).catch((function(e){console.log(e)}))},scChange:function(e){this.epId="",this.getExamProjectList(e)},epChange:function(e){var t=this;this.scExamList=[],y({url:"/scExam/list/".concat(this.studentInfo.id,"/").concat(this.scId,"/").concat(e),method:"get"}).then((function(e){500!=e.code?t.scExamList=e.data.scExamList:t.$message({showClose:!0,message:"占无成绩",type:"warning"})})).catch((function(e){console.log(e)}))},getteacherScInfoList:function(){var e=this;y({url:"/scInfo/teacherScInfoList/".concat(this.teacher.id),method:"get"}).then((function(t){e.teacherScInfoList=t.data.teacherScInfoList})).catch((function(e){console.log(e)}))}},created:function(){if(f.a.get("teacher")){var e=f.a.get("teacher");e&&(this.teacher=JSON.parse(e),this.getTeacherScApplyList())}this.getteacherScInfoList()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},es=Zt,ts=(s("6708"),Object(o["a"])(es,Kt,Xt,!1,null,"4210960a",null)),ss=ts.exports,ns=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticClass:"elcard",attrs:{shadow:"always"}},[s("div",{staticStyle:{"margin-bottom":"20px"}},[s("span",{staticStyle:{"margin-right":"10px"}},[e._v("技能竞赛:")]),s("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请选择技能竞赛",disabled:e.isUpdate&&e.isUpdateIn},on:{change:e.change},model:{value:e.scId,callback:function(t){e.scId=t},expression:"scId"}},e._l(e.scInfoList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.scName,value:e.id}})})),1),s("el-button",{attrs:{type:"primary",round:""},on:{click:e.addStep}},[e._v("继续添加竞赛行程")]),e.stepList.length>2?s("el-button",{attrs:{type:"danger",round:""},on:{click:e.deleteStep}},[e._v("移除一个竞赛行程")]):e._e()],1),e.scId?s("div",[s("el-steps",{attrs:{active:e.activeIndex,"finish-status":"success","align-center":""}},e._l(e.stepList,(function(e){return s("el-step",{key:e.key,attrs:{title:e.title}})})),1),s("div",{staticClass:"trip-main"},[s("el-form",{ref:"form",attrs:{model:e.scTrip,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"行程序号"}},[s("el-input",{attrs:{disabled:!0},model:{value:e.scTrip.tripIndex,callback:function(t){e.$set(e.scTrip,"tripIndex",t)},expression:"scTrip.tripIndex"}})],1),s("el-form-item",{attrs:{label:"行程描述"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.scTrip.description,callback:function(t){e.$set(e.scTrip,"description",t)},expression:"scTrip.description"}})],1),s("el-form-item",{attrs:{label:"行程开始时间:"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择开始日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.scTrip.startTime,callback:function(t){e.$set(e.scTrip,"startTime",t)},expression:"scTrip.startTime"}})],1),s("el-form-item",{attrs:{label:"行程结束时间:"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择结束日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.scTrip.endTime,callback:function(t){e.$set(e.scTrip,"endTime",t)},expression:"scTrip.endTime"}})],1),s("el-form-item",[e.activeIndex>1?s("el-button",{attrs:{type:"primary",round:""},on:{click:e.selectPre}},[e._v("上一步")]):e._e(),e.activeIndex<e.stepList.length?s("el-button",{attrs:{type:"primary",round:""},on:{click:e.selectNext}},[e._v("下一步")]):e._e(),e.activeIndex==e.scTripList.length?s("el-button",{attrs:{type:e.isUpdate?"success":"primary",plain:""},on:{click:e.addScTrip}},[e._v(e._s(e.isUpdate?"确定修改":"确定添加"))]):e._e()],1)],1)],1)],1):e._e()])],1)},is=[],as={components:{},props:{},data:function(){return{isUpdate:!1,isUpdateIn:!1,teacher:{},scId:"",scInfoList:[],activeIndex:1,stepList:[{id:1,title:"行程1"},{id:2,title:"行程2"}],scTripList:[{id:-1,scId:-1,tripIndex:1,description:"",startTime:"",endTime:""},{id:-1,scId:-1,tripIndex:2,description:"",startTime:"",endTime:""}],scTrip:{}}},computed:{},watch:{$route:function(e,t){if(e.path!=t.path&&Object.assign(this.$data,this.$options.data()),this.scTrip=this.scTripList[this.activeIndex-1],f.a.get("teacher")){var s=f.a.get("teacher");s&&(this.teacher=JSON.parse(s),this.getScInfoList())}this.getScInfoList()},activeIndex:function(){this.scTrip=this.scTripList[this.activeIndex-1]},scId:function(){for(var e=0;e<this.scTripList.length;e++)this.scTripList[e].scId=this.scId}},methods:{change:function(){this.activeIndex=1,this.getScTripList(this.scId),this.scTrip=this.scTripList[this.activeIndex-1]},addScTrip:function(){var e=this;this.scTrip.description&&this.scTrip.startTime&&this.scTrip.endTime?this.isUpdate?y({url:"/scTrip/update",method:"put",data:this.scTripList}).then((function(t){500!=t.code?e.$message({message:"修改竞赛行程成功!!!",type:"success"}):e.$message({message:"修改竞赛行程出现错误!!!",type:"error"})})).catch((function(e){console.log(e)})):y({url:"/scTrip/add",method:"post",data:this.scTripList}).then((function(t){500!=t.code?e.$message({message:"添加竞赛行程成功!!!",type:"success"}):e.$message({message:"添加竞赛行程出现错误!!!",type:"error"})})).catch((function(e){console.log(e)})):this.$message({message:"请正确填该条行程信息!!!",type:"error"})},getScTripList:function(e){var t=this;y({url:"/scTrip/get/".concat(e),method:"get"}).then((function(e){t.scTripList=e.data.scTripList,0==t.scTripList.length?(t.isUpdateIn||(t.isUpdate=!1),t.stepList=[],t.scTripList=[],t.stepList.push({id:1,title:"行程1"}),t.stepList.push({id:2,title:"行程2"}),t.scTripList.push({id:-1,scId:-1,tripIndex:1,description:"",startTime:"",endTime:""}),t.scTripList.push({id:-1,scId:-1,tripIndex:2,description:"",startTime:"",endTime:""}),t.scTrip={id:-1,scId:-1,tripIndex:1,description:"",startTime:"",endTime:""}):(t.isUpdate=!0,t.updatedefaultDATA())})).catch((function(e){console.log(e)}))},updatedefaultDATA:function(){this.stepList=[];for(var e=0;e<this.scTripList.length;e++)this.stepList.push({id:e+1,title:"行程"+(e+1)});this.scTrip=this.scTripList[0]},getScInfoList:function(){var e=this;y({url:"/scInfo/teacherScInfoList/".concat(this.teacher.id)}).then((function(t){e.scInfoList=t.data.teacherScInfoList})).catch((function(e){}))},addStep:function(){this.stepList.length>4?this.$message({message:"最多只能为竞赛添加5个行程!!!",type:"warning"}):(this.stepList.push({id:this.stepList.length+1,title:"行程"+(this.stepList.length+1)}),this.scTripList.push({id:-1,scId:this.scId,tripIndex:this.scTripList.length+1,description:"",startTime:"",endTime:""}))},deleteStep:function(){this.activeIndex==this.stepList.length&&(this.activeIndex=this.activeIndex-1),this.stepList.pop(),this.scTripList.pop()},selectPre:function(){this.activeIndex=this.activeIndex-1},selectNext:function(){this.scTrip.description&&this.scTrip.startTime&&this.scTrip.endTime?this.activeIndex=this.activeIndex+1:this.$message({message:"请正确填该条行程信息!!!",type:"error"})}},created:function(){if(this.scTrip=this.scTripList[this.activeIndex-1],f.a.get("teacher")){var e=f.a.get("teacher");e&&(this.teacher=JSON.parse(e),this.getScInfoList())}this.$route.params&&this.$route.params.id&&(this.isUpdate=!0,this.isUpdateIn=!0,this.scId=parseInt(this.$route.params.id),this.getScTripList(this.scId))},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},os=as,ls=(s("3a9d"),Object(o["a"])(os,ns,is,!1,null,"442868f1",null)),cs=ls.exports,rs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticClass:"elcard",attrs:{shadow:"always"}},[s("div",[e._v(e._s(e.title))]),s("el-form",{ref:"form",staticStyle:{width:"600px"},attrs:{model:e.winningInfo,rules:e.rules,"label-width":"120px","label-position":"right"}},[s("el-form-item",{attrs:{label:"技能竞赛:",prop:"scId"}},[s("el-select",{attrs:{placeholder:"请选择获奖竞赛"},on:{change:e.selectedChange},model:{value:e.winningInfo.scId,callback:function(t){e.$set(e.winningInfo,"scId",t)},expression:"winningInfo.scId"}},e._l(e.teacherScInfoList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.scName,value:e.id}})})),1)],1),s("el-form-item",{attrs:{label:"参赛获奖人员:",prop:"studentId"}},[s("el-select",{attrs:{placeholder:"请选择获奖人员"},model:{value:e.winningInfo.studentId,callback:function(t){e.$set(e.winningInfo,"studentId",t)},expression:"winningInfo.studentId"}},e._l(e.studentList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-form-item",{attrs:{label:"指导老师:",prop:"teacherId"}},[s("span",[e._v(e._s(e.teacher.name))]),s("img",{staticClass:"header-img",attrs:{src:e.teacher.headerUrl}})]),s("el-form-item",{attrs:{label:"获奖名称:",prop:"wiName"}},[s("el-input",{model:{value:e.winningInfo.wiName,callback:function(t){e.$set(e.winningInfo,"wiName",t)},expression:"winningInfo.wiName"}})],1),s("el-form-item",{attrs:{label:"获奖描述:",prop:"description"}},[s("el-input",{model:{value:e.winningInfo.description,callback:function(t){e.$set(e.winningInfo,"description",t)},expression:"winningInfo.description"}})],1),s("el-form-item",{attrs:{label:"获奖人员图片:",prop:"winnerImg"}},[s("el-upload",{attrs:{name:"resources",action:"http://localhost:9000/oss/upload",limit:1,"list-type":"picture-card","on-exceed":e.onExceed1,"on-success":e.uploadWinnerImgSuccess,"file-list":e.fileList1},scopedSlots:e._u([{key:"file",fn:function(t){var n=t.file;return s("div",{},[s("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:n.url,alt:""}}),s("span",{staticClass:"el-upload-list__item-actions"},[s("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handleWinnerImgPreview(n)}}},[s("i",{staticClass:"el-icon-zoom-in"})]),e.disabled1?e._e():s("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemoveWinnerImg(n)}}},[s("i",{staticClass:"el-icon-delete"})])])])}}])},[s("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),s("el-dialog",{attrs:{visible:e.dialogVisible1},on:{"update:visible":function(t){e.dialogVisible1=t}}},[s("img",{attrs:{width:"100%",src:e.dialogImageUrl1,alt:""}})])],1),s("el-form-item",{attrs:{label:"获奖证书图片:",prop:"certificateImg"}},[s("el-upload",{attrs:{name:"resources",action:"http://localhost:9000/oss/upload",limit:1,"list-type":"picture-card","on-exceed":e.onExceed2,"on-success":e.uploadCertificateImgSuccess,"file-list":e.fileList2},scopedSlots:e._u([{key:"file",fn:function(t){var n=t.file;return s("div",{},[s("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:n.url,alt:""}}),s("span",{staticClass:"el-upload-list__item-actions"},[s("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handleCertificateImgPreview(n)}}},[s("i",{staticClass:"el-icon-zoom-in"})]),e.disabled2?e._e():s("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemoveCertificateImg(n)}}},[s("i",{staticClass:"el-icon-delete"})])])])}}])},[s("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),s("el-dialog",{attrs:{visible:e.dialogVisible2},on:{"update:visible":function(t){e.dialogVisible2=t}}},[s("img",{attrs:{width:"100%",src:e.dialogImageUrl2,alt:""}})])],1),s("el-form-item",{attrs:{label:"获奖相关文件:",prop:"winningFile"}},[s("el-upload",{ref:"upload",attrs:{name:"resources",action:"http://localhost:9000/oss/upload",multiple:"","on-remove":e.handleRemove,"on-success":e.uploadFileSuccess,"file-list":e.fileList,limit:1,"auto-upload":!1}},[s("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("文件总大小不超过20M")])],1)],1),s("el-form-item",[e.isUpdate?s("el-button",{attrs:{type:"success"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("确定修改")]):s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),s("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("取消")])],1)],1)],1)],1)},ds=[],us={components:{},props:{},data:function(){return{title:"添加竞赛获奖信息",isUpdate:!1,isSuccessSubmit:!1,dialogImageUrl1:"",dialogVisible1:!1,disabled1:!1,fileList1:[],dialogImageUrl2:"",dialogVisible2:!1,disabled2:!1,fileList2:[],fileList:[],teacher:{},teacherScInfoList:[],studentList:[],winningInfo:{scId:"",studentId:"",teacherId:0,wiName:"fzy",description:"111",winnerImg:"",certificateImg:"",winningFile:""},rules:{scId:[{required:!0,message:"请选择技能竞赛",trigger:"blur"}],studentId:[{required:!0,message:"请选择获奖人员",trigger:"blur"}],teacherId:[{required:!0,message:"请选择指导老师",trigger:"change"}],wiName:[{required:!0,message:"请填写获奖名称",trigger:"change"}],description:[{required:!0,message:"请填写获奖描述",trigger:"blur"}],winnerImg:[{required:!0,message:"请上传获奖人员图片",trigger:"blur"}],certificateImg:[{required:!0,message:"请上传获奖证书图片",trigger:"blur"}],winningFile:[{required:!0,message:"请上传获奖相关文件",trigger:"blur"}]}}},computed:{},watch:{$route:function(e,t){if(e.path!=t.path&&Object.assign(this.$data,this.$options.data()),f.a.get("teacher")){var s=f.a.get("teacher");s&&(this.teacher=JSON.parse(s),this.winningInfo.teacherId=this.teacher.id)}}},methods:{addWinningInfo:function(){var e=this;y({url:"/winningInfo/add",method:"post",data:{scId:this.winningInfo.scId,studentId:this.winningInfo.studentId,teacherId:this.winningInfo.teacherId,wiName:this.winningInfo.wiName,description:this.winningInfo.description,winnerImg:this.winningInfo.winnerImg,certificateImg:this.winningInfo.certificateImg,winningFile:this.winningInfo.winningFile}}).then((function(t){500!=t.code?(console.log("成功"),e.$message({message:"添加获奖信息成功",type:"success"}),e.isSuccessSubmit=!0,e.$router.push({name:"wilist"})):(console.log("失败"),e.$message({message:t.msg,type:"error"}))}))},updateWinningInfo:function(){var e=this;y({url:"/winningInfo/update",method:"put",data:{id:this.winningInfo.id,scId:this.winningInfo.scId,studentId:this.winningInfo.studentId,teacherId:this.winningInfo.teacherId,wiName:this.winningInfo.wiName,description:this.winningInfo.description,winnerImg:this.winningInfo.winnerImg,certificateImg:this.winningInfo.certificateImg,winningFile:this.winningInfo.winningFile}}).then((function(t){500!=t.code?(console.log("成功"),e.$message({message:t.msg,type:"success"})):(console.log("失败"),e.$message({message:t.msg,type:"error"}))}))},getTeacherScInfoList:function(){var e=this;y({url:"/scInfo/teacherScInfoList/".concat(this.teacher.id),method:"get"}).then((function(t){e.teacherScInfoList=t.data.teacherScInfoList,e.winningInfo.scId&&e.selectedChange(e.winningInfo.scId)}))},selectedChange:function(e){for(var t=0;t<this.teacherScInfoList.length;t++)e==this.teacherScInfoList[t].id&&(this.studentList=this.teacherScInfoList[t].studentList)},submitUpload:function(){this.$refs.upload.submit()},uploadFileSuccess:function(e,t,s){var n=e.data.urlList[0].fileName,i=e.data.urlList[0].resourceName,a=e.data.urlList[0].resourceUrl;e.data.urlList[0].resourceType;this.winningInfo.winningFile=a,this.fileList.push({name:n,url:a,ObjectName:i})},handleRemove:function(e,t){var s=this,n=e.ObjectName;y({url:"/oss/delete",method:"delete",params:{ObjectName:n}}).then((function(e){s.winningInfo.winningFile="",s.fileList=[]})).catch((function(e){}))},uploadWinnerImgSuccess:function(e,t,s){var n=e.data.urlList[0].fileName,i=e.data.urlList[0].resourceName,a=e.data.urlList[0].resourceUrl;e.data.urlList[0].resourceType;this.winningInfo.winnerImg=a,this.fileList1.push({name:n,url:a,ObjectName:i})},handleRemoveWinnerImg:function(e){var t=this;console.log(e);var s=e.ObjectName;y({url:"/oss/delete",method:"delete",params:{ObjectName:s}}).then((function(e){t.winningInfo.winnerImg="",t.fileList1=[]})).catch((function(e){}))},handleWinnerImgPreview:function(e){this.dialogImageUrl1=e.url,this.dialogVisible1=!0},onExceed1:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},uploadCertificateImgSuccess:function(e,t,s){var n=e.data.urlList[0].fileName,i=e.data.urlList[0].resourceName,a=e.data.urlList[0].resourceUrl;e.data.urlList[0].resourceType;this.winningInfo.certificateImg=a,this.fileList2.push({name:n,url:a,ObjectName:i})},handleRemoveCertificateImg:function(e){var t=this;console.log(e);var s=e.ObjectName;y({url:"/oss/delete",method:"delete",params:{ObjectName:s}}).then((function(e){t.winningInfo.certificateImg="",t.fileList2=[]})).catch((function(e){}))},handleCertificateImgPreview:function(e){this.dialogImageUrl2=e.url,this.dialogVisible2=!0},onExceed2:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.isUpdate?t.updateWinningInfo():t.addWinningInfo()}))},resetForm:function(e){this.$refs[e].resetFields()},getWinningInfoById:function(e){var t=this;y({url:"/winningInfo/get/".concat(e),method:"get"}).then((function(e){t.winningInfo=e.data.winningInfo;var s=t.winningInfo.winnerImg;t.fileList1.push({name:s.slice(97),url:s,ObjectName:s.slice(54)});var n=t.winningInfo.certificateImg;t.fileList2.push({name:n.slice(97),url:n,ObjectName:n.slice(54)});var i=t.winningInfo.winningFile;t.fileList.push({name:i.slice(97),url:i,ObjectName:i.slice(54)})})).catch((function(e){}))}},created:function(){if(f.a.get("teacher")){var e=f.a.get("teacher");e&&(this.teacher=JSON.parse(e),this.winningInfo.teacherId=this.teacher.id)}this.getTeacherScInfoList(),this.$route.params&&this.$route.params.id&&(this.title="修改竞赛获奖信息",this.isUpdate=!0,this.getWinningInfoById(this.$route.params.id))},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},fs=us,ms=(s("fc17"),Object(o["a"])(fs,rs,ds,!1,null,"5dbfdd50",null)),ps=ms.exports,hs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticClass:"elcard",attrs:{shadow:"always"}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.teacherWinningInfoList}},[s("el-table-column",{attrs:{label:"获奖竞赛",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.scInfo.scName))])]}}])}),s("el-table-column",{attrs:{label:"获奖名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.wiName))])]}}])}),s("el-table-column",{attrs:{label:"获奖描述",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.description))])]}}])}),s("el-table-column",{attrs:{label:"获奖人员",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.student.name))]),s("img",{staticClass:"header-img",attrs:{src:t.row.student.headerUrl,alt:""}})]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)},gs=[],vs={components:{},props:{},data:function(){return{teacher:{id:1,name:"谢丁峰",sex:"男",phone:"11111111111",password:"666666",qq:"1954418428",headerUrl:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",officeName:"二教2101",isAdmin:1,collegeId:2,college:null,scInfoList:[],aclass:null},teacherWinningInfoList:[]}},computed:{},watch:{},methods:{getTeacherWinningInfoList:function(){var e=this;y({url:"/winningInfo/teacherWinningInfoList/".concat(this.teacher.id),method:"get"}).then((function(t){e.teacherWinningInfoList=t.data.teacherWinningInfoList}))},handleEdit:function(e,t){this.$router.push("/adminMain/wiadd/"+t.id)},handleDelete:function(e,t){var s=this;this.$confirm("此操作将永久该技能竞赛获奖信息 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){y({url:"/winningInfo/delete/".concat(t.id),method:"delete"}).then((function(e){s.$message({type:"success",message:"删除成功!"}),s.getTeacherWinningInfoList()})).catch((function(e){s.$message({type:"error",message:"删除失败!"})}))}))}},created:function(){this.getTeacherWinningInfoList()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},bs=vs,Is=(s("527b"),Object(o["a"])(bs,hs,gs,!1,null,"c00ffa7a",null)),ys=Is.exports,ws=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticClass:"elcard",attrs:{shadow:"always"}},[s("div",[e._v("\r\n                "+e._s(this.college.collegeName)+"——"+e._s(e.teacher.aclass.className)+"\r\n              ")]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.classStudentList,border:""}},[s("el-table-column",{attrs:{label:"学生姓名",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("img",{staticClass:"header-img",attrs:{src:t.row.headerUrl}}),s("span",[e._v(e._s(t.row.name))])]}}])}),s("el-table-column",{attrs:{label:"性别",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.sex))])]}}])}),s("el-table-column",{attrs:{label:"电话",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.phone))])]}}])}),s("el-table-column",{attrs:{label:"密码",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.password))])]}}])}),s("el-table-column",{attrs:{label:"身份证",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.cdCard))])]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.openUpdateStudentDialog(t.row.id)}}},[e._v("修改信息")]),s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(s){return e.showStudentApplyList(t.row.id)}}},[e._v("查看他的竞赛申请")]),s("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(s){return e.doStudentExam(t.row.id)}}},[e._v("考核打分")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.Delete(t.row.id)}}},[e._v("禁用")])]}}])})],1),s("el-dialog",{attrs:{title:"修改学生信息",visible:e.showUpdateStudentDialog},on:{"update:visible":function(t){e.showUpdateStudentDialog=t},close:e.clearStudenInfo}},[s("el-form",{ref:"form",attrs:{model:e.studentInfo,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"头像:"}},[s("img",{staticClass:"student-img",attrs:{src:e.studentInfo.headerUrl}})]),s("el-form-item",{attrs:{label:"姓名:"}},[s("el-input",{model:{value:e.studentInfo.name,callback:function(t){e.$set(e.studentInfo,"name",t)},expression:"studentInfo.name"}})],1),s("el-form-item",{attrs:{label:"性别"}},[s("el-radio",{attrs:{label:"男"},model:{value:e.studentInfo.sex,callback:function(t){e.$set(e.studentInfo,"sex",t)},expression:"studentInfo.sex"}},[e._v("男")]),s("el-radio",{attrs:{label:"女"},model:{value:e.studentInfo.sex,callback:function(t){e.$set(e.studentInfo,"sex",t)},expression:"studentInfo.sex"}},[e._v("女")])],1),s("el-form-item",{attrs:{label:"手机号"}},[s("el-input",{model:{value:e.studentInfo.phone,callback:function(t){e.$set(e.studentInfo,"phone",t)},expression:"studentInfo.phone"}})],1),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{model:{value:e.studentInfo.password,callback:function(t){e.$set(e.studentInfo,"password",t)},expression:"studentInfo.password"}})],1),s("el-form-item",{attrs:{label:"身份证号"}},[s("el-input",{model:{value:e.studentInfo.cdCard,callback:function(t){e.$set(e.studentInfo,"cdCard",t)},expression:"studentInfo.cdCard"}})],1),s("el-form-item",{attrs:{label:"qq"}},[s("el-input",{model:{value:e.studentInfo.qq,callback:function(t){e.$set(e.studentInfo,"qq",t)},expression:"studentInfo.qq"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.updateStudentInfo}},[e._v("修改信息")]),s("el-button",{on:{click:e.closeUpdateStudentDialog}},[e._v("取 消")])],1)],1)],1),s("el-dialog",{attrs:{title:"竞赛申请信息",visible:e.showStudentApplyListDialog,width:"80%"},on:{"update:visible":function(t){e.showStudentApplyListDialog=t},close:e.clearApplyInfo}},[s("el-table",{staticStyle:{width:"100%","margin-bottom":"50px"},attrs:{height:"500",data:e.StudentApplyList}},[s("el-table-column",{attrs:{label:"竞赛名称",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.scName))])]}}])}),s("el-table-column",{attrs:{label:"指导老师",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[s("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.teacher.name))])],1)]}}])}),s("el-table-column",{attrs:{label:"所属学院",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.college.collegeName))])]}}])}),s("el-table-column",{attrs:{label:"报名时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{staticClass:"el-icon-time"}),s("span",[e._v(e._s(t.row.createTime))])]}}])}),s("el-table-column",{attrs:{label:"审核状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[1==t.row.status?s("el-tag",{attrs:{type:"success",size:"medium"}},[e._v("已审核")]):s("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v("未审核")])],1)]}}])}),s("el-table-column",{attrs:{label:"申请文件",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("form",{attrs:{action:t.row.applyFile}},[s("intput",{attrs:{type:"hidden",name:"Content-Disposition",value:"attachment;filename="+t.row.applyFile.slice(54)}}),s("button",{staticStyle:{height:"25px"},attrs:{type:"primary"}},[e._v("下载此申请文件")])],1)]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"success",size:"mini",disabled:!(e.teacher.id==t.row.teacher.id)},on:{click:function(s){return e.updateStatus(t.row.id)}}},[e._v("审核")])]}}])})],1)],1),s("el-dialog",{attrs:{title:"学生考核信息",visible:e.showStudentExamDialog,width:"80%"},on:{"update:visible":function(t){e.showStudentExamDialog=t},close:e.clearExamInfoList}},[s("div",{staticStyle:{"margin-bottom":"10px"}},[s("img",{staticClass:"header-img",attrs:{src:e.studentInfo.headerUrl}}),s("span",[e._v(e._s(e.studentInfo.name))])]),s("el-select",{attrs:{placeholder:"请选择竞赛"},on:{change:e.scChange},model:{value:e.scId,callback:function(t){e.scId=t},expression:"scId"}},e._l(e.finalScInfoList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.scName,value:e.id}})})),1),s("el-select",{attrs:{placeholder:"请选择考核项目"},on:{change:e.epChange},model:{value:e.epId,callback:function(t){e.epId=t},expression:"epId"}},e._l(e.examProjectList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.projectName,value:e.id}})})),1),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary",disabled:!e.epId},on:{click:e.addExam}},[e._v("添加考核信息")]),s("el-table",{staticStyle:{width:"100%","margin-bottom":"50px"},attrs:{height:"500",data:e.scExamList}},[s("el-table-column",{attrs:{label:"次序",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s("第"+t.row.examIndex+"次考核"))])]}}])}),s("el-table-column",{attrs:{label:"分数",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.score))])]}}])}),s("el-table-column",{attrs:{label:"描述",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.description))])]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.updateExam(t.row)}}},[e._v("修改")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.deleteExam(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),s("el-dialog",{attrs:{title:e.isAddExamInfo?"添加考核信息":"修改考核信息",visible:e.addOrUpdateExamDialog,width:"80%"},on:{"update:visible":function(t){e.addOrUpdateExamDialog=t},close:e.clearExamInfo}},[s("el-form",{staticStyle:{width:"600px"},attrs:{model:e.ExamInfo,"label-width":"120px","label-position":"right"}},[s("el-form-item",{attrs:{label:"次序:"}},[s("el-input",{attrs:{disabled:!0},model:{value:e.ExamInfo.examIndex,callback:function(t){e.$set(e.ExamInfo,"examIndex",t)},expression:"ExamInfo.examIndex"}})],1),s("el-form-item",{attrs:{label:"成绩:"}},[s("el-input",{attrs:{placeholder:"输入分数0~100"},model:{value:e.ExamInfo.score,callback:function(t){e.$set(e.ExamInfo,"score",t)},expression:"ExamInfo.score"}})],1),s("el-form-item",{attrs:{label:"获奖描述:"}},[s("el-input",{model:{value:e.ExamInfo.description,callback:function(t){e.$set(e.ExamInfo,"description",t)},expression:"ExamInfo.description"}})],1),s("el-form-item",[s("el-button",{attrs:{type:e.isAddExamInfo?"primary":"success"},on:{click:e.addOrUpdateSubmit}},[e._v("确定"+e._s(e.isAddExamInfo?"添加":"修改"))])],1)],1)],1)],1)],1)},xs=[],_s={components:{},props:{},data:function(){return{teacher:{},classStudentList:[],college:{},showUpdateStudentDialog:!1,studentInfo:{},showStudentApplyListDialog:!1,StudentApplyList:[],showStudentExamDialog:!1,scId:"",epId:"",teacherScInfoList:[],examProjectList:[],scExamList:[],studentApplyIds:[],finalScInfoList:[],ExamInfo:{},addOrUpdateExamDialog:!1,isAddExamInfo:!1}},computed:{},watch:{},methods:{getClassStudentList:function(){var e=this;y({url:"/student/classStudentList/".concat(this.teacher.aclass.id),method:"get"}).then((function(t){e.classStudentList=t.data.classStudentList,e.college=t.data.college})).catch((function(e){}))},updateStudentInfo:function(){var e=this,t=this.studentInfo,s=t.id,n=t.name,i=t.sex,a=t.phone,o=t.password,l=t.cdCard,c=t.qq;y({url:"/student/update",method:"put",data:{id:s,name:n,sex:i,phone:a,password:o,cdCard:l,qq:c}}).then((function(t){500!=t.code?(e.getClassStudentList(),e.closeUpdateStudentDialog(),e.$message({showClose:!0,message:"修改成功",type:"success"})):e.$message({showClose:!0,message:t.msg,type:"error"})})).catch((function(e){console.log(e)}))},openUpdateStudentDialog:function(e){var t=this;this.showUpdateStudentDialog=!0,y({url:"/student/get/".concat(e),method:"get"}).then((function(e){t.studentInfo=e.data.studentInfo})).catch((function(e){}))},showStudentApplyList:function(e){var t=this;this.showStudentApplyListDialog=!0,y({url:"/scApply/studentScApplyList/".concat(e),method:"get"}).then((function(e){t.StudentApplyList=e.data.ScApplyInfo})).catch((function(e){}))},Delete:function(e){var t=this;this.$confirm("此操作将永久禁用该学生, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){y({url:"/student/delete/".concat(e),method:"delete"}).then((function(e){t.getClassStudentList()})).catch((function(e){}))})).catch((function(){t.$message({type:"info",message:"已取消禁用"})}))},getteacherScInfoList:function(){var e=this;y({url:"/scInfo/teacherScInfoList/".concat(this.teacher.id),method:"get"}).then((function(t){e.teacherScInfoList=t.data.teacherScInfoList})).catch((function(e){console.log(e)}))},doStudentExam:function(e){var t=this;y({url:"/scInfo/studentScInfoList/".concat(e),method:"get"}).then((function(e){t.studentApplyIds=e.data.studentScInfoList;for(var s=0;s<t.studentApplyIds.length;s++)for(var n=0;n<t.teacherScInfoList.length;n++)t.studentApplyIds[s].id==t.teacherScInfoList[n].id&&t.finalScInfoList.push(t.teacherScInfoList[n])})).catch((function(e){console.log(e)})),y({url:"/student/get/".concat(e),method:"get"}).then((function(e){t.studentInfo=e.data.studentInfo})).catch((function(e){console.log(e)})),this.showStudentExamDialog=!0},getExamProjectList:function(e){var t=this;y({url:"/examProject/list/".concat(e),method:"get"}).then((function(e){t.examProjectList=e.data.examProjectList})).catch((function(e){console.log(e)}))},scChange:function(e){this.epId="",this.getExamProjectList(e)},epChange:function(e){var t=this;this.scExamList=[],y({url:"/scExam/list/".concat(this.studentInfo.id,"/").concat(this.scId,"/").concat(e),method:"get"}).then((function(e){500!=e.code?t.scExamList=e.data.scExamList:t.$message({showClose:!0,message:"占无成绩",type:"warning"})})).catch((function(e){console.log(e)}))},updateExam:function(e){this.isAddExamInfo=!1,console.log(e),this.addOrUpdateExamDialog=!0,this.ExamInfo=e},addExam:function(){this.isAddExamInfo=!0,this.addOrUpdateExamDialog=!0,this.ExamInfo.examIndex=1,this.scExamList[this.scExamList.length-1]&&(this.ExamInfo.examIndex=this.scExamList[this.scExamList.length-1].examIndex+1)},deleteExam:function(e){var t=this;console.log(e),y({url:"/scExam/delete/".concat(e),method:"delete"}).then((function(e){500!=e.code?(t.$message({showClose:!0,message:"删除成功",type:"success"}),t.epChange(t.epId)):t.$message({showClose:!0,message:"删除失败",type:"error"})})).catch((function(e){console.log(e)}))},addOrUpdateSubmit:function(){var e=this;this.isAddExamInfo?(this.ExamInfo.scId=this.scId,this.ExamInfo.studentId=this.studentInfo.id,this.ExamInfo.epId=this.epId,y({url:"/scExam/add",method:"post",data:this.ExamInfo}).then((function(t){500!=t.code?(e.$message({showClose:!0,message:"添加成功",type:"success"}),e.epChange(e.epId)):e.$message({showClose:!0,message:"添加失败",type:"error"})})).catch((function(e){console.log(e)}))):y({url:"/scExam/update",method:"put",data:this.ExamInfo}).then((function(t){500!=t.code?e.$message({showClose:!0,message:"修改成功",type:"success"}):e.$message({showClose:!0,message:"修改失败",type:"error"})})).catch((function(e){console.log(e)})),this.addOrUpdateExamDialog=!1},closeUpdateStudentDialog:function(){this.showUpdateStudentDialog=!1},clearStudenInfo:function(){this.studentInfo={}},closeStudentApplyListDialog:function(){this.showStudentApplyListDialog=!1},clearApplyInfo:function(){this.StudentApplyList=[]},clearExamInfoList:function(){this.scId="",this.epId="",this.scExamList=[],this.studentInfo={},this.examProjectList=[],this.studentApplyIds=[],this.finalScInfoList=[]},clearExamInfo:function(){this.ExamInfo={}},updateStatus:function(e){var t=this;y({url:"/scApply/approval/".concat(e),method:"put"}).then((function(e){500!=e.code?t.$message({type:"success",message:"审核成功"}):t.$message({type:"error",message:"审核失败"})})).catch((function(e){}))}},created:function(){if(f.a.get("teacher")){var e=f.a.get("teacher");e&&(this.teacher=JSON.parse(e))}this.getClassStudentList(),this.getteacherScInfoList()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},Ls=_s,Ss=(s("c0c7"),Object(o["a"])(Ls,ws,xs,!1,null,"4750db54",null)),Cs=Ss.exports;n["default"].use(d["a"]);var ks=new d["a"]({mode:"history",base:"/",routes:[{path:"/",name:"index",component:L,redirect:"/cptlist",meta:{title:"首页"},children:[{path:"cptlist",name:"cptlist",component:B,meta:{title:"首页"}},{path:"collegecptlist/:obj?",name:"collegecptlist",component:Y,meta:{title:"竞赛分类"}},{path:"winninginfolist",name:"winninginfolist",component:te,meta:{title:"获奖信息列表"}},{path:"winninginfodetails/:wi_id",name:"winninginfodetails",component:le,meta:{title:"获奖信息详情"}},{path:"/personal",name:"personal",component:Se,redirect:"/personal/personalinfo",children:[{path:"personalinfo",name:"personalinfo",component:Ee,meta:{title:"个人信息",requireAuth:!0}},{path:"myapplylist",name:"myapplylist",component:Fe,meta:{title:"我申请的技能竞赛",requireAuth:!0}},{path:"mywinninglist",name:"mywinninglist",component:Be,meta:{title:"我的获奖信息",requireAuth:!0}},{path:"myexam",name:"myexam",component:Ge,meta:{title:"我的获奖信息",requireAuth:!0}}]},{path:"apply/:obj?",name:"apply",component:me,meta:{title:"申请技能竞赛",requireAuth:!0}},{path:"cptdetails/:sc_id",name:"cptdetails",component:Ie,meta:{title:"竞赛详情"}}]},{path:"/index",name:"index2",redirect:"cptlist",meta:{title:"首页"}},{path:"/login",name:"login",component:E,meta:{title:"登入界面"}},{path:"/adminMain",name:"adminMain",component:st,meta:{title:"技能竞赛管理后台",requireAuth:!0},redirect:{name:"details"},children:[{path:"details",name:"details",component:ct,meta:{title:"系统说明",requireAuth:!0}},{path:"scinfoadd/:id?",name:"scinfoadd",component:Wt,meta:{title:"添加技能竞赛信息",requireAuth:!0}},{path:"sctripadd/:id?",name:"sctripadd",component:cs,meta:{title:"添加竞赛行程信息",requireAuth:!0}},{path:"scinfolist",name:"scinfolist",component:Gt,meta:{title:"技能竞赛列表",requireAuth:!0}},{path:"scApplylist",name:"scApplylist",component:ss,meta:{title:"技能竞赛申请列表",requireAuth:!0}},{path:"wiadd/:id?",name:"wiadd",component:ps,meta:{title:"添加获奖信息",requireAuth:!0}},{path:"wilist",name:"wilist",component:ys,meta:{title:"获奖信息列表",requireAuth:!0}},{path:"studentlist",name:"studentlist",component:Cs,meta:{title:"班级学生列表",requireAuth:!0}},{path:"collegeadd/:id?",name:"collegeadd",component:pt,meta:{title:"添加学院信息",requireAuth:!0,role:"admin"}},{path:"collegelist",name:"collegelist",component:yt,meta:{title:"学院信息列表",requireAuth:!0,role:"admin"}},{path:"teacheradd/:id?",name:"teacheradd",component:Ct,meta:{title:"添加老师信息",requireAuth:!0,role:"admin"}},{path:"teacherlist",name:"teacherlist",component:qt,meta:{title:"教师信息列表",requireAuth:!0,role:"admin"}},{path:"classadd/:id?",name:"classadd",component:Ot,meta:{title:"添加班级信息",requireAuth:!0,role:"admin"}}]},{path:"/404",name:"404",component:F,meta:{title:"404"}}]});ks.beforeEach((function(e,t,s){0===e.matched.length&&s("/404"),e.meta.title&&(document.title=e.meta.title),e.meta.requireAuth&&-1==e.path.indexOf("/adminMain")?f.a.get("student")&&f.a.get("cpt-token")?s():(p.a.Message({message:"无权限访问,请先登入!",type:"warning"}),s({path:"/login",query:{redirect:e.fullPath}})):e.meta.requireAuth&&-1!=e.path.indexOf("/adminMain")?f.a.get("teacher")&&f.a.get("cpt-token")&&f.a.get("isAdmin")?e.meta.role&&1!=f.a.get("isAdmin")?p.a.Message({message:"非系统超级管理员,无权限访问!",type:"error"}):s():(p.a.Message({message:"非系统管理员,无权限访问!",type:"warning"}),s({path:"/login",query:{redirect:e.fullPath}})):s()}));var $s=ks,Ts=s("2f62");n["default"].use(Ts["a"]);var Ns=new Ts["a"].Store({state:{},mutations:{},actions:{}});s("0fae");n["default"].use(p.a),n["default"].config.productionTip=!1,new n["default"]({router:$s,store:Ns,render:function(e){return e(r)}}).$mount("#app")},"64a9":function(e,t,s){},"652d":function(e,t,s){"use strict";s("8cec")},6708:function(e,t,s){"use strict";s("e0da")},"67ff":function(e,t,s){"use strict";s("f925")},"69db":function(e,t,s){},7159:function(e,t,s){"use strict";s("36ee")},7223:function(e,t,s){},"74dc":function(e,t,s){},"875a":function(e,t,s){"use strict";s("fdc0")},"8a06":function(e,t,s){},"8cec":function(e,t,s){},"90e7":function(e,t,s){"use strict";s("47bb")},"94ed":function(e,t,s){"use strict";s("549d")},"9ad5":function(e,t,s){"use strict";s("b4d6")},"9c65":function(e,t,s){"use strict";s("5502")},"9c91":function(e,t,s){},a694:function(e,t,s){"use strict";s("feec")},a746:function(e,t,s){"use strict";s("4734")},b4d6:function(e,t,s){},c0c7:function(e,t,s){"use strict";s("74dc")},c1a9:function(e,t,s){},c3ec:function(e,t,s){"use strict";s("69db")},cb33:function(e,t,s){},d2d4:function(e,t,s){"use strict";s("f5c0")},e0da:function(e,t,s){},ed66:function(e,t,s){"use strict";s("044c")},f508:function(e,t,s){},f5c0:function(e,t,s){},f925:function(e,t,s){},fb6e:function(e,t,s){"use strict";s("5499")},fc17:function(e,t,s){"use strict";s("0115")},fdc0:function(e,t,s){},feec:function(e,t,s){}});
//# sourceMappingURL=app.3ecfb113.js.map