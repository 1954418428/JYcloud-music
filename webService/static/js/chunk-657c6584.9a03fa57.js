(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-657c6584"],{"2f96":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myPlayList-box"},[a("SongSheetDetail",{staticClass:"song-sheet-detail",attrs:{playListDetail:t.playListDetail,songs:t.songs,isMeCreated:-1!=t.CreatedPlaylistIds.indexOf(t.playListDetail.id)}}),a("SongSheet",{attrs:{songs:t.songs,playCount:t.playCount,trackCount:t.trackCount,isMeCreated:-1!=t.CreatedPlaylistIds.indexOf(t.playListDetail.id),c5:190},on:{emitDeleteCreatedPlaylistSong:t.deleteCreatedPlaylistSong}})],1)},i=[],o=a("1da1"),c=(a("b0c0"),a("a4d3"),a("e01a"),a("a434"),a("96cf"),a("4fd5")),s=a("acc7"),r=a("365c"),l={name:"",components:{SongSheetDetail:c["a"],SongSheet:s["a"]},data:function(){return{playListDetail:{},songs:[],playCount:0,trackCount:0}},props:{CreatedPlaylistIds:{type:Array,default:[]}},computed:{},watch:{"$route.query":{handler:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$route.query.id?t.initPlayList(t.$route.query.id):console.log("错误 无歌单 id");case 1:case"end":return e.stop()}}),e)})))()},immediate:!0}},methods:{initPlayList:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,o,c,s,l,u,d,p,g,y,f,C,m,h;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.songs=[],n=e.catchStorage.getCatchItem("playlistDetail:".concat(t)),n?(i=n,o=i.id,c=i.name,s=i.coverImgUrl,l=i.createTime,u=i.trackCount,d=i.playCount,p=i.subscribedCount,g=i.subscribed,y=i.description,f=i.tags,C=i.creator,m={id:o,name:c,coverImgUrl:s,createTime:l,trackCount:u,playCount:d,subscribedCount:p,subscribed:g,description:y,tags:f,creator:C},e.playListDetail=m,e.playCount=d,e.trackCount=u):(console.log("playlist:".concat(t,"无缓存")),r["c"].getPlayListDetail(t).then((function(a){n=a.playlist,e.catchStorage.setCatchItem("playlistDetail:".concat(t),n,5);var i=n,o=i.id,c=i.name,s=i.coverImgUrl,r=i.createTime,l=i.trackCount,u=i.playCount,d=i.subscribedCount,p=i.subscribed,g=i.description,y=i.tags,f=i.creator,C={id:o,name:c,coverImgUrl:s,createTime:r,trackCount:l,playCount:u,subscribedCount:d,subscribed:p,description:g,tags:y,creator:f};e.playListDetail=C,e.playCount=u,e.trackCount=l}))),h=e.catchStorage.getCatchItem("playlistSongs:".concat(t)),h?e.songs=h:(console.log("playlistSongs:".concat(t,"无缓存")),r["c"].getPlayListTrackAll({id:t,limit:1e3,offset:0,timestamp:(new Date).getTime()}).then((function(a){h=a.songs,e.catchStorage.setCatchItem("playlistSongs:".concat(t),h,5),e.songs=h})));case 5:case"end":return a.stop()}}),a)})))()},deleteCreatedPlaylistSong:function(t){console.log(t),this.songs.splice(t,1),this.trackCount-=1,this.playListDetail.trackCount-=1}},beforeCreated:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},u=l,d=(a("b35a"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,"cf390ace",null);e["default"]=p.exports},a9c4:function(t,e,a){},b35a:function(t,e,a){"use strict";a("a9c4")}}]);
//# sourceMappingURL=chunk-657c6584.9a03fa57.js.map