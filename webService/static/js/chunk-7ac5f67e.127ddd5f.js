(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ac5f67e"],{"1a6a":function(t,e,i){t.exports=i.p+"img/歌手.5ef1abd6.png"},9938:function(t,e,i){},b376:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dc-singer-box"},[a("div",{staticClass:"dc-singer-wrap"},[a("div",[a("div",[a("span",[t._v(" 语种： ")]),a("ul",{staticClass:"language"},t._l(t.areaData,(function(e,i){return a("li",{key:i},[a("router-link",{class:t.page.area==i?"active":"",attrs:{to:{path:"/discoversinger",query:{area:i,type:t.page.type,initial:t.page.initial}}}},[t._v(t._s(e))])],1)})),0)]),a("div",[a("span",[t._v(" 分类： ")]),a("ul",{staticClass:"category"},t._l(t.typeData,(function(e,i){return a("li",{key:i},[a("router-link",{class:t.page.type==i?"active":"",attrs:{to:{path:"/discoversinger",query:{area:t.page.area,type:i,initial:t.page.initial}}}},[t._v(t._s(e))])],1)})),0)]),a("div",[a("span",[t._v(" 筛选： ")]),a("ul",{staticClass:"surname"},t._l(t.initialData,(function(e,i){return a("li",{key:i},[a("router-link",{class:t.page.initial==i?"active":"",attrs:{to:{path:"/discoversinger",query:{area:t.page.area,type:t.page.type,initial:i}}}},[t._v(t._s(e))])],1)})),0)])]),t.artists.length?a("div",{staticClass:"singer-list-wrap"},[a("ul",{staticClass:"singer-list"},t._l(t.artists,(function(e){return a("li",{key:e.id},[a("div",[a("router-link",{attrs:{to:"/singer?id="+e.id}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.picUrl+"?param=160y160",error:i("1a6a"),loading:i("1a6a")},expression:"{\n                  src: item.picUrl + '?param=160y160',\n                  error: require('@/assets/img/歌手.png'),\n                  loading: require('@/assets/img/歌手.png')\n                }"}],attrs:{alt:""}})])],1),a("router-link",{staticClass:"singer-name",attrs:{to:"/singer?id="+e.id}},[t._v(t._s(e.name))])],1)})),0),a("p",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]},[t._v("正在努力加载新数据！")]),t.more?t._e():a("p",[t._v("我们是有底线的！")])]):a("div",{staticStyle:{"font-size":"24px","font-weight":"700"}},[t._v(" 正在努力加载数据！ ")])])])},n=[],r=i("1da1"),s=(i("96cf"),i("99af"),i("b64b"),i("365c")),o={name:"",components:{},data:function(){return{scrollBottom:0,isLoading:!1,more:!0,currentIndex:1,areaData:{"-1":"全部",7:"华语",96:"欧美",8:"日本",16:"韩国",0:"其他"},typeData:{"-1":"全部",1:"男歌手",2:"女歌手",3:"乐队"},initialData:{},page:{area:"-1",type:"-1",initial:"-1",limit:20,offset:0},artists:[]}},props:{},computed:{},watch:{isLoading:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isLoading){t.next=9;break}return this.currentIndex+=1,this.page.offset=(this.currentIndex-1)*this.page.limit,t.next=5,s["d"].getSingerList(this.page);case 5:e=t.sent,this.more=e.more,this.artists=this.artists.concat(e.artists),this.isLoading=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),"$route.query":{handler:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return 0!=Object.keys(t.$route.query).length&&(console.log("进来了"),t.page.area=t.$route.query.area,t.page.type=t.$route.query.type,t.page.initial=t.$route.query.initial,t.page.offset=0,t.currentIndex=1),e.next=3,s["d"].getSingerList(t.page);case 3:i=e.sent,t.artists=i.artists;case 5:case"end":return e.stop()}}),e)})))()},deep:!0,immediate:!0}},methods:{scrollHandler:function(){var t=document.documentElement.scrollTop||document.body.scrollTop,e=document.documentElement.clientHeight||document.body.clientHeight,i=document.documentElement.scrollHeight||document.body.scrollHeight,a=i-t-e;this.scrollBottom=a,this.scrollBottom<300&&this.more&&(this.isLoading=!0)},initInitialData:function(){var t={"-1":"热门"},e=0;while(e<26){var i=String.fromCharCode(65+e);t[i]=i,e++}t["0"]="#",this.initialData=t}},beforeCreated:function(){},created:function(){window.addEventListener("scroll",this.scrollHandler),this.initInitialData()},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){window.removeEventListener("scroll",this.scrollHandler)},destroyed:function(){},activated:function(){},deactivated:function(){}},c=o,l=(i("ebef"),i("2877")),u=Object(l["a"])(c,a,n,!1,null,"5b769646",null);e["default"]=u.exports},ebef:function(t,e,i){"use strict";i("9938")}}]);
//# sourceMappingURL=chunk-7ac5f67e.127ddd5f.js.map