(function(e){function t(t){for(var a,i,o=t[0],r=t[1],u=t[2],l=0,d=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&d.push(c[i][0]),c[i]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);f&&f(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var o=n[i];0!==c[o]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},c={app:0},s=[];function o(e){return r.p+"js/"+({}[e]||e)+"."+{"chunk-07bf5307":"4b6bf396","chunk-0a76e288":"e8a481fb","chunk-14cd21cd":"97893842","chunk-1e0be85a":"928ba7c1","chunk-3ab52690":"afd4b05b","chunk-5a90ac64":"8d7088a4","chunk-5f48d303":"c5a04135","chunk-657c6584":"9a03fa57","chunk-3605bf74":"e237bc76","chunk-377724b6":"00aeb196","chunk-3e6d6021":"877517eb","chunk-47fc3411":"9e9b9ded","chunk-5047abf8":"15d79307","chunk-6850cf16":"1538b7f0","chunk-696ce6f5":"1cdaed6e","chunk-70506a48":"99b128e0","chunk-7908f210":"cd748f52","chunk-7ac5f67e":"127ddd5f","chunk-7be2e54f":"354f27cb","chunk-903b7074":"df21844f","chunk-da33155c":"3400f259","chunk-ea28b85a":"b21f8249","chunk-ffee36ec":"e1de2b4b"}[e]+".js"}function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],n={"chunk-07bf5307":1,"chunk-0a76e288":1,"chunk-14cd21cd":1,"chunk-1e0be85a":1,"chunk-3ab52690":1,"chunk-5a90ac64":1,"chunk-5f48d303":1,"chunk-657c6584":1,"chunk-3605bf74":1,"chunk-377724b6":1,"chunk-3e6d6021":1,"chunk-47fc3411":1,"chunk-5047abf8":1,"chunk-6850cf16":1,"chunk-696ce6f5":1,"chunk-70506a48":1,"chunk-7908f210":1,"chunk-7ac5f67e":1,"chunk-7be2e54f":1,"chunk-903b7074":1,"chunk-da33155c":1,"chunk-ea28b85a":1,"chunk-ffee36ec":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-07bf5307":"2132d1a1","chunk-0a76e288":"d6392965","chunk-14cd21cd":"99c741a1","chunk-1e0be85a":"55ddae60","chunk-3ab52690":"058818ab","chunk-5a90ac64":"a24ca80f","chunk-5f48d303":"d9cf2c76","chunk-657c6584":"689cce13","chunk-3605bf74":"538a4523","chunk-377724b6":"a4761e8e","chunk-3e6d6021":"739f1f97","chunk-47fc3411":"424a3b4a","chunk-5047abf8":"dd1672fc","chunk-6850cf16":"30984045","chunk-696ce6f5":"0109bc4f","chunk-70506a48":"47876066","chunk-7908f210":"07fb37f1","chunk-7ac5f67e":"5b53ce48","chunk-7be2e54f":"cbc67ee1","chunk-903b7074":"eb4edd56","chunk-da33155c":"80d6bf49","chunk-ea28b85a":"b57e2404","chunk-ffee36ec":"74fc2b2a"}[e]+".css",c=r.p+a,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===c))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===a||l===c)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||c,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete i[e],f.parentNode.removeChild(f),n(s)},f.href=c;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){i[e]=0})));var a=c[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,n){a=c[e]=[t,n]}));t.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=o(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=c[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",d.name="ChunkLoadError",d.type=a,d.request=i,n[1](d)}c[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"01a9":function(e,t,n){},"02ce":function(e,t,n){"use strict";n("50ef")},"2adc":function(e,t,n){"use strict";n("6be9")},"342b":function(e,t,n){"use strict";n("46da")},"365c":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return g}));var a=n("5530"),i=(n("d3b7"),n("bc3a")),c=n.n(i),s=n("a18c"),o="https://fzy-netease-cloud-music.vercel.app/",r=c.a.create({headers:{"Content-Type":"application/json;charset=UTF-8"},timeout:3e4,baseURL:o});r.defaults.withCredentials=!0,r.interceptors.request.use((function(e){var t=JSON.parse(localStorage.getItem("vuex-data")).root.UserModule.userState.cookie;return t&&(e.params.cookie=t),e}),(function(e){return Promise.reject(e)})),r.interceptors.response.use((function(e){return e}),(function(e){return console.log(e),s["a"].push("/notFound"),Promise.reject(e)}));var u={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,a){r.get(e,{params:t},{headers:{fzy:"666"}}).then((function(e){n(e.data)})).catch((function(e){a(e)}))}))},post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,a){r.post(e,t).then((function(e){n(e.data)})).catch((function(e){a(e)}))}))}},l={getSingerAlbumList:function(e){return new Promise((function(t,n){u.get("/artist/album",Object(a["a"])({},e)).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getAlbum:function(e){return new Promise((function(t,n){u.get("/album",{id:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},d={getMvUrl:function(e){return new Promise((function(t,n){u.get("/mv/url",{id:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getMvDetail:function(e){return new Promise((function(t,n){u.get("/mv/detail",{mvid:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getMvList:function(e){return new Promise((function(t,n){u.get("/mv/all",Object(a["a"])({},e)).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getSimiMv:function(e){return new Promise((function(t,n){u.get("/simi/mv",{mvid:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getMvCommentList:function(e){return e.timeStamp=(new Date).getTime(),new Promise((function(t,n){u.get("/comment/mv",Object(a["a"])({},e)).then((function(e){t(e)})).catch((function(e){n(e)}))}))},collectMv:function(e,t){return new Promise((function(n,a){u.get("/mv/sub",{mvid:e,t:t}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},getArtistMvList:function(e){return new Promise((function(t,n){u.get("/artist/mv",Object(a["a"])({},e)).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},f={getUserPlayList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return new Promise((function(n,a){u.get("/user/playlist",{uid:e,limit:t,timestamp:(new Date).getTime()}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},getPlayListDetail:function(e){return new Promise((function(t,n){u.get("/playlist/detail",{id:e,timestamp:(new Date).getTime()}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getPlayListTrackAll:function(e){return new Promise((function(t,n){u.get("/playlist/track/all",Object(a["a"])({},e)).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getPersonalizedPlayList:function(e){return new Promise((function(t,n){u.get("/personalized",Object(a["a"])({},e)).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getRelatedPlayList:function(e){return new Promise((function(t,n){u.get("/related/playlist",{id:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getHotPlayList:function(){return new Promise((function(e,t){u.get("/playlist/hot").then((function(t){e(t)})).catch((function(e){t(e)}))}))},getPlayListCatlist:function(){return new Promise((function(e,t){u.get("/playlist/catlist").then((function(t){e(t)})).catch((function(e){t(e)}))}))},getTopPlayList:function(e){return new Promise((function(t,n){u.get("/top/playlist",Object(a["a"])({},e)).then((function(e){t(e)})).catch((function(e){n(e)}))}))},collectPlayList:function(e,t){return new Promise((function(n,a){u.get("/playlist/subscribe",{id:e,t:t,timestamp:(new Date).getTime()}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},addOrDeleteSong:function(e){return new Promise((function(t,n){u.get("/playlist/tracks",Object(a["a"])(Object(a["a"])({},e),{},{timestamp:(new Date).getTime()})).then((function(e){t(e)})).catch((function(e){n(e)}))}))},createPlaylist:function(e){return new Promise((function(t,n){u.get("/playlist/create",{name:e,timestamp:(new Date).getTime()}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},deletePlaylist:function(e){return console.log(e),new Promise((function(t,n){u.get("/playlist/delete",{id:e,timestamp:(new Date).getTime()}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},updatePlaylist:function(e){return new Promise((function(t,n){u.get("/playlist/update",Object(a["a"])(Object(a["a"])({},e),{},{timestamp:(new Date).getTime()})).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},m={getSingerList:function(e){return new Promise((function(t,n){u.get("/artist/list",Object(a["a"])({},e)).then((function(e){t(e)})).catch((function(e){n(e)}))}))},collectSinger:function(e,t){return new Promise((function(n,a){u.get("/artist/sub",{id:e,t:t}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},getCollectSingerList:function(){return new Promise((function(e,t){u.get("/artist/sublist").then((function(t){e(t)})).catch((function(e){t(e)}))}))},getSingerHotPlayList:function(e){return new Promise((function(t,n){u.get("/artist/top/song",{id:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getSingerDetail:function(e){return new Promise((function(t,n){u.get("/artist/detail",{id:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getSimiSinger:function(e){return new Promise((function(t,n){u.get("/simi/artist",{id:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},p={getSongUrl:function(e){return new Promise((function(t,n){u.get("/song/url",{id:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getLyric:function(e){return new Promise((function(t,n){u.get("/lyric",{id:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},checkMusic:function(e){return new Promise((function(t,n){u.get("/check/music",{id:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getSongDetail:function(e){return new Promise((function(t,n){u.get("/song/detail",{ids:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},likeSong:function(e,t){return new Promise((function(n,a){u.get("/like",{id:e,like:t}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},getLikeList:function(e){return new Promise((function(t,n){u.get("/likelist",{uid:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getSongCommentList:function(e){return e.timeStamp=(new Date).getTime(),new Promise((function(t,n){u.get("/comment/music",Object(a["a"])({},e)).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getDailySongs:function(){return new Promise((function(e,t){u.get("/recommend/songs").then((function(t){e(t)})).catch((function(e){t(e)}))}))}},h={login:function(e){return new Promise((function(t,n){e.timestamp=(new Date).getTime(),u.get("/login/cellphone",Object(a["a"])({},e)).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getLoginStatus:function(){return new Promise((function(e,t){u.get("/login/status",{timestamp:(new Date).getTime()}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},loginRefresh:function(){return new Promise((function(e,t){u.get("/login/refresh",{timestamp:(new Date).getTime()}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},logout:function(){return new Promise((function(e,t){u.get("/logout",{timestamp:(new Date).getTime()}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},sendCaptcha:function(e){return new Promise((function(t,n){u.get("/captcha/sent",{phone:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},verifyCaptcha:function(e,t){u.get("/captcha/verify",{phone:e,captcha:t}).then((function(e){resolve(e)})).catch((function(e){reject(e)}))},getBanner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t,n){u.get("/banner",{type:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getQRKey:function(){return new Promise((function(e,t){u.get("/login/qr/key",{timestamp:(new Date).getTime()}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},createQR:function(e){return new Promise((function(t,n){u.get("/login/qr/create",{key:e,timestamp:(new Date).getTime(),qrimg:!0}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},checkQRState:function(e){return new Promise((function(t,n){u.get("/login/qr/check",{key:e,timestamp:(new Date).getTime()}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},search:function(e){return new Promise((function(t,n){u.get("/cloudsearch",Object(a["a"])({},e)).then((function(e){t(e)})).catch((function(e){n(e)}))}))},suggestSearch:function(e){return new Promise((function(t,n){u.get("/search/suggest",{keywords:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},comment:function(e){return e.timeStamp=(new Date).getTime(),new Promise((function(t,n){u.get("/comment",Object(a["a"])({},e)).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},y={getTopList:function(){return new Promise((function(e,t){u.get("/toplist").then((function(t){e(t)})).catch((function(e){t(e)}))}))}},g={getUserAccountInfo:function(e){return new Promise((function(t,n){u.get("/user/account",{cookie:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getUserDetail:function(e){return new Promise((function(t,n){u.get("/user/detail",{uid:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},updateUserInfo:function(e){return new Promise((function(t,n){u.get("/user/detail",Object(a["a"])({},e)).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getCollectSingerList:function(){return new Promise((function(e,t){u.get("/artist/sublist").then((function(t){e(t)})).catch((function(e){t(e)}))}))},getDailySongs:function(){return new Promise((function(e,t){u.get("/recommend/songs").then((function(t){e(t)})).catch((function(e){t(e)}))}))},getCollectMvList:function(){return new Promise((function(e,t){u.get("/mv/sublist").then((function(t){e(t)})).catch((function(e){t(e)}))}))},getUserSubcount:function(){return new Promise((function(e,t){u.get("/user/subcount",{timestamp:(new Date).getTime()}).then((function(t){e(t)})).catch((function(e){t(e)}))}))},getUserRecord:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(n,a){u.get("/user/record",{uid:e,type:t,timestamp:(new Date).getTime()}).then((function(e){n(e)})).catch((function(e){a(e)}))}))}}},"3a10":function(e,t,n){},4360:function(e,t,n){"use strict";var a=n("ade3"),i=n("2b0e"),c=n("2f62"),s=n("7761"),o=n("2909"),r=(n("a434"),n("99af"),n("b0c0"),n("e9c4"),n("d3b7"),n("4de4"),n("365c")),u={namespaced:!0,state:{audio:{id:0,url:"",name:"",alia:[""],artist:[{id:0,name:""}],album:{id:0,name:"",picUrl:""},maxTime:0,currentTime:0},player:{songs:[],isDrag:!1,playing:!1,muted:!1,volume:50,playType:0,currentIndex:0,audioObj:null,randomSongs:[],isLock:!1},clyric:{isShow:!1}},mutations:{initAudioObj:function(e,t){var n=t.audioObj;e.player.audioObj=n,e.player.playing=!1},updateSongs:function(e,t){var n=t.songs;e.player.songs=n},updateAudio:function(e,t){var n=t.currentIndex,a=t.audio;e.player.playing=!1,e.player.currentIndex=n,e.audio=a},updatePlayState:function(e,t){var n=t.playing;e.player.playing=n},play:function(e){e.audio.url&&e.player.audioObj.play()},pause:function(e){e.audio.url&&e.player.audioObj.pause()},updateVolume:function(e,t){var n=t.type;"up"==n?e.player.volume<100&&(e.player.volume+=5,e.player.audioObj.volume=e.player.volume/100):"down"==n?e.player.volume>0&&(e.player.volume-=5,e.player.audioObj.volume=e.player.volume/100):"muted"==n&&(e.player.muted=!e.player.muted,e.player.audioObj.muted=e.player.muted)},updatePlayType:function(e){e.player.playType=(e.player.playType+1)%4,1==e.player.playType?e.player.randomSongs.push({index:e.player.currentIndex}):e.player.randomSongs=[]},onTimeupdate:function(e,t){e.player.isDrag||(e.audio.currentTime=t.target.currentTime)},onLoadedmetadata:function(e,t){e.player.audioObj.play()},changeCurrentTime:function(e,t){e.player.audioObj.currentTime=t,e.player.isDrag=!1},updateIsDrag:function(e,t){e.player.isDrag=t},updateIsLock:function(e,t){e.player.isLock=t},updateClyricShow:function(e){e.clyric.isShow=!e.clyric.isShow},addSongs:function(e,t){var n,a,i=t.songs;0!=i.length&&(-1!=e.player.currentIndex?(n=e.player.songs).splice.apply(n,[e.player.currentIndex+1,0].concat(Object(o["a"])(i))):(a=e.player.songs).push.apply(a,Object(o["a"])(i)))},removeSong:function(e,t){var n=t.removeIndex;e.player.songs.splice(n,1),0==e.player.songs.length&&(e.player.currentIndex=-1)}},actions:{asyncUpdateAudio:function(e,t){var n=e.state,a=e.commit,i=t.currentIndex,c=n.player.songs[i];r["e"].getSongUrl(c.id).then((function(e){var t={id:c.id,url:e.data[0].url,name:c.name,alia:c.alia,artist:c.ar,album:{id:c.al.id,name:c.al.name,picUrl:c.al.picUrl},maxTime:c.dt/1e3,currentTime:0};a("updateAudio",{currentIndex:i,audio:t})}))},cutSongSheet:function(e,t){e.state;var n=e.dispatch,a=e.commit,i=t.songs,c=t.currentIndex;i=JSON.parse(JSON.stringify(i)),a("updateSongs",{songs:i}),n("asyncUpdateAudio",{currentIndex:c})},cutSong:function(e,t){var n=e.state,a=e.dispatch,i=(e.commit,t.type);if(1!=n.player.playType){var c=-1;"next"==i?c=(n.player.currentIndex+1)%n.player.songs.length:"pre"==i&&(c=n.player.currentIndex-1<0?n.player.songs.length-1:n.player.currentIndex-1),a("asyncUpdateAudio",{currentIndex:c})}else{var s=Math.round(Math.random()*(n.player.songs.length-1));while(s==n.player.currentIndex)s=Math.round(Math.random()*(n.player.songs.length-1));if("next"==i)if(n.player.currentIndex==n.player.randomSongs[n.player.randomSongs.length-1].index)n.player.randomSongs.push({index:s});else{var o=0;while(o<n.player.randomSongs.length){if(n.player.currentIndex==n.player.randomSongs[o].index)break;o++}s=n.player.randomSongs[o+1].index,console.log("下一首索引",s)}if("pre"==i)if(n.player.currentIndex==n.player.randomSongs[0].index)n.player.randomSongs.unshift({index:s});else{var r=n.player.randomSongs.length-1;while(r>=0){if(n.player.currentIndex==n.player.randomSongs[r].index)break;r--}s=n.player.randomSongs[r-1].index,console.log("上一首索引",s)}a("asyncUpdateAudio",{currentIndex:s})}},onEnded:function(e){var t=e.state,n=e.dispatch,a=e.commit;3==t.player.playType?(t.audio.currentTime=0,a("play")):(0==t.player.playType&&t.player.currentIndex!=t.player.songs.length-1||2==t.player.playType)&&n("cutSong",{type:"next"})},asyncUpdateIsLock:function(e,t){e.state;var n=e.commit,a=(e.dispatch,t.isLock);n("updateIsLock",a)},clearSongs:function(e){e.state;var t=e.commit;e.dispatch;t("updateSongs",{songs:[]}),t("updateAudio",{currentIndex:-1,audio:{id:0,url:"",name:"",alia:[""],artist:[{id:0,name:""}],album:{id:0,name:"",picUrl:""},maxTime:0,currentTime:0}})},addNextSong:function(e,t){var n=e.state,a=e.commit,i=(e.dispatch,t.songs);if(1==i.length){var c=i[0];console.log(c);var s=-1,o=n.player.songs.some((function(e){return s++,c.id==e.id}));o?(s<n.player.currentIndex&&(n.player.currentIndex-=1),n.player.songs.splice(s,1),a("addSongs",{songs:[c]})):a("addSongs",{songs:[c]})}else{var r=i.filter((function(e){return!n.player.songs.some((function(t){return e.id==t.id}))}));console.log("要添加的歌曲列表",r),a("addSongs",{songs:r})}},asyncRemoveSong:function(e,t){var n=e.state,a=e.commit,i=e.dispatch,c=t.removeIndex;a("removeSong",{removeIndex:c}),0!=n.player.songs.length?c==n.player.currentIndex?(c==n.player.songs.length&&(n.player.currentIndex-=1),i("asyncUpdateAudio",{currentIndex:n.player.currentIndex})):c<n.player.currentIndex&&(n.player.currentIndex-=1):i("clearSongs")}}},l=n("1da1"),d=(n("96cf"),{namespaced:!0,state:{userInfo:{userId:0,avatarUrl:"",nickname:"",gender:"",birthday:"",signature:""},userState:{isLogin:!1,cookie:""}},mutations:{updateUserInfo:function(e,t){var n=t.profile,a=n.userId,i=n.avatarUrl,c=n.nickname,s=n.gender,o=n.birthday,r=n.signature;e.userInfo={userId:a,avatarUrl:i,nickname:c,gender:s,birthday:o,signature:r}},updateUserState:function(e,t){var n=t.userState;e.userState=n}},actions:{logout:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state,n=e.commit,console.log("退出登入"),t.next=4,r["f"].logout();case 4:return a=t.sent,200==a.code&&(n("updateUserInfo",{profile:{}}),n("updateUserState",{userState:{isLogin:!1,cookie:""}})),t.abrupt("return",!0);case 7:case"end":return t.stop()}}),t)})))()}}}),f=n("a18c"),m=n("5c96"),p={namespaced:!0,state:{collectBox:{isShow:!1},collect:{tracks:[]}},mutations:{updateCollectBoxIsShow:function(e,t){var n=t.isShow;e.collectBox.isShow=n},updateCollectTracks:function(e,t){var n=t.tracks;e.collect.tracks=n}},actions:{asyncUpdateCollectBoxIsShow:function(e,t){e.state;var n=e.commit,a=(e.dispatch,e.rootState),i=t.isShow;return a.UserModule.userState.isLogin||0==i?(n("updateCollectBoxIsShow",{isShow:i}),i||n("updateCollectTracks",{tracks:[]}),!0):(Object(m["MessageBox"])("您未登入！是否跳转登入界面？","提示").then((function(){f["a"].push({path:"/login"})})).catch((function(){})),!1)},asyncUpdateCollectTracks:function(e,t){e.state;var n=e.commit,a=(e.dispatch,e.rootState,t.tracks);n("updateCollectTracks",{tracks:a})},collectClicked:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var a,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.state,e.commit,a=e.dispatch,e.rootState,i=t.tracks,console.log("音乐id列表:",i),0!=i[0]){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,a("asyncUpdateCollectBoxIsShow",{isShow:!0});case 7:c=n.sent,c?a("asyncUpdateCollectTracks",{tracks:i}):console.log("未成功显示");case 9:case"end":return n.stop()}}),n)})))()}}},h={namespaced:!0,state:{createBox:{isShow:!1},create:{model:1,playlist:{id:-1,name:"",desc:"",tags:[]},isOver:!1}},mutations:{updateCreateBoxIsShow:function(e,t){var n=t.isShow;e.createBox.isShow=n},updateCreate:function(e,t){var n=t.model,a=t.playlist;e.create.model=n,e.create.playlist=a},updateIsOver:function(e,t){var n=t.over;console.log("updateIsOver",n),e.create.isOver=n}},actions:{asyncupdateCreateBoxIsShow:function(e,t){e.state;var n=e.commit,a=(e.dispatch,t.isShow),i=t.model,c=void 0===i?1:i,s=t.playlist,o=void 0===s?{id:-1,name:"",desc:"",tags:[]}:s;n("updateCreateBoxIsShow",{isShow:a}),n("updateCreate",{model:c,playlist:o}),n("updateIsOver",{over:!1})}}},y={namespaced:!0,state:{commentQueryData:{t:1,type:0,id:0,content:"",commentId:0,msg:"",rc:"",beRepliedCommentId:0}},mutations:{initCommentQueryData:function(e,t){e.commentQueryData.t=1,e.commentQueryData.type=t.type,e.commentQueryData.id=t.id,e.commentQueryData.content="",e.commentQueryData.commentId=0,e.commentQueryData.msg="快来评论吧！",e.commentQueryData.rc="",e.commentQueryData.beRepliedCommentId=0},updateCommentId:function(e,t){var n=t.commentId,a=t.nickname,i=t.rc,c=t.beRepliedCommentId;e.commentQueryData.t=2,e.commentQueryData.commentId=n,e.commentQueryData.msg="回复："+a,e.commentQueryData.rc=i,e.commentQueryData.beRepliedCommentId=c},deleteCommentId:function(e){e.commentQueryData.t=1,e.commentQueryData.content="",e.commentQueryData.commentId=0,e.commentQueryData.msg="快来评论吧！",e.commentQueryData.rc="",e.commentQueryData.beRepliedCommentId=0},updateContent:function(e,t){e.commentQueryData.content=t}},actions:{}};i["default"].use(c["a"]);t["a"]=new c["a"].Store({modules:{PlayerModule:u,UserModule:d,CollectModule:p,CreateSheetModule:h,CommentModule:y},plugins:[Object(s["a"])(Object(a["a"])({name:"vuex-data",local:{list:["UserModule"]},session:{list:["PlayerModule","CollectModule","CreateSheetModule"]}},"session",{list:["CommentModule","UserModule"],isFilter:!0}))]})},"460b":function(e,t,n){},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=c,e.exports=i,i.id="4678"},"46da":function(e,t,n){},"4ee2":function(e,t,n){},5068:function(e,t,n){"use strict";n("ed0e")},"50ef":function(e,t,n){},"52ee":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("fb6a");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app",attrs:{id:"app"}},[n("TopBar"),n("router-view"),n("Floor"),n("MusicPlayer"),n("Musiclyric"),n("CollectSheet"),n("CreateSheet"),n("el-backtop",{attrs:{target:".app","visibility-height":100,bottom:60}}),n("el-backtop")],1)},c=[],s=(n("2ca0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"topbar-box",style:e.isFixed?"position:fixed;width: 100%;":""},[a("div",{staticClass:"topbar-wrap"},[a("h1",[a("router-link",{staticClass:"web-link",attrs:{to:"/"}},[a("img",{staticClass:"web-logo",attrs:{src:n("93e2"),alt:""}}),e._v(" 简易云音乐 ")])],1),a("ul",{staticClass:"menu-warp"},[a("li",[a("router-link",{class:-1!=["playlist","topplaylist","search"].indexOf(e.$route.name)?"menu-router-link-active":"",attrs:{to:"/","active-class":"menu-router-link-active",exact:""}},[a("em",[e._v("发现音乐")]),a("i",{staticClass:"iconfont icon-shangsanjiaoxing"})])],1),a("li",[a("router-link",{attrs:{to:"/mymusic","active-class":"menu-router-link-active"}},[a("em",[e._v("我的音乐")]),a("i",{staticClass:"iconfont icon-shangsanjiaoxing"})])],1),a("li",[a("router-link",{attrs:{to:"/discoverplaylist","active-class":"menu-router-link-active"}},[a("em",[e._v("歌单")]),a("i",{staticClass:"iconfont icon-shangsanjiaoxing"})])],1),a("li",[a("router-link",{class:-1!=e.$route.fullPath.indexOf("singer")?"menu-router-link-active":"",attrs:{to:"/discoversinger","active-class":"menu-router-link-active"}},[a("em",[e._v("歌手")]),a("i",{staticClass:"iconfont icon-shangsanjiaoxing"})])],1),a("li",[a("router-link",{class:-1!=["mv"].indexOf(e.$route.name)?"menu-router-link-active":"",attrs:{to:"/discovermv","active-class":"menu-router-link-active"}},[a("em",[e._v("MV")]),a("i",{staticClass:"iconfont icon-shangsanjiaoxing"})])],1)]),a("div",{staticStyle:{margin:"19px 30px 0 30px"}},[a("SearchBox")],1),a("div",{staticClass:"user-wrap"},[e.userState.isLogin?a("div",{on:{mouseover:function(t){e.userToolsIsShow=!0},mouseleave:function(t){e.userToolsIsShow=!1}}},[a("router-link",{attrs:{to:"/user/home?id="+e.userInfo.userId}},[a("img",{staticClass:"head-img",attrs:{src:e.userInfo.avatarUrl+"?param=40y40",alt:""}})]),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.userToolsIsShow,expression:"userToolsIsShow"}],staticClass:"user-tools"},[a("li",[a("router-link",{attrs:{to:"/user/home?id="+e.userInfo.userId}},[a("i",{staticClass:"iconfont icon-yonghu"}),a("em",[e._v("我的主页")])])],1),e._m(0),a("li",[a("a",{on:{click:function(t){return t.preventDefault(),e.logoutClicked.apply(null,arguments)}}},[a("i",{staticClass:"iconfont icon-tuichu"}),a("em",[e._v("退出")])])])])],1):a("div",[a("router-link",{staticStyle:{"line-height":"70px",color:"rgb(245, 245, 245)","font-size":"14px"},attrs:{to:"/login"}},[e._v("登入")])],1)])]),a("div",{staticClass:"hr-wrap"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isFixed,expression:"isFixed"}],staticStyle:{height:"75px"}})])}),o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("a",{attrs:{href:"#"}},[n("i",{staticClass:"iconfont icon-shezhi"}),n("em",[e._v("个人设置")])])])}],r=n("1da1"),u=n("5530"),l=(n("96cf"),n("2f62")),d=n("6a40"),f={name:"",components:{SearchBox:d["a"]},data:function(){return{isFixed:!1,userToolsIsShow:!1}},props:{},computed:Object(l["d"])("UserModule",["userInfo","userState"]),watch:{$route:function(){-1!=this.$route.fullPath.indexOf("/mymusic")||"/songplaying"==this.$route.path?this.isFixed=!0:this.isFixed&&(this.isFixed=!1)}},methods:Object(u["a"])(Object(u["a"])({},Object(l["b"])("UserModule",["logout"])),{},{logoutClicked:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return sessionStorage.removeItem("true:PersonalizedPlayList"),sessionStorage.removeItem("false:PersonalizedPlayList"),t.next=4,e.logout();case 4:t.sent,e.$router.push("/");case 6:case"end":return t.stop()}}),t)})))()}}),beforeCreated:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},m=f,p=(n("aba0"),n("2877")),h=Object(p["a"])(m,s,o,!1,null,"73520eb4",null),y=h.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("div",{staticClass:"floor-box"},[e._m(0)]):e._e()},v=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"floor-wrap"},[a("div",{staticClass:"left"},[a("p",{staticClass:"web-service-item"},[a("a",{attrs:{href:"//st.music.163.com/official-terms/service",target:"_blank"}},[e._v("服务条款")]),a("span",{staticClass:"line"},[e._v("|")]),a("a",{attrs:{href:"//st.music.163.com/official-terms/privacy",target:"_blank"}},[e._v("隐私政策")]),a("span",{staticClass:"line"},[e._v("|")]),a("a",{attrs:{href:"//st.music.163.com/official-terms/children",target:"_blank"}},[e._v("儿童隐私政策")]),a("span",{staticClass:"line"},[e._v("|")]),a("a",{attrs:{href:"//music.163.com/st/staticdeal/complaints.html",target:"_blank"}},[e._v("版权投诉指引")]),a("span",{staticClass:"line"},[e._v("|")]),a("a",{attrs:{id:"g_feedback",href:"#",onclick:"nm.x.feedback();return false;",hidefocus:"true"}},[e._v("意见反馈")]),a("span",{staticClass:"line"},[e._v("|")]),a("a",{attrs:{href:"https://music.163.com/ui/resource"}},[e._v("广告合作")])]),a("p",[a("span",{},[e._v("网易公司版权所有©1997-2022")]),a("span",{staticClass:"span"},[e._v("杭州乐读科技有限公司运营：")]),a("a",{attrs:{href:"https://p5.music.126.net/obj/wo3DlcOGw6DClTvDisK1/8282703158/452a/ca0c/3a10/caad83bc8ffaa850a9dc1613d74824fc.png",target:"_blank"}},[e._v("浙网文[2021] 1186-054号")])]),a("p",[a("span",{},[e._v("违法和不良信息举报电话：0571-89853516")]),a("span",{},[e._v("举报邮箱：")]),a("a",{staticClass:"alink",attrs:{href:"mailto:ncm5990@163.com"}},[e._v("ncm5990@163.com")])]),a("p",[a("a",{attrs:{href:"https://beian.miit.gov.cn/#/Integrated/index",rel:"noopener noreferrer",target:"_blank"}},[e._v("粤B2-20090191-18  工业和信息化部备案管理系统网站")]),a("a",{attrs:{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010902002564",rel:"noopener noreferrer",target:"_blank"}},[a("span",{}),a("span",{},[e._v("浙公网安备 33010902002564号")])])])]),a("ul",{staticClass:"right"},[a("div",{staticClass:"author-wrap"},[a("a",{staticClass:"img-a",attrs:{href:"https://github.com/1954418428/jycloud-music",target:"_blank",title:"项目github地址"}},[a("img",{attrs:{src:n("d677"),alt:""}})]),a("p",[e._v("作者：fzy")]),a("p",[e._v("微信：madmanfzy")])]),a("div",{staticClass:"img-wrap"},[a("img",{staticClass:"img-item",attrs:{src:n("b6db"),title:"扫码加作者微信",alt:"微信：madmanfzy"}})])])])}],b={name:"Floor",components:{},data:function(){return{isShow:!0}},props:{},computed:{},watch:{$route:function(){-1!=this.$route.fullPath.indexOf("/mymusic")||"/songplaying"==this.$route.path?this.isShow=!1:this.isShow=!0}},methods:{},beforeCreated:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},k=b,w=(n("c2dd"),Object(p["a"])(k,g,v,!1,null,"3ff34cc2",null)),C=w.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"musicPlayer",staticClass:"music-player-box",class:{show:e.player.isLock,hidden:!e.player.isLock}},[n("audio",{ref:"audioObj",staticStyle:{display:"none"},attrs:{src:e.audio.url,controls:""},on:{play:function(t){return e.updatePlayState({playing:!0})},pause:function(t){return e.updatePlayState({playing:!1})},timeupdate:e.onTimeupdate,loadedmetadata:e.onLoadedmetadata,ended:e.onEnded}}),n("div",{staticClass:"music-player-wrap"},[n("MusicPlayerTools"),n("PlayingSheet")],1),n("div",{staticClass:"lock",on:{click:e.lockMusicPlayer}},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.player.isLock,expression:"player.isLock"}],staticClass:"iconfont icon-shuyi_guansuo"}),n("i",{directives:[{name:"show",rawName:"v-show",value:!e.player.isLock,expression:"!player.isLock"}],staticClass:"iconfont icon-shuyi_kaisuo"})])])},x=[],S=n("7ff8"),I=n("d3c1"),_={name:"MusicPlayer",components:{MusicPlayerTools:S["a"],PlayingSheet:I["a"]},data:function(){return{}},props:{},computed:Object(l["d"])("PlayerModule",["audio","player"]),watch:{},methods:Object(u["a"])(Object(u["a"])(Object(u["a"])({},Object(l["c"])("PlayerModule",["initAudioObj","updatePlayState","onTimeupdate","onLoadedmetadata"])),Object(l["b"])("PlayerModule",["onEnded","asyncUpdateIsLock"])),{},{lockMusicPlayer:function(){this.player.isLock?this.asyncUpdateIsLock({isLock:!1}):this.asyncUpdateIsLock({isLock:!0})}}),beforeCreated:function(){},created:function(){var e=this;this.$nextTick((function(){e.initAudioObj({audioObj:e.$refs.audioObj})}))},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},O=_,P=(n("2adc"),Object(p["a"])(O,j,x,!1,null,"28406e1c",null)),T=P.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.clyric.isShow?n("div",{staticClass:"lyric-wrap"},[n("div",{staticClass:"tool-s"},[n("i",{staticClass:"iconfont icon-suoxiao",attrs:{title:"缩小"},on:{click:e.updateClyricShow}})]),n("Lyric")],1):e._e()},M=[],U=n("8ea4"),D={name:"",components:{Lyric:U["a"]},data:function(){return{playing:!1}},props:{},computed:Object(l["d"])("PlayerModule",["clyric","audio","player"]),watch:{},methods:Object(u["a"])({},Object(l["c"])("PlayerModule",["updateClyricShow"])),beforeCreated:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},$=D,z=(n("beda"),Object(p["a"])($,L,M,!1,null,"666e52c6",null)),A=z.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.collectBox.isShow,expression:"collectBox.isShow"}],staticClass:"collect-sheet-box"},[n("div",{staticClass:"collect-sheet-wrap"},[n("div",{staticClass:"title"},[e._v(" 添加到歌单 "),n("i",{staticClass:"iconfont icon-guanbi",attrs:{title:"关闭"},on:{click:function(t){return e.asyncUpdateCollectBoxIsShow({isShow:!1})}}})]),n("div",{staticClass:"create-sheet",on:{click:function(t){return e.asyncupdateCreateBoxIsShow({isShow:!0})}}},[n("i",{staticClass:"iconfont icon-tianjia"}),e._v(" 新建歌单 ")]),n("ul",{staticClass:"sheet-list"},e._l(e.userCreatedPlaylist,(function(t,a){return n("li",{key:t.id+"-"+a,on:{click:function(n){return e.addSong(t.id)}}},[n("div",[n("img",{staticClass:"s-img",attrs:{src:t.coverImgUrl,alt:""}}),n("span",{staticClass:"s-name"},[e._v(e._s(t.name))]),n("span",{staticClass:"s-count"},[e._v(e._s(t.trackCount)+" 首")])])])})),0)])])},Q=[],E=(n("a434"),n("d3b7"),n("159b"),n("365c")),N={name:"",components:{},data:function(){return{userCreatedPlaylist:[]}},props:{},computed:Object(u["a"])(Object(u["a"])(Object(u["a"])({},Object(l["d"])("CollectModule",["collectBox","collect"])),Object(l["d"])("UserModule",["userInfo"])),Object(l["d"])("CreateSheetModule",["create"])),watch:{"userInfo.userId":{handler:function(){var e=this.userInfo.userId;e?this.initUserPlayList():this.userCreatedPlaylist=[]},immediate:!0},"create.isOver":function(){this.create.isOver&&1==this.create.model&&(console.log(this.create.model,this.create.playlist),this.create.playlist.trackCount=0,this.userCreatedPlaylist.splice(1,0,this.create.playlist))},"collectBox.isShow":{handler:function(){var e=this;this.collectBox.isShow&&E["c"].getUserPlayList(this.userInfo.userId).then((function(t){var n=[];console.log("请求了"),t.playlist.forEach((function(e){e.subscribed||n.push(e)})),e.userCreatedPlaylist=n}))},immediate:!0}},methods:Object(u["a"])(Object(u["a"])(Object(u["a"])({},Object(l["b"])("CollectModule",["asyncUpdateCollectBoxIsShow"])),Object(l["b"])("CreateSheetModule",["asyncupdateCreateBoxIsShow"])),{},{initUserPlayList:function(){},addSong:function(e){var t=this,n=this.collect.tracks,a="";n.forEach((function(e){a+=e+","})),a=a.substring(0,a.lastIndexOf(",")),E["c"].addOrDeleteSong({op:"add",pid:e,tracks:a}).then((function(a){if(console.log(a),200==a.body.code){t.$message({message:"已成功收藏到歌单",type:"success",duration:1500}),t.asyncUpdateCollectBoxIsShow({isShow:!1});for(var i=0;i<t.userCreatedPlaylist.length;i++)if(e==t.userCreatedPlaylist[i].id){t.userCreatedPlaylist[i].trackCount+=n.length;break}t.catchStorage.removeCatchItem("playlistDetail:".concat(e)),t.catchStorage.removeCatchItem("playlistSongs:".concat(e))}else t.$message({message:a.body.message,type:"error",duration:1500})}))}}),beforeCreated:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},R=N,q=(n("e470"),Object(p["a"])(R,B,Q,!1,null,"59ac8771",null)),F=q.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.createBox.isShow,expression:"createBox.isShow"}],staticClass:"create-sheet-box"},[n("div",{staticClass:"create-sheet-wrap"},[n("div",{staticClass:"title"},[e._v(" "+e._s(1==e.create.model?"新建":"修改")+"歌单 "),n("i",{staticClass:"iconfont icon-guanbi",attrs:{title:"关闭"},on:{click:function(t){return e.asyncupdateCreateBoxIsShow({isShow:!1})}}})]),n("div",{staticClass:"playlist"},[n("div",{staticClass:"name-input"},[n("label",{attrs:{for:"name-input"}},[e._v("歌单名：")]),n("el-input",{staticClass:"name-input",attrs:{placeholder:"请输入歌单名",clearable:"",id:"name-input"},model:{value:e.create.playlist.name,callback:function(t){e.$set(e.create.playlist,"name",t)},expression:"create.playlist.name"}})],1),1==e.create.model?n("p",[e._v("可通过“收藏”将音乐添加到新歌单中")]):n("div",[n("div",{staticClass:"desc-input"},[n("div",{staticStyle:{height:"40px","line-height":"40px"}},[n("label",{attrs:{for:"name-input"}},[e._v("标签：")]),e._l(e.create.playlist.tags,(function(t,a){return n("el-tag",{key:t,staticStyle:{"margin-right":"6px"},attrs:{closable:"","disable-transitions":""},on:{close:function(t){return e.closeTag(a)}}},[e._v(" "+e._s(t)+" ")])})),n("span",{directives:[{name:"show",rawName:"v-show",value:0==e.create.playlist.tags.length,expression:"create.playlist.tags.length == 0"}],staticStyle:{"font-size":"14px"}},[e._v("选择适合的标签，最多选3个")])],2),n("div",{staticClass:"categorys"},[n("div",{staticClass:"c-list"},e._l(e.playListCatlist,(function(t){return n("div",{key:t.id,staticClass:"categorys-wrap"},[n("div",{staticClass:"category-item"},[n("i",{class:t.iconClass}),n("span",[e._v(" "+e._s(t.name)+" ")])]),n("ul",{staticClass:"tags-wrap"},e._l(t.subs,(function(t){return n("li",{key:t.name,staticClass:"tag-item"},[n("span",{on:{click:function(n){return e.addTag(t.name)}}},[e._v(" "+e._s(t.name)+" ")])])})),0)])})),0)])]),n("div",{staticClass:"name-input"},[n("label",{attrs:{for:"desc-input"}},[e._v("介绍：")]),n("el-input",{staticClass:"desc-input",attrs:{type:"textarea",placeholder:"请输入歌单描述",clearable:"",id:"desc-input"},model:{value:e.create.playlist.desc,callback:function(t){e.$set(e.create.playlist,"desc",t)},expression:"create.playlist.desc"}})],1)]),n("div",{staticClass:"btn"},[1==e.create.model?n("el-button",{attrs:{type:"primary"},on:{click:e.createPlaylist}},[e._v("新建")]):n("el-button",{attrs:{type:"primary"},on:{click:e.updatePlaylist}},[e._v("保存")]),n("el-button",{attrs:{type:"info"},on:{click:function(t){return e.asyncupdateCreateBoxIsShow({isShow:!1})}}},[e._v("取消")])],1)])])])},J=[],K=(n("b0c0"),n("a4d3"),n("e01a"),n("4c53"),n("e9c4"),n("4de4"),{name:"",components:{},data:function(){return{playListCatlist:[]}},props:{},computed:Object(u["a"])(Object(u["a"])(Object(u["a"])({},Object(l["d"])("CreateSheetModule",["createBox","create"])),Object(l["d"])("CreateSheetModule",["create"])),Object(l["d"])("UserModule",["userInfo"])),watch:{},methods:Object(u["a"])(Object(u["a"])(Object(u["a"])({},Object(l["b"])("CreateSheetModule",["asyncupdateCreateBoxIsShow"])),Object(l["c"])("CreateSheetModule",["updateIsOver","updateCreate"])),{},{createPlaylist:function(){var e=this;this.create.playlist.name?E["c"].createPlaylist(this.create.playlist.name).then((function(t){console.log(t),e.$message({message:"新建歌单成功",type:"success",duration:1500}),e.updateCreate({model:1,playlist:{id:t.id,name:t.playlist.name,coverImgUrl:t.playlist.coverImgUrl,tags:t.playlist.tags,desc:t.playlist.description}}),e.updateIsOver({over:!0}),e.catchStorage.removeCatchItem("userPlayList:".concat(e.userInfo.userId)),e.catchStorage.removeCatchItem("userSubcount:".concat(e.userInfo.userId)),setTimeout((function(){e.asyncupdateCreateBoxIsShow({isShow:!1})}),100)})).catch((function(t){e.$message({message:"新建歌单失败,已报告管理员",type:"error",duration:1500})})):this.$message({message:"请输入歌单名",type:"warning",duration:1500})},updatePlaylist:function(){var e=this,t=this.create.playlist.tags,n="";t.forEach((function(e){n+=e+";"})),n=n.substring(0,n.lastIndexOf(";")),E["c"].updatePlaylist({id:this.create.playlist.id,name:this.create.playlist.name,desc:this.create.playlist.desc,tags:n}).then((function(t){console.log(t),e.$message({message:"修改歌单成功",type:"success",duration:1500}),e.updateIsOver({over:!0}),e.catchStorage.removeCatchItem("userPlayList:".concat(e.userInfo.userId)),e.catchStorage.removeCatchItem("playlistDetail:".concat(e.create.playlist.id)),setTimeout((function(){e.asyncupdateCreateBoxIsShow({isShow:!1})}),100)})).catch((function(e){}))},addTag:function(e){this.create.playlist.tags.length<3?this.create.playlist.tags.push(e):this.$message({message:"最多允许选择3个标签",type:"warning",duration:1500})},closeTag:function(e){this.create.playlist.tags.splice(e,1)}}),beforeCreated:function(){},created:function(){var e=this;if(sessionStorage.getItem("playListCatlist")){var t=JSON.parse(sessionStorage.getItem("playListCatlist"));this.playListCatlist=t}else console.log("请求playListCatlist"),E["c"].getPlayListCatlist().then((function(t){var n=t.categories,a=t.sub,i=function(t){var i={},c=parseInt(t);switch(i.id=c,i.name=n[t],parseInt(t)){case 0:i.iconClass="iconfont icon-duoyuyan";break;case 1:i.iconClass="iconfont icon-gangqin";break;case 2:i.iconClass="iconfont icon-kafei";break;case 3:i.iconClass="iconfont icon-xiaolian";break;case 4:i.iconClass="iconfont icon-yinle1";break}i.subs=a.filter((function(e){return e.category==t})),e.playListCatlist.push(i)};for(var c in n)i(c);sessionStorage.setItem("playListCatlist",JSON.stringify(e.playListCatlist))}))},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}}),V=K,W=(n("02ce"),Object(p["a"])(V,H,J,!1,null,"b6372da4",null)),G=W.exports,X={name:"",components:{TopBar:y,Floor:C,MusicPlayer:T,Musiclyric:A,CollectSheet:F,CreateSheet:G},data:function(){return{}},props:{},computed:{},watch:{},methods:{},beforeCreated:function(){},created:function(){var e=this;this.workerTimer=setInterval((function(){for(var t=0;t<localStorage.length;t++){var n=localStorage.key(t);n.startsWith(e.catchStorage.prefix)&&e.catchStorage.getCatchItem(n)}}),12e5)},mounted:function(){}},Y=X,Z=(n("5c0b"),Object(p["a"])(Y,i,c,!1,null,null,null)),ee=Z.exports,te=n("a18c"),ne=n("4360"),ae=n("c1df"),ie=n.n(ae),ce=n("d4ec"),se=n("bee2"),oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"catch";Object(ce["a"])(this,e),this.prefix=t+"_"}return Object(se["a"])(e,[{key:"setCatchItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=60*n*1e3,i={key:e,value:t,startTime:(new Date).getTime(),expires:a};localStorage.setItem(this.prefix+e,JSON.stringify(i))}},{key:"getCatchItem",value:function(e){var t=JSON.parse(localStorage.getItem(this.prefix+e));if(t){var n=(new Date).getTime();return n-t.startTime>t.expires?(this.removeCatchItem(e),null):t.value}return null}},{key:"removeCatchItem",value:function(e){localStorage.removeItem(this.prefix+e)}},{key:"clearCatch",value:function(){var e=JSON.parse(JSON.stringify(localStorage));for(var t in e)t.startsWith(this.prefix)&&localStorage.removeItem(t)}}]),e}(),re=(n("4ee2"),n("3a10"),n("0fae"),n("5c96")),ue=n.n(re),le=n("caf9");a["default"].use(ue.a),a["default"].use(le["a"]),a["default"].prototype.$eventBus=new a["default"],a["default"].config.productionTip=!1,a["default"].prototype.moment=ie.a,a["default"].prototype.formatTime=function(e){e=parseInt(e);var t=Math.floor(e/60);return e-=60*t,("0"+t).slice(-2)+":"+("0"+e).slice(-2)},a["default"].prototype.catchStorage=new oe,a["default"].prototype.parseCount=function(e){return e<1e4?e:e<1e8?parseInt(e/1e4)+"万":parseInt(e/1e8)+"亿"},new a["default"]({router:te["a"],store:ne["a"],render:function(e){return e(ee)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},6093:function(e,t,n){"use strict";n("460b")},"6a40":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-box"},[n("div",{staticClass:"search-wrap"},[n("span",{staticClass:"parent"},[n("i",{staticClass:"iconfont icon-sousuo",staticStyle:{"margin-left":"8px"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.keywords,expression:"keywords"}],staticClass:"search-input",attrs:{type:"text",placeholder:"音乐/歌手/mv/用户"},domProps:{value:e.keywords},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchSubmit.apply(null,arguments)},input:[function(t){t.target.composing||(e.keywords=t.target.value)},e.inputKey],focus:function(t){e.keywords?e.searchReslutIsShow=!0:e.searchReslutIsShow=!1},blur:e.inputBlur}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.searchReslutIsShow,expression:"searchReslutIsShow"}],staticClass:"search-reslut"},[e.keywords?n("p",{staticClass:"user-item"},[n("router-link",{attrs:{to:"/search?keywords="+e.keywords+"&type=1002"}},[e._v("搜索“"+e._s(e.keywords)+"”相关用户 >")])],1):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.songs&&e.songs.length,expression:"songs && songs.length"}],staticClass:"song-item"},[e._m(0),n("ul",e._l(e.songs,(function(t){return n("li",{key:t.id},[n("router-link",{attrs:{to:"/songplaying?id="+t.id}},[e._v(" "+e._s(t.name)+"-"+e._s(t.artists[0].name)+" ")])],1)})),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.artists&&e.artists.length,expression:"artists && artists.length"}],staticClass:"singer-item"},[e._m(1),n("ul",e._l(e.artists,(function(t){return n("li",{key:t.id},[n("router-link",{attrs:{to:"/singer?id="+t.id}},[e._v(" "+e._s(t.name)+" ")])],1)})),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.albums&&e.albums.length,expression:"albums && albums.length"}],staticClass:"album-item"},[e._m(2),n("ul",e._l(e.albums,(function(t){return n("li",{key:t.id},[n("router-link",{attrs:{to:"/album?id="+t.id}},[e._v(" "+e._s(t.name)+"-"+e._s(t.artist.name)+" ")])],1)})),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.playlists&&e.playlists.length,expression:"playlists && playlists.length"}],staticClass:"playlist-item"},[e._m(3),n("ul",e._l(e.playlists,(function(t){return n("li",{key:t.id},[n("router-link",{attrs:{to:"/playlist?id="+t.id}},[e._v(" "+e._s(t.name)+" ")])],1)})),0)])])])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("i",{staticClass:"iconfont icon-yinle"}),e._v(" 单曲 ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("i",{staticClass:"iconfont icon-yonghu"}),e._v(" 歌手 ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("i",{staticClass:"iconfont icon-zhuanji",staticStyle:{position:"relative",left:"-3px"}}),e._v(" 专辑 ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("i",{staticClass:"iconfont icon-gedan1",staticStyle:{position:"relative",left:"-3px"}}),e._v(" 歌单 ")])}],c=n("1da1"),s=(n("96cf"),n("365c")),o={name:"SearchBox",components:{},data:function(){return{searchReslutIsShow:!1,keywords:"",albums:[],artists:[],playlists:[],songs:[]}},props:{searchKey:{type:String}},computed:{},watch:{searchKey:{handler:function(){this.keywords||(this.keywords=this.searchKey)},immediate:!0},"$route.query.type":{handler:function(){this.$route.query.type&&this.searchKey==this.$route.query.keywords&&(this.keywords=this.$route.query.keywords)}}},methods:{searchSubmit:function(){this.keywords&&(this.$router.push({path:"/search?keywords=".concat(this.keywords,"&type=1")}),this.$emit("emitInputEnter"),this.$emit("emitInputValue",this.keywords),this.searchReslutIsShow=!1)},inputKey:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,i,c,o,r,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.target.value,t.keywords=a,!a){n.next=17;break}return n.next=5,s["f"].suggestSearch(a);case 5:if(i=n.sent,c=i.result,o=c.albums,r=c.artists,u=c.playlists,l=c.songs,t.albums=o||[],t.artists=r||[],t.playlists=u||[],t.songs=l||[],0!=t.albums.length||0!=t.artists.length||0!=t.playlists.length||0!=t.songs.length){n.next=14;break}return t.searchReslutIsShow=!1,n.abrupt("return");case 14:t.searchReslutIsShow=!0,n.next=22;break;case 17:t.albums=[],t.artists=[],t.playlists=[],t.songs=[],t.searchReslutIsShow=!1;case 22:case"end":return n.stop()}}),n)})))()},inputBlur:function(e,t){var n=this;setTimeout((function(){n.searchReslutIsShow=!1}),100)}},beforeCreated:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},r=o,u=(n("dc4c"),n("2877")),l=Object(u["a"])(r,a,i,!1,null,"7a8f3110",null);t["a"]=l.exports},"6be9":function(e,t,n){},"7ff8":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top"},[a("a",{staticClass:"head-img",attrs:{href:""}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.audio.album.picUrl,error:n("8b3c"),loading:n("8b3c")},expression:"{\n          src: audio.album.picUrl,\n          error: require('@/assets/img/音乐.png'),\n          loading: require('@/assets/img/音乐.png')\n        }"}],attrs:{alt:""}}),e._v(" "+e._s(e.audio.author)+" ")]),a("div",{staticClass:"audio-name"},[a("a",{ref:"srcollText",staticStyle:{"font-weight":"600"},attrs:{href:"#",title:e.audio.name}},[e._v(" "+e._s(e.audio.name)+" ")])]),a("div",{staticClass:"audio-ar"},e._l(e.audio.artist,(function(t){return a("router-link",{key:t.id,attrs:{to:"/singer?id="+t.id}},[e._v(" "+e._s(t.name)+" ")])})),1),a("div",{staticClass:"music-operation"},[a("i",{staticClass:"pre-btn iconfont icon-shangyishoushangyige",attrs:{title:"上一首"},on:{click:function(t){return e.cutSong({type:"pre"})}}}),e.player.playing?a("i",{staticClass:"zangting-btn iconfont icon-zanting",attrs:{title:"暂停"},on:{click:e.pause}}):a("i",{staticClass:"bofang-btn iconfont icon-bofang",attrs:{title:"播放"},on:{click:e.play}}),a("i",{staticClass:"next-btn iconfont icon-xiayigexiayishou",attrs:{title:"下一首"},on:{click:function(t){return e.cutSong({type:"next"})}}})])]),a("div",{staticClass:"tool"},[a("div",{staticClass:"music-slider"},[a("el-slider",{staticClass:"slider",attrs:{"show-tooltip":!1,max:e.audio.maxTime},on:{change:e.changeCurrentTime},nativeOn:{mousedown:function(t){return e.updateIsDrag(!0)}},model:{value:e.audio.currentTime,callback:function(t){e.$set(e.audio,"currentTime",t)},expression:"audio.currentTime"}}),a("span",{staticClass:"music-time"},[a("em",[e._v(e._s(e.formatTime(e.audio.currentTime)))]),e._v(" / "+e._s(e.formatTime(e.audio.maxTime))+" ")])],1),a("div",{staticClass:"m-t"},[a("span",{staticClass:"music-volume"},[a("i",{staticClass:"iconfont icon-volumedown",attrs:{title:"减音"},on:{click:function(t){return e.updateVolume({type:"down"})}}}),e._v(" "+e._s(e.player.volume)+" "),a("i",{staticClass:"iconfont icon-volumeup",attrs:{title:"增音"},on:{click:function(t){return e.updateVolume({type:"up"})}}}),a("i",{staticClass:"iconfont icon-shengyinjingyin",style:0==e.player.volume||e.player.muted?"color:red":"",attrs:{title:"静音"},on:{click:function(t){return e.updateVolume({type:"muted"})}}})]),a("span",{staticClass:"play-type"},[a("i",{directives:[{name:"show",rawName:"v-show",value:0==e.player.playType,expression:"player.playType == 0"}],staticClass:"iconfont icon-shuzishunxu",attrs:{title:"顺序"},on:{click:e.updatePlayType}}),a("i",{directives:[{name:"show",rawName:"v-show",value:1==e.player.playType,expression:"player.playType == 1"}],staticClass:"iconfont icon-24gl-shuffle",attrs:{title:"随机"},on:{click:e.updatePlayType}}),a("i",{directives:[{name:"show",rawName:"v-show",value:2==e.player.playType,expression:"player.playType == 2"}],staticClass:"iconfont icon-xunhuan",attrs:{title:"循环"},on:{click:e.updatePlayType}}),a("i",{directives:[{name:"show",rawName:"v-show",value:3==e.player.playType,expression:"player.playType == 3"}],staticClass:"iconfont icon-danquxunhuan",attrs:{title:"单曲循环"},on:{click:e.updatePlayType}})]),a("span",{staticClass:"op"},[a("i",{staticClass:"iconfont icon-lianjie",staticStyle:{"font-size":"20px"},attrs:{title:"链接"}}),a("i",{staticClass:"iconfont icon-shoucang",attrs:{title:"收藏"},on:{click:function(t){return e.collectClicked({tracks:[e.audio.id]})}}}),a("i",{staticClass:"iconfont icon-xiazai",attrs:{title:"下载"}})]),a("span",{staticClass:"music-lyric"},[a("i",{staticClass:"iconfont icon-geciweidianji",style:e.clyric.isShow?"color:rgb(236,65,65)":"",attrs:{title:(e.clyric.isShow?"关闭":"显示")+"歌词界面"},on:{click:e.updateClyricShow}})])])])])},i=[],c=n("5530"),s=n("2f62"),o={name:"MusicPlayerTools",components:{},data:function(){return{}},props:{},computed:Object(s["d"])("PlayerModule",["audio","player","clyric"]),watch:{},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(s["c"])("PlayerModule",["play","pause","updateVolume","updatePlayType","changeCurrentTime","onTimeupdate","updateIsDrag","updateClyricShow"])),Object(s["b"])("PlayerModule",["cutSong"])),Object(s["b"])("CollectModule",["collectClicked"])),beforeCreated:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},r=o,u=(n("5068"),n("2877")),l=Object(u["a"])(r,a,i,!1,null,"793ecf94",null);t["a"]=l.exports},"8b3c":function(e,t,n){e.exports=n.p+"img/音乐.a5672634.png"},"8ea4":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"lyricBox",staticClass:"lyric-box"},[a("div",{staticClass:"left-box"},[a("div",{staticClass:"left-top"},[a("div",{staticClass:"music-img",class:e.player.playing?"playing":"playing noPlaying",attrs:{title:e.player.playing?"暂停音乐":"播放音乐"},on:{click:e.cpClicked}},[a("img",{staticClass:"changpian-img",attrs:{src:n("e598"),alt:""}}),e.audio.album.picUrl?a("img",{staticClass:"m-img",attrs:{src:e.audio.album.picUrl,alt:""}}):e._e()])])]),a("div",{staticClass:"right-box"},[a("div",{staticClass:"music-title"},[a("h2",[a("a",{attrs:{href:"#"}},[e._v(e._s(e.audio.name))])]),a("h3",e._l(e.audio.artist,(function(t,n){return a("router-link",{key:t.id+"-"+n,attrs:{to:"/singer?id="+t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)]),a("ul",{ref:"lyricUL",staticClass:"lyric-ul",attrs:{id:"lyric-ul"}},e._l(e.lyricArr,(function(t,n){return a("li",{key:t.uid+"-"+n,ref:"lyricLI",refInFor:!0,staticClass:"lyric-li",class:e.lyricActiveIndex==n?"lyric-active":"",attrs:{"data-index":n}},[a("i",{staticClass:"iconfont icon-youjiantou"}),a("span"),e._v(" "+e._s(t.lyric)+" "),a("i",{staticClass:"iconfont icon-yinle",attrs:{title:"跳转到"+t.oldTime},on:{click:function(a){return e.tiaozhuan(n,t.time)}}})])})),0),a("div",{staticClass:"offsetTime-wrap"},[a("i",{staticClass:"iconfont icon-xiangzuojiantou",on:{click:function(t){return e.updateOffsetTime("down")}}}),a("span",[e._v(e._s(e.offsetTime)+"s")]),a("i",{staticClass:"iconfont icon-xiangyoujiantou",on:{click:function(t){return e.updateOffsetTime("up")}}})])])])},i=[],c=n("5530"),s=(n("ac1f"),n("1276"),n("d3b7"),n("159b"),n("466d"),n("fb6a"),n("498a"),n("25f0"),n("4e82"),n("365c")),o=n("2f62"),r={name:"",components:{},data:function(){return{lyric:"",lyricArr:[],lyricActiveIndex:0,lyricULHeight:0,lyricLiHeight:0,scrollHeight:0,offsetTime:0,top:0}},props:{},computed:Object(o["d"])("PlayerModule",["audio","player"]),watch:{"audio.id":{handler:function(){if(0==this.audio.id)return this.lyric="",void(this.lyricArr=[]);this.initLyric(this.audio.id)},deep:!0,immediate:!0},"audio.currentTime":{handler:function(){for(var e=0;e<this.lyricArr.length;e++)if(this.lyricArr[e].time>this.audio.currentTime+this.offsetTime){if(this.$refs.lyricLI[e-1].dataset.index!=this.lyricActiveIndex){var t=this.lyricActiveIndex*this.lyricLiHeight-4*this.lyricLiHeight;this.$refs.lyricUL.scrollTo(0,t)}this.lyricActiveIndex=this.$refs.lyricLI[e-1].dataset.index;break}},deep:!0,immediate:!0}},methods:Object(c["a"])(Object(c["a"])({},Object(o["c"])("PlayerModule",["play","pause","changeCurrentTime"])),{},{cpClicked:function(){this.player.playing?this.pause():this.play()},parseLyric:function(e){var t=/\n/,n=e.split(t);t=/\[\d{2}:\d{2}.\d{2,3}\]/;var a=[];return n.forEach((function(e){var n={oldTime:"",time:0,lyric:""};if(""!=e&&null!=e){var i=e.match(t),c=i?i[0].slice(1):"";c=c?c.slice(0,c.length-1):"";var s=e.indexOf("]"),o=e.slice(s+1,e.length);n.oldTime=c.split(".")[0];var r=c.split(":"),u=parseInt(r[0]),l=r[1].split("."),d=parseInt(l[0]),f=parseInt(l[1]),m=60*u+d+f/1e3;n.time=m,n.lyric=o?o.trim():"···",n.uid=Math.random().toString().slice(-6),a.push(n)}})),a.sort((function(e,t){return e.time-t.time})),a.push({time:a[a.length-1].time+1,lyric:"音乐播放结束",uid:Math.random().toString().slice(-6)}),a.push({time:a[a.length-1].time+1,lyric:"",uid:Math.random().toString().slice(-6)}),a},initLyric:function(e){var t=this;s["e"].getLyric(e).then((function(e){t.lyric=e.lrc.lyric,t.lyricArr=t.parseLyric(t.lyric),t.$nextTick((function(){t.lyricULHeight=t.$refs.lyricUL.offsetHeight,t.lyricLiHeight=t.$refs.lyricLI[0].offsetHeight,t.scrollHeight=t.$refs.lyricLI.length*t.lyricLiHeight,t.top=0,t.offsetTime=0,t.$refs.lyricUL.scrollTo(0,0);for(var e=0;e<t.lyricArr.length;e++)if(t.audio.currentTime<t.lyricArr[e].time){t.lyricActiveIndex=e-1;var n=t.lyricActiveIndex*t.lyricLiHeight-5*t.lyricLiHeight;t.$refs.lyricUL.scrollTo(0,n);break}}))}))},tiaozhuan:function(e,t){this.lyricActiveIndex=e;var n=this.lyricActiveIndex*this.lyricLiHeight-5*this.lyricLiHeight;this.$refs.lyricUL.scrollTo(0,n),this.changeCurrentTime(t)},updateOffsetTime:function(e){"up"==e?this.offsetTime+=.5:this.offsetTime-=.5}}),beforeCreated:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},u=r,l=(n("6093"),n("2877")),d=Object(l["a"])(u,a,i,!1,null,"28df7ee6",null);t["a"]=d.exports},"907e":function(e,t,n){},"93e2":function(e,t,n){e.exports=n.p+"img/web-logo.6556cb87.jpeg"},"9c0c":function(e,t,n){},a18c:function(e,t,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0");var a=n("2b0e"),i=n("8c4f"),c=(n("b64b"),n("4360"));function s(e){var t=e.meta.requiredQuery,n=e.query;if(t&&0!=t.length){var a=Object.keys(n);if(0==a.length)return!1;for(var i=0;i<t.length;i++){if(-1==a.indexOf(t[i]))return!1;if(console.log(n[t[i]]),!n[t[i]])return console.log("参数无值!无效！"),!1}}return!0}function o(e){var t=e.meta.fullQuery,n=e.query;if(t&&0!=t.length){for(var a=Object.keys(n),i=t.length,c=0;c<t.length;c++)if(-1!=a.indexOf(t[c])&&(i--,!n[t[c]]))return!1;return 0==i||i==t.length}}var r=function(e,t,n){document.title=e.meta.title,0!=s(e)&&0!=o(e)||n({path:"/notFound",replace:!0});var a=["/playlist?id=daily"];if(e.meta.isLogin||-1!=a.indexOf(e.fullPath)){var i=c["a"].state.UserModule;i.userState.isLogin?n():n({path:"/login"})}else n()},u=i["a"].prototype.push;i["a"].prototype.push=function(e){return u.call(this,e).catch((function(e){return e}))},a["default"].use(i["a"]);var l=[{path:"/",name:"index",component:function(){return n.e("chunk-7be2e54f").then(n.bind(null,"1e4b"))},meta:{title:"简易云音乐"}},{path:"/playlist",name:"playlist",component:function(){return Promise.all([n.e("chunk-1e0be85a"),n.e("chunk-5f48d303")]).then(n.bind(null,"ecf3"))},meta:{title:"歌单详情",requiredQuery:["id"]}},{path:"/album",name:"album",component:function(){return Promise.all([n.e("chunk-1e0be85a"),n.e("chunk-3ab52690")]).then(n.bind(null,"7f2c"))},meta:{title:"专辑详情"}},{path:"/discoverPlayList",name:"discoverplaylist",component:function(){return n.e("chunk-7908f210").then(n.bind(null,"f6a7"))},meta:{title:"发现歌单-简易云音乐",fullQuery:["cat"]}},{path:"/topplaylist",name:"topplaylist",component:function(){return Promise.all([n.e("chunk-1e0be85a"),n.e("chunk-5a90ac64")]).then(n.bind(null,"da9a"))},meta:{title:"排行榜-简易云音乐",requiredQuery:["id"]}},{path:"/discoversinger",name:"discoversinger",component:function(){return n.e("chunk-7ac5f67e").then(n.bind(null,"b376"))},meta:{title:"发现歌手-简易云音乐",fullQuery:["area","type","initial"]}},{path:"/discovermv",name:"discovermv",component:function(){return n.e("chunk-0a76e288").then(n.bind(null,"436d"))},meta:{title:"发现mv-简易云音乐",fullQuery:["area","type","order"]}},{path:"/songplaying",name:"songplaying",component:function(){return n.e("chunk-377724b6").then(n.bind(null,"6804"))},meta:{title:"音乐播放ing",requiredQuery:["id"]}},{path:"/mv",name:"mv",component:function(){return n.e("chunk-ea28b85a").then(n.bind(null,"dbd0"))},meta:{title:"mv详情",requiredQuery:["id"]}},{path:"/singer",name:"singer",component:function(){return n.e("chunk-3605bf74").then(n.bind(null,"2824"))},redirect:"/singer/hotmusic",meta:{title:"歌手详情",requiredQuery:["id"]},children:[{path:"",name:"hotmusic",component:function(){return n.e("chunk-903b7074").then(n.bind(null,"a735"))},alias:"/singer",meta:{title:"歌手热门歌曲",requiredQuery:["id"]}},{path:"allalbum",name:"allalbum",component:function(){return n.e("chunk-70506a48").then(n.bind(null,"85c6"))},meta:{title:"歌手专辑详情",requiredQuery:["id"],fullQuery:["offset","limit"]}},{path:"allmv",name:"allmv",component:function(){return n.e("chunk-da33155c").then(n.bind(null,"6083"))},meta:{title:"歌手mv",requiredQuery:["id"],fullQuery:["offset","limit"]}},{path:"singerdesc",name:"singerdesc",component:function(){return n.e("chunk-07bf5307").then(n.bind(null,"4af4"))},meta:{title:"歌手简介",requiredQuery:["id"]}}]},{path:"/mymusic",name:"mymusic",component:function(){return n.e("chunk-3e6d6021").then(n.bind(null,"316d"))},meta:{isLogin:!0,title:"我的音乐"},children:[{path:"myplaylist",name:"mymusic-myplaylist",component:function(){return Promise.all([n.e("chunk-1e0be85a"),n.e("chunk-657c6584")]).then(n.bind(null,"2f96"))},meta:{isLogin:!0,title:"我的歌单",requiredQuery:["id"]}},{path:"myartist",name:"mymusic-myartist",component:function(){return n.e("chunk-5047abf8").then(n.bind(null,"fb0f"))},meta:{isLogin:!0,title:"我收藏的歌手"}},{path:"mymv",name:"mymusic-mymv",component:function(){return n.e("chunk-6850cf16").then(n.bind(null,"48e0"))},meta:{isLogin:!0,title:"我收藏的mv"}}]},{path:"/user/home",name:"userhome",component:function(){return n.e("chunk-696ce6f5").then(n.bind(null,"fc51"))},meta:{title:"用户中心",requiredQuery:["id"]}},{path:"/login",name:"login",component:function(){return n.e("chunk-47fc3411").then(n.bind(null,"e6ef"))},meta:{title:"登入-简易云音乐"}},{path:"/search",name:"search",component:function(){return n.e("chunk-ffee36ec").then(n.bind(null,"72e9"))},meta:{title:"搜索-简易云音乐",requiredQuery:["keywords","type"]}},{path:"/notFound",name:"notFound",component:function(){return n.e("chunk-14cd21cd").then(n.bind(null,"a925"))},meta:{title:"网页找不到"}}],d=new i["a"]({mode:"history",routes:l,scrollBehavior:function(e,t,n){return n||{x:0,y:0}}});d.beforeEach(r);t["a"]=d},a9c1:function(e,t,n){},aba0:function(e,t,n){"use strict";n("01a9")},b6db:function(e,t,n){e.exports=n.p+"img/wx-erweima.9cdb4e7e.jpg"},beda:function(e,t,n){"use strict";n("52ee")},c2dd:function(e,t,n){"use strict";n("fc63")},d3c1:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bofang-list"},[n("div",{staticClass:"list-h"},[e._v(" 播放列表 "),n("span",[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return t.preventDefault(),e.addAllSong.apply(null,arguments)}}},[n("i",{staticClass:"iconfont icon-shoucang"}),e._v(" 收藏全部 ")]),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return t.preventDefault(),e.clearSongs.apply(null,arguments)}}},[n("i",{staticClass:"iconfont icon-shanchu"}),e._v(" 清除全部 ")])])]),n("ul",e._l(e.player.songs,(function(t,a){return n("li",{key:t.id,on:{dblclick:function(t){return e.asyncUpdateAudio({currentIndex:a})}}},[n("div",{staticClass:"c1",style:a==e.player.currentIndex?"color:rgb(236,65,65);font-weight: 700;":""},[n("span",{attrs:{title:"播放"},on:{click:function(t){return e.asyncUpdateAudio({currentIndex:a})}}},[n("i",{staticClass:"iconfont icon-bofang"})]),n("a",{attrs:{href:"javascript:void(0)",title:t.name},on:{click:function(n){return n.preventDefault(),e.gotoSongplaying(a,t.id)}}},[e._v(" "+e._s(t.name)+" ")]),t.mv?n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(n){return n.preventDefault(),e.gotoMv(t.mv)}}},[n("i",{staticClass:"iconfont icon-MV"})]):e._e()]),n("div",{staticClass:"c2"},[n("i",{staticClass:"iconfont icon-shanchu",attrs:{title:"移出列表"},on:{click:function(t){return e.asyncRemoveSong({removeIndex:a})}}}),n("i",{staticClass:"iconfont icon-xiazai"}),n("i",{staticClass:"iconfont icon-shoucang",attrs:{title:"收藏音乐"},on:{click:function(n){return e.collectClicked({tracks:[t.id]})}}})]),n("div",{staticClass:"c3",style:a==e.player.currentIndex?"color:rgb(236,65,65);font-weight: 700;":""},e._l(t.ar,(function(t,a){return n("router-link",{key:t.id+"-"+a,attrs:{to:"/singer?id="+t.id}},[e._v(" "+e._s(t.name+" ")+" ")])})),1),n("div",{staticClass:"c4"},[n("span",[e._v(" "+e._s(e.formatTime(t.dt/1e3))+" ")])]),e._m(0,!0)])})),0)])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c5"},[n("i",{staticClass:"iconfont icon-lianjie"})])}],c=n("5530"),s=(n("d3b7"),n("159b"),n("2f62")),o=(n("365c"),{name:"PlayingSheet",components:{},data:function(){return{}},props:{},computed:Object(s["d"])("PlayerModule",["player"]),watch:{},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(s["c"])("PlayerModule",["pause"])),Object(s["b"])("PlayerModule",["asyncUpdateAudio","clearSongs","asyncRemoveSong","asyncUpdateIsLock"])),Object(s["b"])("CollectModule",["collectClicked"])),{},{gotoSongplaying:function(e,t){this.$router.push({path:"/songplaying?id=".concat(t)}),this.asyncUpdateIsLock({isLock:!1}),e!=this.player.currentIndex&&this.asyncUpdateAudio({currentIndex:e})},gotoMv:function(e){console.log(e),this.pause(),this.$router.push({path:"/mv?id=".concat(e)}),this.asyncUpdateIsLock({isLock:!1})},addAllSong:function(){if(this.player.songs&&this.player.songs.length){var e=[];this.player.songs.forEach((function(t){e.push(t.id)})),this.collectClicked({tracks:e})}}}),beforeCreated:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}}),r=o,u=(n("342b"),n("2877")),l=Object(u["a"])(r,a,i,!1,null,"1ae0512d",null);t["a"]=l.exports},d677:function(e,t,n){e.exports=n.p+"img/github.a80e7cfa.png"},dc4c:function(e,t,n){"use strict";n("a9c1")},e470:function(e,t,n){"use strict";n("907e")},e598:function(e,t,n){e.exports=n.p+"img/唱片.33ee93cf.png"},ed0e:function(e,t,n){},fc63:function(e,t,n){}});
//# sourceMappingURL=app.61fa2274.js.map