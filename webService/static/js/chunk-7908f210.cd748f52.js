(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7908f210"],{"20c2":function(t,e,s){},"4e47":function(t,e,s){"use strict";s("20c2")},"7bdd":function(t,e,s){t.exports=s.p+"img/歌单.ff022558.png"},"8f06":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"song-sheet-item-box",on:{mouseover:function(e){t.bofangBtnIsShow=!0},mouseleave:function(e){t.bofangBtnIsShow=!1}}},[n("router-link",{staticClass:"img-a",attrs:{to:"/playlist?id="+t.songSheetItem.id}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:(t.songSheetItem.picUrl||t.songSheetItem.coverImgUrl)+"?param=160y160",error:s("7bdd"),loading:s("7bdd")},expression:"{\n        src:\n          (songSheetItem.picUrl || songSheetItem.coverImgUrl) +\n          '?param=160y160',\n        error: require('@/assets/img/歌单.png'),\n        loading: require('@/assets/img/歌单.png')\n      }"}],staticClass:"song-sheet-img",attrs:{alt:""}}),n("router-link",{directives:[{name:"show",rawName:"v-show",value:t.bofangBtnIsShow,expression:"bofangBtnIsShow"}],staticClass:"bofang-btn",attrs:{to:"/playlist?id="+t.songSheetItem.id},on:{mouseover:function(e){t.bofangBtnIsShow=!0},mouseleave:function(e){t.bofangBtnIsShow=!1}}},[n("i",{staticClass:"iconfont icon-bofang"})])],1),n("div",{staticClass:"song-sheet-name"},[n("router-link",{attrs:{to:"/playlist?id="+t.songSheetItem.id}},[t._v(" "+t._s(t.songSheetItem.name)+" ")]),t.songSheetItem.creator?n("router-link",{attrs:{to:"/singer"}},[t._v(" by "+t._s(t.songSheetItem.creator.nickname)+" ")]):t._e()],1),n("span",{staticClass:"song-sheet-play-count"},[n("i",{staticClass:"iconfont icon-bofang"}),t._v(" "+t._s(t.parseCount(this.songSheetItem.playCount))+" ")])],1)},a=[],i=s("1da1"),o=(s("96cf"),{name:"",components:{},data:function(){return{bofangBtnIsShow:!1}},props:{songSheetItem:{type:Object,required:!0}},computed:{},watch:{},methods:{},beforeCreated:function(){},created:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}}),r=o,c=(s("a732"),s("2877")),l=Object(c["a"])(r,n,a,!1,null,"609d82e6",null);e["a"]=l.exports},a732:function(t,e,s){"use strict";s("fff2")},f6a7:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"discoverplaylist-box"},[s("div",{staticClass:"discoverplaylist-wrap"},[s("div",{staticClass:"head"},[s("h3",[t._v(" "+t._s(t.page.cat)+" "),s("a",{ref:"choose",staticClass:"choose",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.categorysIsShow=!t.categorysIsShow}}},[t._v(" 选择分类 "),s("i",{staticClass:"iconfont icon-xiangxiajiantou"})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.categorysIsShow,expression:"categorysIsShow"}],ref:"categorys",staticClass:"categorys"},[s("div",{staticClass:"all"},[s("router-link",{attrs:{to:"/discoverplaylist?cat=全部"}},[t._v(" 全部风格 ")])],1),s("div",{staticClass:"c-list"},t._l(t.playListCatlist,(function(e){return s("div",{key:e.id,staticClass:"categorys-wrap"},[s("div",{staticClass:"category-item"},[s("i",{class:e.iconClass}),s("span",[t._v(" "+t._s(e.name)+" ")])]),s("ul",{staticClass:"tags-wrap"},t._l(e.subs,(function(e){return s("li",{key:e.name,staticClass:"tag-item"},[s("router-link",{class:t.page.cat==e.name?"active":"",attrs:{to:"/discoverplaylist?cat="+e.name}},[t._v(t._s(e.name))])],1)})),0)])})),0)]),s("ul",{staticClass:"hot-playlist-wrap"},t._l(t.hotPlayList,(function(e){return s("li",{key:e.id},[s("router-link",{class:t.page.cat==e.name?"active":"",attrs:{to:"/discoverplaylist?cat="+e.name}},[t._v(" "+t._s(e.name)+" ")])],1)})),0)]),t.playList.length?s("div",{staticClass:"sheet-list-wrap"},[s("ul",{staticClass:"sheet-list"},t._l(t.playList,(function(t){return s("li",{key:t.id},[s("SongSheetItem",{attrs:{songSheetItem:t}})],1)})),0),s("p",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]},[t._v("正在加载新数据！")]),t.more?t._e():s("p",[t._v("我们是有底线的！")])]):s("div",{staticStyle:{"font-size":"24px","font-weight":"700"}},[t._v(" 正在努力加载数据！ ")])])])},a=[],i=s("1da1"),o=(s("96cf"),s("99af"),s("b64b"),s("e9c4"),s("4c53"),s("4de4"),s("d3b7"),s("8f06")),r=s("fedc"),c=s("365c"),l={name:"",components:{SongSheetItem:o["a"]},data:function(){return{categorysIsShow:!1,scrollBottom:0,isLoading:!1,more:!0,currentIndex:1,page:{cat:"全部",order:"hot",limit:20,offset:0},hotPlayList:[],playListCatlist:[],playList:[]}},props:{},computed:{},watch:{isLoading:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isLoading){t.next=9;break}return this.currentIndex+=1,this.page.offset=(this.currentIndex-1)*this.page.limit,t.next=5,c["c"].getTopPlayList(this.page);case 5:e=t.sent,this.more=e.more,this.playList=this.playList.concat(e.playlists),this.isLoading=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),"$route.query":{handler:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return 0!=Object.keys(t.$route.query).length&&(console.log("进来了"),t.page.cat=t.$route.query.cat,t.page.offset=0,t.currentIndex=1),e.next=3,c["c"].getTopPlayList(t.page);case 3:s=e.sent,t.playList=s.playlists,t.categorysIsShow=!1;case 6:case"end":return e.stop()}}),e)})))()},deep:!0,immediate:!0}},methods:{scrollHandler:function(){var t=document.documentElement.scrollTop||document.body.scrollTop,e=document.documentElement.clientHeight||document.body.clientHeight,s=document.documentElement.scrollHeight||document.body.scrollHeight,n=s-t-e;this.scrollBottom=n,this.scrollBottom<300&&this.more&&(this.isLoading=!0)},NonTargetIsClicked:function(t){if(this.categorysIsShow){var e=t.target,s=this.$refs.categorys,n=this.$refs.choose,a=Object(r["a"])(e,s,n);a||(this.categorysIsShow=!1)}},initHotPlayList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:sessionStorage.getItem("hotPlayList")?(s=JSON.parse(sessionStorage.getItem("hotPlayList")),t.hotPlayList=s):c["c"].getHotPlayList().then((function(e){t.hotPlayList=e.tags,sessionStorage.setItem("hotPlayList",JSON.stringify(t.hotPlayList))}));case 1:case"end":return e.stop()}}),e)})))()},initPlayListCatlist:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:sessionStorage.getItem("playListCatlist")?(s=JSON.parse(sessionStorage.getItem("playListCatlist")),t.playListCatlist=s):c["c"].getPlayListCatlist().then((function(e){var s=e.categories,n=e.sub,a=function(e){var a={},i=parseInt(e);switch(a.id=i,a.name=s[e],parseInt(e)){case 0:a.iconClass="iconfont icon-duoyuyan";break;case 1:a.iconClass="iconfont icon-gangqin";break;case 2:a.iconClass="iconfont icon-kafei";break;case 3:a.iconClass="iconfont icon-xiaolian";break;case 4:a.iconClass="iconfont icon-yinle1";break}a.subs=n.filter((function(t){return t.category==e})),t.playListCatlist.push(a)};for(var i in s)a(i);sessionStorage.setItem("playListCatlist",JSON.stringify(t.playListCatlist))}));case 1:case"end":return e.stop()}}),e)})))()}},beforeCreated:function(){},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:document.addEventListener("click",t.NonTargetIsClicked),window.addEventListener("scroll",t.scrollHandler),t.initHotPlayList(),t.initPlayListCatlist();case 4:case"end":return e.stop()}}),e)})))()},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){document.removeEventListener("click",this.NonTargetIsClicked),window.removeEventListener("scroll",this.scrollHandler)},destroyed:function(){},activated:function(){},deactivated:function(){}},u=l,f=(s("4e47"),s("2877")),d=Object(f["a"])(u,n,a,!1,null,"f6bd99d8",null);e["default"]=d.exports},fedc:function(t,e,s){"use strict";e["a"]=function(t,e,s){return e.contains(t)||s.contains(t)}},fff2:function(t,e,s){}}]);
//# sourceMappingURL=chunk-7908f210.cd748f52.js.map